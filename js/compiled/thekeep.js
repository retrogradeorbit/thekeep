if(typeof Math.imul == "undefined" || (Math.imul(0xffffffff,5) == 0)) {
    Math.imul = function (a, b) {
        var ah  = (a >>> 16) & 0xffff;
        var al = a & 0xffff;
        var bh  = (b >>> 16) & 0xffff;
        var bl = b & 0xffff;
        // the shift by 0 fixes the sign on the high part
        // the final |0 converts the unsigned value into a signed value
        return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);
    }
}

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.PIXI=t()}}(function(){var t;return function e(t,r,i){function n(s,a){if(!r[s]){if(!t[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){var r=t[s][1][e];return n(r?r:e)},l,l.exports,e,t,r,i)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(e,r,i){(function(e,i){!function(){function n(){}function o(t){return t}function s(t){return!!t}function a(t){return!t}function h(t){return function(){if(null===t)throw new Error("Callback was already called.");t.apply(this,arguments),t=null}}function u(t){return function(){null!==t&&(t.apply(this,arguments),t=null)}}function l(t){return j(t)||"number"==typeof t.length&&t.length>=0&&t.length%1===0}function c(t,e){for(var r=-1,i=t.length;++r<i;)e(t[r],r,t)}function p(t,e){for(var r=-1,i=t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}function d(t){return p(Array(t),function(t,e){return e})}function f(t,e,r){return c(t,function(t,i,n){r=e(r,t,i,n)}),r}function v(t,e){c(Y(t),function(r){e(t[r],r)})}function g(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1}function m(t){var e,r,i=-1;return l(t)?(e=t.length,function(){return i++,e>i?i:null}):(r=Y(t),e=r.length,function(){return i++,e>i?r[i]:null})}function y(t,e){return e=null==e?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),i=Array(r),n=0;r>n;n++)i[n]=arguments[n+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i)}}}function x(t){return function(e,r,i){return t(e,i)}}function b(t){return function(e,r,i){i=u(i||n),e=e||[];var o=m(e);if(0>=t)return i(null);var s=!1,a=0,l=!1;!function c(){if(s&&0>=a)return i(null);for(;t>a&&!l;){var n=o();if(null===n)return s=!0,void(0>=a&&i(null));a+=1,r(e[n],n,h(function(t){a-=1,t?(i(t),l=!0):c()}))}}()}}function _(t){return function(e,r,i){return t(N.eachOf,e,r,i)}}function T(t){return function(e,r,i,n){return t(b(r),e,i,n)}}function E(t){return function(e,r,i){return t(N.eachOfSeries,e,r,i)}}function S(t,e,r,i){i=u(i||n),e=e||[];var o=l(e)?[]:{};t(e,function(t,e,i){r(t,function(t,r){o[e]=r,i(t)})},function(t){i(t,o)})}function w(t,e,r,i){var n=[];t(e,function(t,e,i){r(t,function(r){r&&n.push({index:e,value:t}),i()})},function(){i(p(n.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})}function A(t,e,r,i){w(t,e,function(t,e){r(t,function(t){e(!t)})},i)}function C(t,e,r){return function(i,n,o,s){function a(){s&&s(r(!1,void 0))}function h(t,i,n){return s?void o(t,function(i){s&&e(i)&&(s(r(!0,t)),s=o=!1),n()}):n()}arguments.length>3?t(i,n,h,a):(s=o,o=n,t(i,h,a))}}function M(t,e){return e}function R(t,e,r){r=r||n;var i=l(e)?[]:{};t(e,function(t,e,r){t(y(function(t,n){n.length<=1&&(n=n[0]),i[e]=n,r(t)}))},function(t){r(t,i)})}function O(t,e,r,i){var n=[];t(e,function(t,e,i){r(t,function(t,e){n=n.concat(e||[]),i(t)})},function(t){i(t,n)})}function P(t,e,r){function i(t,e,r,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");return t.started=!0,j(e)||(e=[e]),0===e.length&&t.idle()?N.setImmediate(function(){t.drain()}):(c(e,function(e){var o={data:e,callback:i||n};r?t.tasks.unshift(o):t.tasks.push(o),t.tasks.length===t.concurrency&&t.saturated()}),void N.setImmediate(t.process))}function o(t,e){return function(){s-=1;var r=!1,i=arguments;c(e,function(t){c(a,function(e,i){e!==t||r||(a.splice(i,1),r=!0)}),t.callback.apply(t,i)}),t.tasks.length+s===0&&t.drain(),t.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var s=0,a=[],u={tasks:[],concurrency:e,payload:r,saturated:n,empty:n,drain:n,started:!1,paused:!1,push:function(t,e){i(u,t,!1,e)},kill:function(){u.drain=n,u.tasks=[]},unshift:function(t,e){i(u,t,!0,e)},process:function(){for(;!u.paused&&s<u.concurrency&&u.tasks.length;){var e=u.payload?u.tasks.splice(0,u.payload):u.tasks.splice(0,u.tasks.length),r=p(e,function(t){return t.data});0===u.tasks.length&&u.empty(),s+=1,a.push(e[0]);var i=h(o(u,e));t(r,i)}},length:function(){return u.tasks.length},running:function(){return s},workersList:function(){return a},idle:function(){return u.tasks.length+s===0},pause:function(){u.paused=!0},resume:function(){if(u.paused!==!1){u.paused=!1;for(var t=Math.min(u.concurrency,u.tasks.length),e=1;t>=e;e++)N.setImmediate(u.process)}}};return u}function F(t){return y(function(e,r){e.apply(null,r.concat([y(function(e,r){"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&c(r,function(e){console[t](e)}))})]))})}function D(t){return function(e,r,i){t(d(e),r,i)}}function B(t){return y(function(e,r){var i=y(function(r){var i=this,n=r.pop();return t(e,function(t,e,n){t.apply(i,r.concat([n]))},n)});return r.length?i.apply(this,r):i})}function L(t){return y(function(e){var r=e.pop();e.push(function(){var t=arguments;i?N.setImmediate(function(){r.apply(null,t)}):r.apply(null,t)});var i=!0;t.apply(this,e),i=!1})}var I,N={},U="object"==typeof self&&self.self===self&&self||"object"==typeof i&&i.global===i&&i||this;null!=U&&(I=U.async),N.noConflict=function(){return U.async=I,N};var k=Object.prototype.toString,j=Array.isArray||function(t){return"[object Array]"===k.call(t)},X=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},Y=Object.keys||function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e},G="function"==typeof setImmediate&&setImmediate,z=G?function(t){G(t)}:function(t){setTimeout(t,0)};"object"==typeof e&&"function"==typeof e.nextTick?N.nextTick=e.nextTick:N.nextTick=z,N.setImmediate=G?z:N.nextTick,N.forEach=N.each=function(t,e,r){return N.eachOf(t,x(e),r)},N.forEachSeries=N.eachSeries=function(t,e,r){return N.eachOfSeries(t,x(e),r)},N.forEachLimit=N.eachLimit=function(t,e,r,i){return b(e)(t,x(r),i)},N.forEachOf=N.eachOf=function(t,e,r){function i(t){a--,t?r(t):null===o&&0>=a&&r(null)}r=u(r||n),t=t||[];for(var o,s=m(t),a=0;null!=(o=s());)a+=1,e(t[o],o,h(i));0===a&&r(null)},N.forEachOfSeries=N.eachOfSeries=function(t,e,r){function i(){var n=!0;return null===s?r(null):(e(t[s],s,h(function(t){if(t)r(t);else{if(s=o(),null===s)return r(null);n?N.setImmediate(i):i()}})),void(n=!1))}r=u(r||n),t=t||[];var o=m(t),s=o();i()},N.forEachOfLimit=N.eachOfLimit=function(t,e,r,i){b(e)(t,r,i)},N.map=_(S),N.mapSeries=E(S),N.mapLimit=T(S),N.inject=N.foldl=N.reduce=function(t,e,r,i){N.eachOfSeries(t,function(t,i,n){r(e,t,function(t,r){e=r,n(t)})},function(t){i(t,e)})},N.foldr=N.reduceRight=function(t,e,r,i){var n=p(t,o).reverse();N.reduce(n,e,r,i)},N.transform=function(t,e,r,i){3===arguments.length&&(i=r,r=e,e=j(t)?[]:{}),N.eachOf(t,function(t,i,n){r(e,t,i,n)},function(t){i(t,e)})},N.select=N.filter=_(w),N.selectLimit=N.filterLimit=T(w),N.selectSeries=N.filterSeries=E(w),N.reject=_(A),N.rejectLimit=T(A),N.rejectSeries=E(A),N.any=N.some=C(N.eachOf,s,o),N.someLimit=C(N.eachOfLimit,s,o),N.all=N.every=C(N.eachOf,a,a),N.everyLimit=C(N.eachOfLimit,a,a),N.detect=C(N.eachOf,o,M),N.detectSeries=C(N.eachOfSeries,o,M),N.detectLimit=C(N.eachOfLimit,o,M),N.sortBy=function(t,e,r){function i(t,e){var r=t.criteria,i=e.criteria;return i>r?-1:r>i?1:0}N.map(t,function(t,r){e(t,function(e,i){e?r(e):r(null,{value:t,criteria:i})})},function(t,e){return t?r(t):void r(null,p(e.sort(i),function(t){return t.value}))})},N.auto=function(t,e,r){function i(t){m.unshift(t)}function o(t){var e=g(m,t);e>=0&&m.splice(e,1)}function s(){h--,c(m.slice(0),function(t){t()})}"function"==typeof arguments[1]&&(r=e,e=null),r=u(r||n);var a=Y(t),h=a.length;if(!h)return r(null);e||(e=h);var l={},p=0,d=!1,m=[];i(function(){h||r(null,l)}),c(a,function(n){function a(){return e>p&&f(x,function(t,e){return t&&l.hasOwnProperty(e)},!0)&&!l.hasOwnProperty(n)}function h(){a()&&(p++,o(h),c[c.length-1](m,l))}if(!d){for(var u,c=j(t[n])?t[n]:[t[n]],m=y(function(t,e){if(p--,e.length<=1&&(e=e[0]),t){var i={};v(l,function(t,e){i[e]=t}),i[n]=e,d=!0,r(t,i)}else l[n]=e,N.setImmediate(s)}),x=c.slice(0,c.length-1),b=x.length;b--;){if(!(u=t[x[b]]))throw new Error("Has nonexistent dependency in "+x.join(", "));if(j(u)&&g(u,n)>=0)throw new Error("Has cyclic dependencies")}a()?(p++,c[c.length-1](m,l)):i(h)}})},N.retry=function(t,e,r){function i(t,e){if("number"==typeof e)t.times=parseInt(e,10)||o;else{if("object"!=typeof e)throw new Error("Unsupported argument type for 'times': "+typeof e);t.times=parseInt(e.times,10)||o,t.interval=parseInt(e.interval,10)||s}}function n(t,e){function r(t,r){return function(i){t(function(t,e){i(!t||r,{err:t,result:e})},e)}}function i(t){return function(e){setTimeout(function(){e(null)},t)}}for(;h.times;){var n=!(h.times-=1);a.push(r(h.task,n)),!n&&h.interval>0&&a.push(i(h.interval))}N.series(a,function(e,r){r=r[r.length-1],(t||h.callback)(r.err,r.result)})}var o=5,s=0,a=[],h={times:o,interval:s},u=arguments.length;if(1>u||u>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=u&&"function"==typeof t&&(r=e,e=t),"function"!=typeof t&&i(h,t),h.callback=r,h.task=e,h.callback?n():n},N.waterfall=function(t,e){function r(t){return y(function(i,n){if(i)e.apply(null,[i].concat(n));else{var o=t.next();o?n.push(r(o)):n.push(e),L(t).apply(null,n)}})}if(e=u(e||n),!j(t)){var i=new Error("First argument to waterfall must be an array of functions");return e(i)}return t.length?void r(N.iterator(t))():e()},N.parallel=function(t,e){R(N.eachOf,t,e)},N.parallelLimit=function(t,e,r){R(b(e),t,r)},N.series=function(t,e){R(N.eachOfSeries,t,e)},N.iterator=function(t){function e(r){function i(){return t.length&&t[r].apply(null,arguments),i.next()}return i.next=function(){return r<t.length-1?e(r+1):null},i}return e(0)},N.apply=y(function(t,e){return y(function(r){return t.apply(null,e.concat(r))})}),N.concat=_(O),N.concatSeries=E(O),N.whilst=function(t,e,r){if(r=r||n,t()){var i=y(function(n,o){n?r(n):t.apply(this,o)?e(i):r.apply(null,[null].concat(o))});e(i)}else r(null)},N.doWhilst=function(t,e,r){var i=0;return N.whilst(function(){return++i<=1||e.apply(this,arguments)},t,r)},N.until=function(t,e,r){return N.whilst(function(){return!t.apply(this,arguments)},e,r)},N.doUntil=function(t,e,r){return N.doWhilst(t,function(){return!e.apply(this,arguments)},r)},N.during=function(t,e,r){r=r||n;var i=y(function(e,i){e?r(e):(i.push(o),t.apply(this,i))}),o=function(t,n){t?r(t):n?e(i):r(null)};t(o)},N.doDuring=function(t,e,r){var i=0;N.during(function(t){i++<1?t(null,!0):e.apply(this,arguments)},t,r)},N.queue=function(t,e){var r=P(function(e,r){t(e[0],r)},e,1);return r},N.priorityQueue=function(t,e){function r(t,e){return t.priority-e.priority}function i(t,e,r){for(var i=-1,n=t.length-1;n>i;){var o=i+(n-i+1>>>1);r(e,t[o])>=0?i=o:n=o-1}return i}function o(t,e,o,s){if(null!=s&&"function"!=typeof s)throw new Error("task callback must be a function");return t.started=!0,j(e)||(e=[e]),0===e.length?N.setImmediate(function(){t.drain()}):void c(e,function(e){var a={data:e,priority:o,callback:"function"==typeof s?s:n};t.tasks.splice(i(t.tasks,a,r)+1,0,a),t.tasks.length===t.concurrency&&t.saturated(),N.setImmediate(t.process)})}var s=N.queue(t,e);return s.push=function(t,e,r){o(s,t,e,r)},delete s.unshift,s},N.cargo=function(t,e){return P(t,1,e)},N.log=F("log"),N.dir=F("dir"),N.memoize=function(t,e){var r={},i={},n=Object.prototype.hasOwnProperty;e=e||o;var s=y(function(o){var s=o.pop(),a=e.apply(null,o);n.call(r,a)?N.setImmediate(function(){s.apply(null,r[a])}):n.call(i,a)?i[a].push(s):(i[a]=[s],t.apply(null,o.concat([y(function(t){r[a]=t;var e=i[a];delete i[a];for(var n=0,o=e.length;o>n;n++)e[n].apply(null,t)})])))});return s.memo=r,s.unmemoized=t,s},N.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},N.times=D(N.map),N.timesSeries=D(N.mapSeries),N.timesLimit=function(t,e,r,i){return N.mapLimit(d(t),e,r,i)},N.seq=function(){var t=arguments;return y(function(e){var r=this,i=e[e.length-1];"function"==typeof i?e.pop():i=n,N.reduce(t,e,function(t,e,i){e.apply(r,t.concat([y(function(t,e){i(t,e)})]))},function(t,e){i.apply(r,[t].concat(e))})})},N.compose=function(){return N.seq.apply(null,Array.prototype.reverse.call(arguments))},N.applyEach=B(N.eachOf),N.applyEachSeries=B(N.eachOfSeries),N.forever=function(t,e){function r(t){return t?i(t):void o(r)}var i=h(e||n),o=L(t);r()},N.ensureAsync=L,N.constant=y(function(t){var e=[null].concat(t);return function(t){return t.apply(this,e)}}),N.wrapSync=N.asyncify=function(t){return y(function(e){var r,i=e.pop();try{r=t.apply(this,e)}catch(n){return i(n)}X(r)&&"function"==typeof r.then?r.then(function(t){i(null,t)})["catch"](function(t){i(t.message?t:new Error(t))}):i(null,r)})},"object"==typeof r&&r.exports?r.exports=N:"function"==typeof t&&t.amd?t([],function(){return N}):U.async=N}()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:3}],2:[function(t,e,r){(function(t){function e(t,e){for(var r=0,i=t.length-1;i>=0;i--){var n=t[i];"."===n?t.splice(i,1):".."===n?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var r=[],i=0;i<t.length;i++)e(t[i],i,t)&&r.push(t[i]);return r}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return n.exec(t).slice(1)};r.resolve=function(){for(var r="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,n="/"===s.charAt(0))}return r=e(i(r.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+r||"."},r.normalize=function(t){var n=r.isAbsolute(t),o="/"===s(t,-1);return t=e(i(t.split("/"),function(t){return!!t}),!n).join("/"),t||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var n=i(t.split("/")),o=i(e.split("/")),s=Math.min(n.length,o.length),a=s,h=0;s>h;h++)if(n[h]!==o[h]){a=h;break}for(var u=[],h=a;h<n.length;h++)u.push("..");return u=u.concat(o.slice(a)),u.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=o(t),r=e[0],i=e[1];return r||i?(i&&(i=i.substr(0,i.length-1)),r+i):"."},r.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return 0>e&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:3}],3:[function(t,e,r){function i(){l=!1,a.length?u=a.concat(u):c=-1,u.length&&n()}function n(){if(!l){var t=setTimeout(i);l=!0;for(var e=u.length;e;){for(a=u,u=[];++c<e;)a&&a[c].run();c=-1,e=u.length}a=null,l=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function s(){}var a,h=e.exports={},u=[],l=!1,c=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new o(t,e)),1!==u.length||l||setTimeout(n,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=s,h.addListener=s,h.once=s,h.off=s,h.removeListener=s,h.removeAllListeners=s,h.emit=s,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],4:[function(e,r,i){(function(e){!function(n){function o(t){throw new RangeError(B[t])}function s(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function a(t,e){var r=t.split("@"),i="";r.length>1&&(i=r[0]+"@",t=r[1]),t=t.replace(D,".");var n=t.split("."),o=s(n,e).join(".");return i+o}function h(t){for(var e,r,i=[],n=0,o=t.length;o>n;)e=t.charCodeAt(n++),e>=55296&&56319>=e&&o>n?(r=t.charCodeAt(n++),56320==(64512&r)?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--)):i.push(e);return i}function u(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=N(t>>>10&1023|55296),t=56320|1023&t),e+=N(t)}).join("")}function l(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:E}function c(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function p(t,e,r){var i=0;for(t=r?I(t/C):t>>1,t+=I(t/e);t>L*w>>1;i+=E)t=I(t/L);return I(i+(L+1)*t/(t+A))}function d(t){var e,r,i,n,s,a,h,c,d,f,v=[],g=t.length,m=0,y=R,x=M;for(r=t.lastIndexOf(O),0>r&&(r=0),i=0;r>i;++i)t.charCodeAt(i)>=128&&o("not-basic"),v.push(t.charCodeAt(i));for(n=r>0?r+1:0;g>n;){for(s=m,a=1,h=E;n>=g&&o("invalid-input"),c=l(t.charCodeAt(n++)),(c>=E||c>I((T-m)/a))&&o("overflow"),m+=c*a,d=x>=h?S:h>=x+w?w:h-x,!(d>c);h+=E)f=E-d,a>I(T/f)&&o("overflow"),a*=f;e=v.length+1,x=p(m-s,e,0==s),I(m/e)>T-y&&o("overflow"),y+=I(m/e),m%=e,v.splice(m++,0,y)}return u(v)}function f(t){var e,r,i,n,s,a,u,l,d,f,v,g,m,y,x,b=[];for(t=h(t),g=t.length,e=R,r=0,s=M,a=0;g>a;++a)v=t[a],128>v&&b.push(N(v));for(i=n=b.length,n&&b.push(O);g>i;){for(u=T,a=0;g>a;++a)v=t[a],v>=e&&u>v&&(u=v);for(m=i+1,u-e>I((T-r)/m)&&o("overflow"),r+=(u-e)*m,e=u,a=0;g>a;++a)if(v=t[a],e>v&&++r>T&&o("overflow"),v==e){for(l=r,d=E;f=s>=d?S:d>=s+w?w:d-s,!(f>l);d+=E)x=l-f,y=E-f,b.push(N(c(f+x%y,0))),l=I(x/y);b.push(N(c(l,0))),s=p(r,m,i==n),r=0,++i}++r,++e}return b.join("")}function v(t){return a(t,function(t){return P.test(t)?d(t.slice(4).toLowerCase()):t})}function g(t){return a(t,function(t){return F.test(t)?"xn--"+f(t):t})}var m="object"==typeof i&&i&&!i.nodeType&&i,y="object"==typeof r&&r&&!r.nodeType&&r,x="object"==typeof e&&e;(x.global===x||x.window===x||x.self===x)&&(n=x);var b,_,T=2147483647,E=36,S=1,w=26,A=38,C=700,M=72,R=128,O="-",P=/^xn--/,F=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=E-S,I=Math.floor,N=String.fromCharCode;if(b={version:"1.3.2",ucs2:{decode:h,encode:u},decode:d,encode:f,toASCII:g,toUnicode:v},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return b});else if(m&&y)if(r.exports==m)y.exports=b;else for(_ in b)b.hasOwnProperty(_)&&(m[_]=b[_]);else n.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e,r){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var h=1e3;o&&"number"==typeof o.maxKeys&&(h=o.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var l=0;u>l;++l){var c,p,d,f,v=t[l].replace(a,"%20"),g=v.indexOf(r);g>=0?(c=v.substr(0,g),p=v.substr(g+1)):(c=v,p=""),d=decodeURIComponent(c),f=decodeURIComponent(p),i(s,d)?n(s[d])?s[d].push(f):s[d]=[s[d],f]:s[d]=f}return s};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],6:[function(t,e,r){"use strict";function i(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?i(s(t),function(s){var a=encodeURIComponent(n(s))+r;return o(t[s])?i(t[s],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[s]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],7:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":5,"./encode":6}],8:[function(t,e,r){function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function n(t,e,r){if(t&&u(t)&&t instanceof i)return t;var n=new i;return n.parse(t,e,r),n}function o(t){return h(t)&&(t=n(t)),t instanceof i?t.format():i.prototype.format.call(t)}function s(t,e){return n(t,!1,!0).resolve(e)}function a(t,e){return t?n(t,!1,!0).resolveObject(e):e}function h(t){return"string"==typeof t}function u(t){return"object"==typeof t&&null!==t}function l(t){return null===t}function c(t){return null==t}var p=t("punycode");r.parse=n,r.resolve=s,r.resolveObject=a,r.format=o,r.Url=i;var d=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,v=["<",">",'"',"`"," ","\r","\n","	"],g=["{","}","|","\\","^","`"].concat(v),m=["'"].concat(g),y=["%","/","?",";","#"].concat(m),x=["/","?","#"],b=255,_=/^[a-z0-9A-Z_-]{0,63}$/,T=/^([a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=t("querystring");i.prototype.parse=function(t,e,r){if(!h(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t;i=i.trim();var n=d.exec(i);if(n){n=n[0];var o=n.toLowerCase();this.protocol=o,i=i.substr(n.length)}if(r||n||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===i.substr(0,2);!s||n&&S[n]||(i=i.substr(2),this.slashes=!0)}if(!S[n]&&(s||n&&!w[n])){for(var a=-1,u=0;u<x.length;u++){var l=i.indexOf(x[u]);-1!==l&&(-1===a||a>l)&&(a=l)}var c,f;f=-1===a?i.lastIndexOf("@"):i.lastIndexOf("@",a),-1!==f&&(c=i.slice(0,f),i=i.slice(f+1),this.auth=decodeURIComponent(c)),a=-1;for(var u=0;u<y.length;u++){var l=i.indexOf(y[u]);-1!==l&&(-1===a||a>l)&&(a=l)}-1===a&&(a=i.length),this.host=i.slice(0,a),i=i.slice(a),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var g=this.hostname.split(/\./),u=0,C=g.length;C>u;u++){var M=g[u];if(M&&!M.match(_)){for(var R="",O=0,P=M.length;P>O;O++)R+=M.charCodeAt(O)>127?"x":M[O];if(!R.match(_)){var F=g.slice(0,u),D=g.slice(u+1),B=M.match(T);B&&(F.push(B[1]),D.unshift(B[2])),D.length&&(i="/"+D.join(".")+i),this.hostname=F.join(".");break}}}if(this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),!v){for(var L=this.hostname.split("."),I=[],u=0;u<L.length;++u){var N=L[u];I.push(N.match(/[^A-Za-z0-9_-]/)?"xn--"+p.encode(N):N)}this.hostname=I.join(".")}var U=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+U,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!E[o])for(var u=0,C=m.length;C>u;u++){var j=m[u],X=encodeURIComponent(j);X===j&&(X=escape(j)),i=i.split(j).join(X)}var Y=i.indexOf("#");-1!==Y&&(this.hash=i.substr(Y),i=i.slice(0,Y));var G=i.indexOf("?");if(-1!==G?(this.search=i.substr(G),this.query=i.substr(G+1),e&&(this.query=A.parse(this.query)),i=i.slice(0,G)):e&&(this.search="",this.query={}),i&&(this.pathname=i),w[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",N=this.search||"";this.path=U+N}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,o="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&u(this.query)&&Object.keys(this.query).length&&(o=A.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||w[e])&&n!==!1?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):n||(n=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+n+r+s+i},i.prototype.resolve=function(t){return this.resolveObject(n(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(h(t)){var e=new i;e.parse(t,!1,!0),t=e}var r=new i;if(Object.keys(this).forEach(function(t){r[t]=this[t]},this),r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(r[e]=t[e])}),w[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r;if(t.protocol&&t.protocol!==r.protocol){if(!w[t.protocol])return Object.keys(t).forEach(function(e){r[e]=t[e]}),r.href=r.format(),r;if(r.protocol=t.protocol,t.host||S[t.protocol])r.pathname=t.pathname;else{for(var n=(t.pathname||"").split("/");n.length&&!(t.host=n.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==n[0]&&n.unshift(""),n.length<2&&n.unshift(""),r.pathname=n.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var o=r.pathname||"",s=r.search||"";r.path=o+s}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var a=r.pathname&&"/"===r.pathname.charAt(0),u=t.host||t.pathname&&"/"===t.pathname.charAt(0),p=u||a||r.host&&t.pathname,d=p,f=r.pathname&&r.pathname.split("/")||[],n=t.pathname&&t.pathname.split("/")||[],v=r.protocol&&!w[r.protocol];if(v&&(r.hostname="",r.port=null,r.host&&(""===f[0]?f[0]=r.host:f.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===n[0]?n[0]=t.host:n.unshift(t.host)),t.host=null),p=p&&(""===n[0]||""===f[0])),u)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,f=n;else if(n.length)f||(f=[]),f.pop(),f=f.concat(n),r.search=t.search,r.query=t.query;else if(!c(t.search)){if(v){r.hostname=r.host=f.shift();var g=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;g&&(r.auth=g.shift(),r.host=r.hostname=g.shift())}return r.search=t.search,r.query=t.query,l(r.pathname)&&l(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!f.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var m=f.slice(-1)[0],y=(r.host||t.host)&&("."===m||".."===m)||""===m,x=0,b=f.length;b>=0;b--)m=f[b],"."==m?f.splice(b,1):".."===m?(f.splice(b,1),x++):x&&(f.splice(b,1),x--);if(!p&&!d)for(;x--;x)f.unshift("..");!p||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift(""),y&&"/"!==f.join("/").substr(-1)&&f.push("");var _=""===f[0]||f[0]&&"/"===f[0].charAt(0);if(v){r.hostname=r.host=_?"":f.length?f.shift():"";var g=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;g&&(r.auth=g.shift(),r.host=r.hostname=g.shift())}return p=p||r.host&&f.length,p&&!_&&f.unshift(""),f.length?r.pathname=f.join("/"):(r.pathname=null,r.path=null),l(r.pathname)&&l(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var t=this.host,e=f.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{punycode:4,querystring:7}],9:[function(t,e,r){"use strict";function i(t,e,r){r=r||2;var i=e&&e.length,o=i?e[0]*r:t.length,a=n(t,0,o,r,!0),h=[];if(!a)return h;var u,l,p,d,f,v,g;if(i&&(a=c(t,e,a,r)),t.length>80*r){u=p=t[0],l=d=t[1];for(var m=r;o>m;m+=r)f=t[m],v=t[m+1],u>f&&(u=f),l>v&&(l=v),f>p&&(p=f),v>d&&(d=v);g=Math.max(p-u,d-l)}return s(a,h,r,u,l,g),h}function n(t,e,r,i,n){var o,s,a,h=0;for(o=e,s=r-i;r>o;o+=i)h+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;if(n===h>0)for(o=e;r>o;o+=i)a=M(o,t[o],t[o+1],a);else for(o=r-i;o>=e;o-=i)a=M(o,t[o],t[o+1],a);return a}function o(t,e){if(!t)return t;e||(e=t);var r,i=t;do if(r=!1,i.steiner||!T(i,i.next)&&0!==_(i.prev,i,i.next))i=i.next;else{if(R(i),i=e=i.prev,i===i.next)return null;r=!0}while(r||i!==e);return e}function s(t,e,r,i,n,c,p){if(t){!p&&c&&v(t,i,n,c);for(var d,f,g=t;t.prev!==t.next;)if(d=t.prev,f=t.next,c?h(t,i,n,c):a(t))e.push(d.i/r),e.push(t.i/r),e.push(f.i/r),R(t),t=f.next,g=f.next;else if(t=f,t===g){p?1===p?(t=u(t,e,r),s(t,e,r,i,n,c,2)):2===p&&l(t,e,r,i,n,c):s(o(t),e,r,i,n,c,1);break}}}function a(t){var e=t.prev,r=t,i=t.next;if(_(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(x(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&_(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function h(t,e,r,i){var n=t.prev,o=t,s=t.next;if(_(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,h=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,l=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,c=m(a,h,e,r,i),p=m(u,l,e,r,i),d=t.nextZ;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&x(n.x,n.y,o.x,o.y,s.x,s.y,d.x,d.y)&&_(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&x(n.x,n.y,o.x,o.y,s.x,s.y,d.x,d.y)&&_(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function u(t,e,r){var i=t;do{var n=i.prev,o=i.next.next;E(n,i,i.next,o)&&w(n,o)&&w(o,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(o.i/r),R(i),R(i.next),i=t=o),i=i.next}while(i!==t);return i}function l(t,e,r,i,n,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&b(h,u)){var l=C(h,u);return h=o(h,h.next),l=o(l,l.next),s(h,e,r,i,n,a),void s(l,e,r,i,n,a)}u=u.next}h=h.next}while(h!==t)}function c(t,e,r,i){var s,a,h,u,l,c=[];for(s=0,a=e.length;a>s;s++)h=e[s]*i,u=a-1>s?e[s+1]*i:t.length,l=n(t,h,u,i,!1),l===l.next&&(l.steiner=!0),c.push(y(l));for(c.sort(p),s=0;s<c.length;s++)d(c[s],r),r=o(r,r.next);return r}function p(t,e){return t.x-e.x}function d(t,e){if(e=f(t,e)){var r=C(e,t);o(r,r.next)}}function f(t,e){var r,i=e,n=t.x,o=t.y,s=-(1/0);do{if(o<=i.y&&o>=i.next.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);n>=a&&a>s&&(s=a,r=i.x<i.next.x?i:i.next)}i=i.next}while(i!==e);if(!r)return null;if(t.x===r.x)return r.prev;var h,u=r,l=1/0;for(i=r.next;i!==u;)n>=i.x&&i.x>=r.x&&x(o<r.y?n:s,o,r.x,r.y,o<r.y?s:n,o,i.x,i.y)&&(h=Math.abs(o-i.y)/(n-i.x),(l>h||h===l&&i.x>r.x)&&w(i,t)&&(r=i,l=h)),i=i.next;return r}function v(t,e,r,i){var n=t;do null===n.z&&(n.z=m(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,g(n)}function g(t){var e,r,i,n,o,s,a,h,u=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,i=r,a=0,e=0;u>e&&(a++,i=i.nextZ,i);e++);for(h=u;a>0||h>0&&i;)0===a?(n=i,i=i.nextZ,h--):0!==h&&i?r.z<=i.z?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,h--):(n=r,r=r.nextZ,a--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,u*=2}while(s>1);return t}function m(t,e,r,i,n){return t=32767*(t-r)/n,e=32767*(e-i)/n,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function y(t){var e=t,r=t;do e.x<r.x&&(r=e),e=e.next;while(e!==t);return r}function x(t,e,r,i,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(n-s)*(i-a)>=0}function b(t,e){return T(t,e)||t.next.i!==e.i&&t.prev.i!==e.i&&!S(t,e)&&w(t,e)&&w(e,t)&&A(t,e)}function _(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function T(t,e){return t.x===e.x&&t.y===e.y}function E(t,e,r,i){return _(t,e,r)>0!=_(t,e,i)>0&&_(r,i,t)>0!=_(r,i,e)>0}function S(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&E(r,r.next,t,e))return!0;
r=r.next}while(r!==t);return!1}function w(t,e){return _(t.prev,t,t.next)<0?_(t,e,t.next)>=0&&_(t,t.prev,e)>=0:_(t,e,t.prev)<0||_(t,t.next,e)<0}function A(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do r.y>o!=r.next.y>o&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next;while(r!==t);return i}function C(t,e){var r=new O(t.i,t.x,t.y),i=new O(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function M(t,e,r,i){var n=new O(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function R(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function O(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}e.exports=i},{}],10:[function(t,e,r){"use strict";function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function n(){}var o="function"!=typeof Object.create?"~":!1;n.prototype._events=void 0,n.prototype.listeners=function(t,e){var r=o?o+t:t,i=this._events&&this._events[r];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,a=new Array(s);s>n;n++)a[n]=i[n].fn;return a},n.prototype.emit=function(t,e,r,i,n,s){var a=o?o+t:t;if(!this._events||!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if("function"==typeof l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,n),!0;case 6:return l.fn.call(l.context,e,r,i,n,s),!0}for(u=1,h=new Array(c-1);c>u;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var p,d=l.length;for(u=0;d>u;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;default:if(!h)for(p=1,h=new Array(c-1);c>p;p++)h[p-1]=arguments[p];l[u].fn.apply(l[u].context,h)}}return!0},n.prototype.on=function(t,e,r){var n=new i(e,r||this),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],n]:this._events[s].push(n):this._events[s]=n,this},n.prototype.once=function(t,e,r){var n=new i(e,r||this,!0),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],n]:this._events[s].push(n):this._events[s]=n,this},n.prototype.removeListener=function(t,e,r,i){var n=o?o+t:t;if(!this._events||!this._events[n])return this;var s=this._events[n],a=[];if(e)if(s.fn)(s.fn!==e||i&&!s.once||r&&s.context!==r)&&a.push(s);else for(var h=0,u=s.length;u>h;h++)(s[h].fn!==e||i&&!s[h].once||r&&s[h].context!==r)&&a.push(s[h]);return a.length?this._events[n]=1===a.length?a[0]:a:delete this._events[n],this},n.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[o?o+t:t]:this._events=o?{}:Object.create(null),this):this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prototype.setMaxListeners=function(){return this},n.prefixed=o,"undefined"!=typeof e&&(e.exports=n)},{}],11:[function(t,e,r){"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(t,e){for(var r,s,a=i(t),h=1;h<arguments.length;h++){r=Object(arguments[h]);for(var u in r)n.call(r,u)&&(a[u]=r[u]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(r);for(var l=0;l<s.length;l++)o.call(r,s[l])&&(a[s[l]]=r[s[l]])}}return a}},{}],12:[function(e,r,i){(function(e){!function(){function i(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(n,arguments)}}var n,o,s={};n=this,null!=n&&(o=n.async),s.noConflict=function(){return n.async=o,s};var a=Object.prototype.toString,h=Array.isArray||function(t){return"[object Array]"===a.call(t)},u=function(t,e){for(var r=0;r<t.length;r+=1)e(t[r],r,t)},l=function(t,e){if(t.map)return t.map(e);var r=[];return u(t,function(t,i,n){r.push(e(t,i,n))}),r},c=function(t,e,r){return t.reduce?t.reduce(e,r):(u(t,function(t,i,n){r=e(r,t,i,n)}),r)},p=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e};"undefined"!=typeof e&&e.nextTick?(s.nextTick=e.nextTick,"undefined"!=typeof setImmediate?s.setImmediate=function(t){setImmediate(t)}:s.setImmediate=s.nextTick):"function"==typeof setImmediate?(s.nextTick=function(t){setImmediate(t)},s.setImmediate=s.nextTick):(s.nextTick=function(t){setTimeout(t,0)},s.setImmediate=s.nextTick),s.each=function(t,e,r){function n(e){e?(r(e),r=function(){}):(o+=1,o>=t.length&&r())}if(r=r||function(){},!t.length)return r();var o=0;u(t,function(t){e(t,i(n))})},s.forEach=s.each,s.eachSeries=function(t,e,r){if(r=r||function(){},!t.length)return r();var i=0,n=function(){e(t[i],function(e){e?(r(e),r=function(){}):(i+=1,i>=t.length?r():n())})};n()},s.forEachSeries=s.eachSeries,s.eachLimit=function(t,e,r,i){var n=d(e);n.apply(null,[t,r,i])},s.forEachLimit=s.eachLimit;var d=function(t){return function(e,r,i){if(i=i||function(){},!e.length||0>=t)return i();var n=0,o=0,s=0;!function a(){if(n>=e.length)return i();for(;t>s&&o<e.length;)o+=1,s+=1,r(e[o-1],function(t){t?(i(t),i=function(){}):(n+=1,s-=1,n>=e.length?i():a())})}()}},f=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.each].concat(e))}},v=function(t,e){return function(){var r=Array.prototype.slice.call(arguments);return e.apply(null,[d(t)].concat(r))}},g=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.eachSeries].concat(e))}},m=function(t,e,r,i){if(e=l(e,function(t,e){return{index:e,value:t}}),i){var n=[];t(e,function(t,e){r(t.value,function(r,i){n[t.index]=i,e(r)})},function(t){i(t,n)})}else t(e,function(t,e){r(t.value,function(t){e(t)})})};s.map=f(m),s.mapSeries=g(m),s.mapLimit=function(t,e,r,i){return y(e)(t,r,i)};var y=function(t){return v(t,m)};s.reduce=function(t,e,r,i){s.eachSeries(t,function(t,i){r(e,t,function(t,r){e=r,i(t)})},function(t){i(t,e)})},s.inject=s.reduce,s.foldl=s.reduce,s.reduceRight=function(t,e,r,i){var n=l(t,function(t){return t}).reverse();s.reduce(n,e,r,i)},s.foldr=s.reduceRight;var x=function(t,e,r,i){var n=[];e=l(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){r(t.value,function(r){r&&n.push(t),e()})},function(t){i(l(n.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.filter=f(x),s.filterSeries=g(x),s.select=s.filter,s.selectSeries=s.filterSeries;var b=function(t,e,r,i){var n=[];e=l(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){r(t.value,function(r){r||n.push(t),e()})},function(t){i(l(n.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.reject=f(b),s.rejectSeries=g(b);var _=function(t,e,r,i){t(e,function(t,e){r(t,function(r){r?(i(t),i=function(){}):e()})},function(t){i()})};s.detect=f(_),s.detectSeries=g(_),s.some=function(t,e,r){s.each(t,function(t,i){e(t,function(t){t&&(r(!0),r=function(){}),i()})},function(t){r(!1)})},s.any=s.some,s.every=function(t,e,r){s.each(t,function(t,i){e(t,function(t){t||(r(!1),r=function(){}),i()})},function(t){r(!0)})},s.all=s.every,s.sortBy=function(t,e,r){s.map(t,function(t,r){e(t,function(e,i){e?r(e):r(null,{value:t,criteria:i})})},function(t,e){if(t)return r(t);var i=function(t,e){var r=t.criteria,i=e.criteria;return i>r?-1:r>i?1:0};r(null,l(e.sort(i),function(t){return t.value}))})},s.auto=function(t,e){e=e||function(){};var r=p(t),i=r.length;if(!i)return e();var n={},o=[],a=function(t){o.unshift(t)},l=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},d=function(){i--,u(o.slice(0),function(t){t()})};a(function(){if(!i){var t=e;e=function(){},t(null,n)}}),u(r,function(r){var i=h(t[r])?t[r]:[t[r]],o=function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),t){var o={};u(p(n),function(t){o[t]=n[t]}),o[r]=i,e(t,o),e=function(){}}else n[r]=i,s.setImmediate(d)},f=i.slice(0,Math.abs(i.length-1))||[],v=function(){return c(f,function(t,e){return t&&n.hasOwnProperty(e)},!0)&&!n.hasOwnProperty(r)};if(v())i[i.length-1](o,n);else{var g=function(){v()&&(l(g),i[i.length-1](o,n))};a(g)}})},s.retry=function(t,e,r){var i=5,n=[];"function"==typeof t&&(r=e,e=t,t=i),t=parseInt(t,10)||i;var o=function(i,o){for(var a=function(t,e){return function(r){t(function(t,i){r(!t||e,{err:t,result:i})},o)}};t;)n.push(a(e,!(t-=1)));s.series(n,function(t,e){e=e[e.length-1],(i||r)(e.err,e.result)})};return r?o():o},s.waterfall=function(t,e){if(e=e||function(){},!h(t)){var r=new Error("First argument to waterfall must be an array of functions");return e(r)}if(!t.length)return e();var i=function(t){return function(r){if(r)e.apply(null,arguments),e=function(){};else{var n=Array.prototype.slice.call(arguments,1),o=t.next();o?n.push(i(o)):n.push(e),s.setImmediate(function(){t.apply(null,n)})}}};i(s.iterator(t))()};var T=function(t,e,r){if(r=r||function(){},h(e))t.map(e,function(t,e){t&&t(function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),e.call(null,t,r)})},r);else{var i={};t.each(p(e),function(t,r){e[t](function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),i[t]=n,r(e)})},function(t){r(t,i)})}};s.parallel=function(t,e){T({map:s.map,each:s.each},t,e)},s.parallelLimit=function(t,e,r){T({map:y(e),each:d(e)},t,r)},s.series=function(t,e){if(e=e||function(){},h(t))s.mapSeries(t,function(t,e){t&&t(function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),e.call(null,t,r)})},e);else{var r={};s.eachSeries(p(t),function(e,i){t[e](function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),r[e]=n,i(t)})},function(t){e(t,r)})}},s.iterator=function(t){var e=function(r){var i=function(){return t.length&&t[r].apply(null,arguments),i.next()};return i.next=function(){return r<t.length-1?e(r+1):null},i};return e(0)},s.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var E=function(t,e,r,i){var n=[];t(e,function(t,e){r(t,function(t,r){n=n.concat(r||[]),e(t)})},function(t){i(t,n)})};s.concat=f(E),s.concatSeries=g(E),s.whilst=function(t,e,r){t()?e(function(i){return i?r(i):void s.whilst(t,e,r)}):r()},s.doWhilst=function(t,e,r){t(function(i){if(i)return r(i);var n=Array.prototype.slice.call(arguments,1);e.apply(null,n)?s.doWhilst(t,e,r):r()})},s.until=function(t,e,r){t()?r():e(function(i){return i?r(i):void s.until(t,e,r)})},s.doUntil=function(t,e,r){t(function(i){if(i)return r(i);var n=Array.prototype.slice.call(arguments,1);e.apply(null,n)?r():s.doUntil(t,e,r)})},s.queue=function(t,e){function r(t,e,r,i){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void u(e,function(e){var n={data:e,callback:"function"==typeof i?i:null};r?t.tasks.unshift(n):t.tasks.push(n),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}void 0===e&&(e=1);var n=0,o={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){r(o,t,!1,e)},kill:function(){o.drain=null,o.tasks=[]},unshift:function(t,e){r(o,t,!0,e)},process:function(){if(!o.paused&&n<o.concurrency&&o.tasks.length){var e=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),n+=1;var r=function(){n-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+n===0&&o.drain(),o.process()},s=i(r);t(e.data,s)}},length:function(){return o.tasks.length},running:function(){return n},idle:function(){return o.tasks.length+n===0},pause:function(){o.paused!==!0&&(o.paused=!0)},resume:function(){if(o.paused!==!1){o.paused=!1;for(var t=1;t<=o.concurrency;t++)s.setImmediate(o.process)}}};return o},s.priorityQueue=function(t,e){function r(t,e){return t.priority-e.priority}function i(t,e,r){for(var i=-1,n=t.length-1;n>i;){var o=i+(n-i+1>>>1);r(e,t[o])>=0?i=o:n=o-1}return i}function n(t,e,n,o){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void u(e,function(e){var a={data:e,priority:n,callback:"function"==typeof o?o:null};t.tasks.splice(i(t.tasks,a,r)+1,0,a),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}var o=s.queue(t,e);return o.push=function(t,e,r){n(o,t,e,r)},delete o.unshift,o},s.cargo=function(t,e){var r=!1,i=[],n={tasks:i,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,r){h(t)||(t=[t]),u(t,function(t){i.push({data:t,callback:"function"==typeof r?r:null}),n.drained=!1,n.saturated&&i.length===e&&n.saturated()}),s.setImmediate(n.process)},process:function o(){if(!r){if(0===i.length)return n.drain&&!n.drained&&n.drain(),void(n.drained=!0);var s="number"==typeof e?i.splice(0,e):i.splice(0,i.length),a=l(s,function(t){return t.data});n.empty&&n.empty(),r=!0,t(a,function(){r=!1;var t=arguments;u(s,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return i.length},running:function(){return r}};return n};var S=function(t){return function(e){var r=Array.prototype.slice.call(arguments,1);e.apply(null,r.concat([function(e){var r=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&u(r,function(e){console[t](e)}))}]))}};s.log=S("log"),s.dir=S("dir"),s.memoize=function(t,e){var r={},i={};e=e||function(t){return t};var n=function(){var n=Array.prototype.slice.call(arguments),o=n.pop(),a=e.apply(null,n);a in r?s.nextTick(function(){o.apply(null,r[a])}):a in i?i[a].push(o):(i[a]=[o],t.apply(null,n.concat([function(){r[a]=arguments;var t=i[a];delete i[a];for(var e=0,n=t.length;n>e;e++)t[e].apply(null,arguments)}])))};return n.memo=r,n.unmemoized=t,n},s.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},s.times=function(t,e,r){for(var i=[],n=0;t>n;n++)i.push(n);return s.map(i,e,r)},s.timesSeries=function(t,e,r){for(var i=[],n=0;t>n;n++)i.push(n);return s.mapSeries(i,e,r)},s.seq=function(){var t=arguments;return function(){var e=this,r=Array.prototype.slice.call(arguments),i=r.pop();s.reduce(t,r,function(t,r,i){r.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);i(t,e)}]))},function(t,r){i.apply(e,[t].concat(r))})}},s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))};var w=function(t,e){var r=function(){var r=this,i=Array.prototype.slice.call(arguments),n=i.pop();return t(e,function(t,e){t.apply(r,i.concat([e]))},n)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return r.apply(this,i)}return r};s.applyEach=f(w),s.applyEachSeries=g(w),s.forever=function(t,e){function r(i){if(i){if(e)return e(i);throw i}t(r)}r()},"undefined"!=typeof r&&r.exports?r.exports=s:"undefined"!=typeof t&&t.amd?t([],function(){return s}):n.async=s}()}).call(this,e("_process"))},{_process:3}],13:[function(t,e,r){function i(t,e){a.call(this),e=e||10,this.baseUrl=t||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._boundOnLoad=this._onLoad.bind(this),this._buffer=[],this._numToLoad=0,this._queue=n.queue(this._boundLoadResource,e),this.resources={}}var n=t("async"),o=t("url"),s=t("./Resource"),a=t("eventemitter3");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.add=i.prototype.enqueue=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.resources[t])throw new Error('Resource with name "'+t+'" already exists.');return e=this._handleBaseUrl(e),this.resources[t]=new s(t,e,r),"function"==typeof i&&this.resources[t].once("afterMiddleware",i),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[t]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[t]),this._progressChunk=100/this._buffer.length),this},i.prototype._handleBaseUrl=function(t){var e=o.parse(t);return e.protocol||0===e.pathname.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t},i.prototype.before=i.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},i.prototype.after=i.prototype.use=function(t){return this._afterMiddleware.push(t),this},i.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1,this.resources={}},i.prototype.load=function(t){if("function"==typeof t&&this.once("complete",t),this._queue.started)return this;this.emit("start",this);for(var e=0;e<this._buffer.length;++e)this._queue.push(this._buffer[e]);return this._buffer.length=0,this},i.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,this._runMiddleware(t,this._beforeMiddleware,function(){t.load(r._boundOnLoad)})},i.prototype._onComplete=function(){this.emit("complete",this,this.resources)},i.prototype._onLoad=function(t){this.progress+=this._progressChunk,this.emit("progress",this,t),this._runMiddleware(t,this._afterMiddleware,function(){t.emit("afterMiddleware",t),this._numToLoad--,0===this._numToLoad&&(this.progress=100,this._onComplete()),t.error?this.emit("error",t.error,this,t):this.emit("load",this,t)}),t._dequeue()},i.prototype._runMiddleware=function(t,e,r){var i=this;n.eachSeries(e,function(e,r){e.call(i,t,r)},r.bind(this,t))},i.LOAD_TYPE=s.LOAD_TYPE,i.XHR_READY_STATE=s.XHR_READY_STATE,i.XHR_RESPONSE_TYPE=s.XHR_RESPONSE_TYPE},{"./Resource":14,async:12,eventemitter3:10,url:8}],14:[function(t,e,r){function i(t,e,r){if(s.call(this),r=r||{},"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");this.name=t,this.url=e,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=r.crossOrigin===!0?"anonymous":r.crossOrigin,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function n(t){return t.toString().replace("object ","")}function o(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}var s=t("eventemitter3"),a=t("url"),h=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),u=null;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError),this.data.removeEventListener("load",this._boundComplete),this.data.removeEventListener("progress",this._boundOnProgress),this.data.removeEventListener("canplaythrough",this._boundComplete)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError),this.xhr.removeEventListener("abort",this._boundXhrOnAbort),this.xhr.removeEventListener("progress",this._boundOnProgress),this.xhr.removeEventListener("load",this._boundXhrOnLoad)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.emit("complete",this)},i.prototype.load=function(t){switch(this.emit("start",this),t&&this.once("complete",t),(this.crossOrigin===!1||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case i.LOAD_TYPE.IMAGE:this._loadImage();break;case i.LOAD_TYPE.AUDIO:this._loadElement("audio");break;case i.LOAD_TYPE.VIDEO:this._loadElement("video");break;case i.LOAD_TYPE.XHR:default:h&&this.crossOrigin?this._loadXdr():this._loadXhr()}},i.prototype._loadImage=function(){this.data=new Image,this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.data.src=this.url,this.isImage=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},i.prototype._loadElement=function(t){if("audio"===t&&"undefined"!=typeof Audio?this.data=new Audio:this.data=document.createElement(t),null===this.data)return this.error=new Error("Unsupported element "+t),void this.complete();if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this["is"+t[0].toUpperCase()+t.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},i.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),this.xhrType===i.XHR_RESPONSE_TYPE.JSON||this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=i.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},i.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){t.send()},0)},i.prototype._createSource=function(t,e,r){r||(r=t+"/"+e.substr(e.lastIndexOf(".")+1));var i=document.createElement("source");return i.src=e,i.type=r,i},i.prototype._onError=function(t){this.error=new Error("Failed to load element using "+t.target.nodeName),this.complete()},i.prototype._onProgress=function(t){t&&t.lengthComputable&&this.emit("progress",this,t.loaded/t.total)},i.prototype._xhrOnError=function(){this.error=new Error(n(this.xhr)+" Request failed. Status: "+this.xhr.status+', text: "'+this.xhr.statusText+'"'),this.complete()},i.prototype._xhrOnAbort=function(){this.error=new Error(n(this.xhr)+" Request was aborted by the user."),this.complete()},i.prototype._xdrOnTimeout=function(){this.error=new Error(n(this.xhr)+" Request timed out."),this.complete()},i.prototype._xhrOnLoad=function(){var t=this.xhr,e=void 0!==t.status?t.status:200;if(200===e||204===e||0===e&&t.responseText.length>0)if(this.xhrType===i.XHR_RESPONSE_TYPE.TEXT)this.data=t.responseText;else if(this.xhrType===i.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t.responseText),this.isJson=!0}catch(r){this.error=new Error("Error trying to parse loaded json:",r)}else if(this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(t.responseText,"text/xml")}else{var o=document.createElement("div");o.innerHTML=t.responseText,this.data=o}this.isXml=!0}catch(r){this.error=new Error("Error trying to parse loaded xml:",r)}else this.data=t.response||t.responseText;else this.error=new Error("["+t.status+"]"+t.statusText+":"+t.responseURL);this.complete()},i.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,u||(u=document.createElement("a")),u.href=t,t=a.parse(u.href);var r=!t.port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"},i.prototype._determineXhrType=function(){return i._xhrTypeMap[this._getExtension()]||i.XHR_RESPONSE_TYPE.TEXT},i.prototype._determineLoadType=function(){return i._loadTypeMap[this._getExtension()]||i.LOAD_TYPE.XHR},i.prototype._getExtension=function(){var t,e=this.url;if(this.isDataUrl){var r=e.indexOf("/");t=e.substring(r+1,e.indexOf(";",r))}else{var i=e.indexOf("?");-1!==i&&(e=e.substring(0,i)),t=e.substring(e.lastIndexOf(".")+1)}return t},i.prototype._getMimeFromXhrType=function(t){switch(t){case i.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case i.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case i.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case i.XHR_RESPONSE_TYPE.JSON:return"application/json";case i.XHR_RESPONSE_TYPE.DEFAULT:case i.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},i.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},i.XHR_READY_STATE={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},i.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},i._loadTypeMap={gif:i.LOAD_TYPE.IMAGE,png:i.LOAD_TYPE.IMAGE,bmp:i.LOAD_TYPE.IMAGE,jpg:i.LOAD_TYPE.IMAGE,jpeg:i.LOAD_TYPE.IMAGE,tif:i.LOAD_TYPE.IMAGE,tiff:i.LOAD_TYPE.IMAGE,webp:i.LOAD_TYPE.IMAGE,tga:i.LOAD_TYPE.IMAGE},i._xhrTypeMap={xhtml:i.XHR_RESPONSE_TYPE.DOCUMENT,html:i.XHR_RESPONSE_TYPE.DOCUMENT,htm:i.XHR_RESPONSE_TYPE.DOCUMENT,xml:i.XHR_RESPONSE_TYPE.DOCUMENT,tmx:i.XHR_RESPONSE_TYPE.DOCUMENT,tsx:i.XHR_RESPONSE_TYPE.DOCUMENT,svg:i.XHR_RESPONSE_TYPE.DOCUMENT,gif:i.XHR_RESPONSE_TYPE.BLOB,png:i.XHR_RESPONSE_TYPE.BLOB,bmp:i.XHR_RESPONSE_TYPE.BLOB,jpg:i.XHR_RESPONSE_TYPE.BLOB,jpeg:i.XHR_RESPONSE_TYPE.BLOB,tif:i.XHR_RESPONSE_TYPE.BLOB,tiff:i.XHR_RESPONSE_TYPE.BLOB,webp:i.XHR_RESPONSE_TYPE.BLOB,tga:i.XHR_RESPONSE_TYPE.BLOB,json:i.XHR_RESPONSE_TYPE.JSON,text:i.XHR_RESPONSE_TYPE.TEXT,txt:i.XHR_RESPONSE_TYPE.TEXT},i.setExtensionLoadType=function(t,e){o(i._loadTypeMap,t,e)},i.setExtensionXhrType=function(t,e){o(i._xhrTypeMap,t,e)}},{eventemitter3:10,url:8}],15:[function(t,e,r){e.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(t){for(var e,r="",i=new Array(4),n=0,o=0,s=0;n<t.length;){for(e=new Array(3),o=0;o<e.length;o++)n<t.length?e[o]=255&t.charCodeAt(n++):e[o]=0;switch(i[0]=e[0]>>2,i[1]=(3&e[0])<<4|e[1]>>4,i[2]=(15&e[1])<<2|e[2]>>6,i[3]=63&e[2],s=n-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(o=0;o<i.length;o++)r+=this._keyStr.charAt(i[o])}return r}}},{}],16:[function(t,e,r){e.exports=t("./Loader"),e.exports.Resource=t("./Resource"),e.exports.middleware={caching:{memory:t("./middlewares/caching/memory")},parsing:{blob:t("./middlewares/parsing/blob")}}},{"./Loader":13,"./Resource":14,"./middlewares/caching/memory":17,"./middlewares/parsing/blob":18}],17:[function(t,e,r){var i={};e.exports=function(){return function(t,e){i[t.url]?(t.data=i[t.url],t.complete()):t.once("complete",function(){i[this.url]=this.data}),e()}}},{}],18:[function(t,e,r){var i=t("../../Resource"),n=t("../../b64");window.URL=window.URL||window.webkitURL,e.exports=function(){return function(t,e){if(!t.data)return e();if(t.xhr&&t.xhrType===i.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=URL.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=r,t.isImage=!0,t.data.onload=function(){URL.revokeObjectURL(r),t.data.onload=null,e()}}}else{var o=t.xhr.getResponseHeader("content-type");o&&0===o.indexOf("image")&&(t.data=new Image,t.data.src="data:"+o+";base64,"+n.encodeBinary(t.xhr.responseText),t.isImage=!0,t.data.onload=function(){t.data.onload=null,e()})}else e()}}},{"../../Resource":14,"../../b64":15}],19:[function(t,e,r){function i(t){var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,window.addEventListener("keydown",this._onKeyDown,!1)}var n=t("../core");Object.assign(n.DisplayObject.prototype,t("./accessibleTarget")),i.prototype.constructor=i,e.exports=i,i.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode.appendChild(this.div))},i.prototype.deactivate=function(){this.isActive&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode.removeChild(this.div))},i.prototype.updateAccessibleObjects=function(t){if(t.visible&&(t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId),t.interactiveChildren))for(var e=t.children,r=e.length-1;r>=0;r--)this.updateAccessibleObjects(e[r])},i.prototype.update=function(){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s=this.children[o];if(s.renderId!==this.renderId)s._accessibleActive=!1,n.utils.removeItems(this.children,o,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{i=s._accessibleDiv;var a=s.hitArea,h=s.worldTransform;s.hitArea?(i.style.left=(h.tx+a.x*h.a)*e+"px",i.style.top=(h.ty+a.y*h.d)*r+"px",i.style.width=a.width*h.a*e+"px",i.style.height=a.height*h.d*r+"px"):(a=s.getBounds(),this.capHitArea(a),i.style.left=a.x*e+"px",i.style.top=a.y*r+"px",i.style.width=a.width*e+"px",i.style.height=a.height*r+"px")}}this.renderId++},i.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},i.prototype.addChild=function(t){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.title=t.accessibleTitle||"displayObject "+this.tabIndex,t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},i.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},i.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},i.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;
e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},i.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},i.prototype._onMouseMove=function(){this.deactivate()},i.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},n.WebGLRenderer.registerPlugin("accessibility",i),n.CanvasRenderer.registerPlugin("accessibility",i)},{"../core":29,"./accessibleTarget":20}],20:[function(t,e,r){var i={accessible:!1,accessibleTitle:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1};e.exports=i},{}],21:[function(t,e,r){e.exports={accessibleTarget:t("./accessibleTarget"),AccessibilityManager:t("./AccessibilityManager")}},{"./AccessibilityManager":19,"./accessibleTarget":20}],22:[function(t,e,r){var i={VERSION:"3.0.10",PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},SPRITE_BATCH_SIZE:2e3};e.exports=i},{}],23:[function(t,e,r){function i(){s.call(this),this.children=[]}var n=t("../math"),o=t("../utils"),s=t("./DisplayObject"),a=t("../textures/RenderTexture"),h=new n.Matrix;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;0!==e?this.scale.x=t/e:this.scale.x=1,this._width=t}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;0!==e?this.scale.y=t/e:this.scale.y=1,this._height=t}}}),i.prototype.onChildrenChange=function(){},i.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var r=0;e>r;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.children.push(t),this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},i.prototype.addChildAt=function(t,e){if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),this.onChildrenChange(e),t.emit("added",this),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},i.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);if(0>r||0>i)throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[r]=e,this.children[i]=t,this.onChildrenChange(i>r?r:i)}},i.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},i.prototype.setChildIndex=function(t,e){if(0>e||e>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(t);o.removeItems(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},i.prototype.getChildAt=function(t){if(0>t||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[t]},i.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var r=0;e>r;r++)this.removeChild(arguments[r]);else{var i=this.children.indexOf(t);if(-1===i)return;t.parent=null,o.removeItems(this.children,i,1),this.onChildrenChange(i),t.emit("removed",this)}return t},i.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,o.removeItems(this.children,t,1),this.onChildrenChange(t),e.emit("removed",this),e},i.prototype.removeChildren=function(t,e){var r,i,n=t||0,o="number"==typeof e?e:this.children.length,s=o-n;if(s>0&&o>=s){for(r=this.children.splice(n,s),i=0;i<r.length;++i)r[i].parent=null;for(this.onChildrenChange(t),i=0;i<r.length;++i)r[i].emit("removed",this);return r}if(0===s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},i.prototype.generateTexture=function(t,e,r){var i=this.getLocalBounds(),n=new a(t,0|i.width,0|i.height,r,e);return h.tx=-i.x,h.ty=-i.y,n.render(this,h),n},i.prototype.updateTransform=function(){if(this.visible){this.displayObjectUpdateTransform();for(var t=0,e=this.children.length;e>t;++t)this.children[t].updateTransform()}},i.prototype.containerUpdateTransform=i.prototype.updateTransform,i.prototype.getBounds=function(){if(!this._currentBounds){if(0===this.children.length)return n.Rectangle.EMPTY;for(var t,e,r,i=1/0,o=1/0,s=-(1/0),a=-(1/0),h=!1,u=0,l=this.children.length;l>u;++u){var c=this.children[u];c.visible&&(h=!0,t=this.children[u].getBounds(),i=i<t.x?i:t.x,o=o<t.y?o:t.y,e=t.width+t.x,r=t.height+t.y,s=s>e?s:e,a=a>r?a:r)}if(!h)return n.Rectangle.EMPTY;var p=this._bounds;p.x=i,p.y=o,p.width=s-i,p.height=a-o,this._currentBounds=p}return this._currentBounds},i.prototype.containerGetBounds=i.prototype.getBounds,i.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=n.Matrix.IDENTITY;for(var e=0,r=this.children.length;r>e;++e)this.children[e].updateTransform();return this.worldTransform=t,this._currentBounds=null,this.getBounds(n.Matrix.IDENTITY)},i.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var e,r;if(this._mask||this._filters){for(t.currentRenderer.flush(),this._filters&&this._filters.length&&t.filterManager.pushFilter(this,this._filters),this._mask&&t.maskManager.pushMask(this,this._mask),t.currentRenderer.start(),this._renderWebGL(t),e=0,r=this.children.length;r>e;e++)this.children[e].renderWebGL(t);t.currentRenderer.flush(),this._mask&&t.maskManager.popMask(this,this._mask),this._filters&&t.filterManager.popFilter(),t.currentRenderer.start()}else for(this._renderWebGL(t),e=0,r=this.children.length;r>e;++e)this.children[e].renderWebGL(t)}},i.prototype._renderWebGL=function(t){},i.prototype._renderCanvas=function(t){},i.prototype.renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask,t),this._renderCanvas(t);for(var e=0,r=this.children.length;r>e;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},i.prototype.destroy=function(t){if(s.prototype.destroy.call(this),t)for(var e=0,r=this.children.length;r>e;++e)this.children[e].destroy(t);this.removeChildren(),this.children=null}},{"../math":33,"../textures/RenderTexture":71,"../utils":77,"./DisplayObject":24}],24:[function(t,e,r){function i(){s.call(this),this.position=new n.Point,this.scale=new n.Point(1,1),this.pivot=new n.Point(0,0),this.skew=new n.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.worldTransform=new n.Matrix,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new n.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null}var n=t("../math"),o=t("../textures/RenderTexture"),s=t("eventemitter3"),a=t("../const"),h=new n.Matrix,u={worldTransform:new n.Matrix,worldAlpha:1,children:[]};i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},worldVisible:{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},mask:{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}}),i.prototype.updateTransform=function(){var t,e,r,i,n,o,s=this.parent.worldTransform,u=this.worldTransform;this.skew.x||this.skew.y?(h.setTransform(this.position.x,this.position.y,this.pivot.x,this.pivot.y,this.scale.x,this.scale.y,this.rotation,this.skew.x,this.skew.y),u.a=h.a*s.a+h.b*s.c,u.b=h.a*s.b+h.b*s.d,u.c=h.c*s.a+h.d*s.c,u.d=h.c*s.b+h.d*s.d,u.tx=h.tx*s.a+h.ty*s.c+s.tx,u.ty=h.tx*s.b+h.ty*s.d+s.ty):this.rotation%a.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),t=this._cr*this.scale.x,e=this._sr*this.scale.x,r=-this._sr*this.scale.y,i=this._cr*this.scale.y,n=this.position.x,o=this.position.y,(this.pivot.x||this.pivot.y)&&(n-=this.pivot.x*t+this.pivot.y*r,o-=this.pivot.x*e+this.pivot.y*i),u.a=t*s.a+e*s.c,u.b=t*s.b+e*s.d,u.c=r*s.a+i*s.c,u.d=r*s.b+i*s.d,u.tx=n*s.a+o*s.c+s.tx,u.ty=n*s.b+o*s.d+s.ty):(t=this.scale.x,i=this.scale.y,n=this.position.x-this.pivot.x*t,o=this.position.y-this.pivot.y*i,u.a=t*s.a,u.b=t*s.b,u.c=i*s.c,u.d=i*s.d,u.tx=n*s.a+o*s.c+s.tx,u.ty=n*s.b+o*s.d+s.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null},i.prototype.displayObjectUpdateTransform=i.prototype.updateTransform,i.prototype.getBounds=function(t){return n.Rectangle.EMPTY},i.prototype.getLocalBounds=function(){return this.getBounds(n.Matrix.IDENTITY)},i.prototype.toGlobal=function(t){return this.parent?this.displayObjectUpdateTransform():(this.parent=u,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.apply(t)},i.prototype.toLocal=function(t,e,r){return e&&(t=e.toGlobal(t)),this.parent?this.displayObjectUpdateTransform():(this.parent=u,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.applyInverse(t,r)},i.prototype.renderWebGL=function(t){},i.prototype.renderCanvas=function(t){},i.prototype.generateTexture=function(t,e,r){var i=this.getLocalBounds(),n=new o(t,0|i.width,0|i.height,e,r);return h.tx=-i.x,h.ty=-i.y,n.render(this,h),n},i.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},i.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return this.position.x=t||0,this.position.y=e||0,this.scale.x=r?r:1,this.scale.y=i?i:1,this.rotation=n||0,this.skew.x=o||0,this.skew.y=s||0,this.pivot.x=a||0,this.pivot.y=h||0,this},i.prototype.destroy=function(){this.position=null,this.scale=null,this.pivot=null,this.skew=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.worldTransform=null,this.filterArea=null}},{"../const":22,"../math":33,"../textures/RenderTexture":71,eventemitter3:10}],25:[function(t,e,r){function i(){n.call(this),this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=l.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new u.Rectangle(0,0,1,1),this.dirty=!0,this.glDirty=!1,this.boundsDirty=!0,this.cachedSpriteDirty=!1}var n=t("../display/Container"),o=t("../textures/Texture"),s=t("../renderers/canvas/utils/CanvasBuffer"),a=t("../renderers/canvas/utils/CanvasGraphics"),h=t("./GraphicsData"),u=t("../math"),l=t("../const"),c=new u.Point;i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){var t=new i;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=!0,t.glDirty=!0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},i.prototype.lineStyle=function(t,e,r){if(this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=void 0===r?1:r,this.currentPath)if(this.currentPath.shape.points.length){var i=new u.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},i.prototype.moveTo=function(t,e){var r=new u.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},i.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty=!0,this},i.prototype.quadraticCurveTo=function(t,e,r,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n,o,s=20,a=this.currentPath.shape.points;0===a.length&&this.moveTo(0,0);for(var h=a[a.length-2],u=a[a.length-1],l=0,c=1;s>=c;++c)l=c/s,n=h+(t-h)*l,o=u+(e-u)*l,a.push(n+(t+(r-t)*l-n)*l,o+(e+(i-e)*l-o)*l);return this.dirty=this.boundsDirty=!0,this},i.prototype.bezierCurveTo=function(t,e,r,i,n,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var s,a,h,u,l,c=20,p=this.currentPath.shape.points,d=p[p.length-2],f=p[p.length-1],v=0,g=1;c>=g;++g)v=g/c,s=1-v,a=s*s,h=a*s,u=v*v,l=u*v,p.push(h*d+3*a*v*t+3*s*u*r+l*n,h*f+3*a*v*e+3*s*u*i+l*o);return this.dirty=this.boundsDirty=!0,this},i.prototype.arcTo=function(t,e,r,i,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1],h=a-e,u=s-t,l=i-e,c=r-t,p=Math.abs(h*c-u*l);if(1e-8>p||0===n)(o[o.length-2]!==t||o[o.length-1]!==e)&&o.push(t,e);else{var d=h*h+u*u,f=l*l+c*c,v=h*l+u*c,g=n*Math.sqrt(d)/p,m=n*Math.sqrt(f)/p,y=g*v/d,x=m*v/f,b=g*c+m*u,_=g*l+m*h,T=u*(m+y),E=h*(m+y),S=c*(g+x),w=l*(g+x),A=Math.atan2(E-_,T-b),C=Math.atan2(w-_,S-b);this.arc(b+t,_+e,n,A,C,u*l>c*h)}return this.dirty=this.boundsDirty=!0,this},i.prototype.arc=function(t,e,r,i,n,o){if(o=o||!1,i===n)return this;!o&&i>=n?n+=2*Math.PI:o&&n>=i&&(i+=2*Math.PI);var s=o?-1*(i-n):n-i,a=40*Math.ceil(Math.abs(s)/(2*Math.PI));if(0===s)return this;var h=t+Math.cos(i)*r,u=e+Math.sin(i)*r;this.currentPath?this.currentPath.shape.points.push(h,u):this.moveTo(h,u);for(var l=this.currentPath.shape.points,c=s/(2*a),p=2*c,d=Math.cos(c),f=Math.sin(c),v=a-1,g=v%1/v,m=0;v>=m;m++){var y=m+g*m,x=c+i+p*y,b=Math.cos(x),_=-Math.sin(x);l.push((d*b+f*_)*r+t,(d*-_+f*b)*r+e)}return this.dirty=this.boundsDirty=!0,this},i.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},i.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},i.prototype.drawRect=function(t,e,r,i){return this.drawShape(new u.Rectangle(t,e,r,i)),this},i.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new u.RoundedRectangle(t,e,r,i,n)),this},i.prototype.drawCircle=function(t,e,r){return this.drawShape(new u.Circle(t,e,r)),this},i.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new u.Ellipse(t,e,r,i)),this},i.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof u.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var i=0;i<e.length;++i)e[i]=arguments[i]}var n=new u.Polygon(e);return n.closed=r,this.drawShape(n),this},i.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},i.prototype.generateTexture=function(t,e,r){e=e||1;var i=this.getLocalBounds(),n=new s(i.width*e,i.height*e),h=o.fromCanvas(n.canvas,r);return h.baseTexture.resolution=e,n.context.scale(e,e),n.context.translate(-i.x,-i.y),a.renderGraphics(this,n.context),h},i.prototype._renderWebGL=function(t){this.glDirty&&(this.dirty=!0,this.glDirty=!1),t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this)},i.prototype._renderCanvas=function(t){if(this.isMask!==!0){this._prevTint!==this.tint&&(this.dirty=!0);var e=t.context,r=this.worldTransform,i=t.blendModes[this.blendMode];i!==e.globalCompositeOperation&&(e.globalCompositeOperation=i);var n=t.resolution;e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n),a.renderGraphics(this,e)}},i.prototype.getBounds=function(t){if(!this._currentBounds){if(!this.renderable)return u.Rectangle.EMPTY;this.boundsDirty&&(this.updateLocalBounds(),this.glDirty=!0,this.cachedSpriteDirty=!0,this.boundsDirty=!1);var e=this._localBounds,r=e.x,i=e.width+e.x,n=e.y,o=e.height+e.y,s=t||this.worldTransform,a=s.a,h=s.b,l=s.c,c=s.d,p=s.tx,d=s.ty,f=a*i+l*o+p,v=c*o+h*i+d,g=a*r+l*o+p,m=c*o+h*r+d,y=a*r+l*n+p,x=c*n+h*r+d,b=a*i+l*n+p,_=c*n+h*i+d,T=f,E=v,S=f,w=v;S=S>g?g:S,S=S>y?y:S,S=S>b?b:S,w=w>m?m:w,w=w>x?x:w,w=w>_?_:w,T=g>T?g:T,T=y>T?y:T,T=b>T?b:T,E=m>E?m:E,E=x>E?x:E,E=_>E?_:E,this._bounds.x=S,this._bounds.width=T-S,this._bounds.y=w,this._bounds.height=E-w,this._currentBounds=this._bounds}return this._currentBounds},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);for(var e=this.graphicsData,r=0;r<e.length;r++){var i=e[r];if(i.fill&&i.shape&&i.shape.contains(c.x,c.y))return!0}return!1},i.prototype.updateLocalBounds=function(){var t=1/0,e=-(1/0),r=1/0,i=-(1/0);if(this.graphicsData.length)for(var n,o,s,a,h,u,c=0;c<this.graphicsData.length;c++){var p=this.graphicsData[c],d=p.type,f=p.lineWidth;if(n=p.shape,d===l.SHAPES.RECT||d===l.SHAPES.RREC)s=n.x-f/2,a=n.y-f/2,h=n.width+f,u=n.height+f,t=t>s?s:t,e=s+h>e?s+h:e,r=r>a?a:r,i=a+u>i?a+u:i;else if(d===l.SHAPES.CIRC)s=n.x,a=n.y,h=n.radius+f/2,u=n.radius+f/2,t=t>s-h?s-h:t,e=s+h>e?s+h:e,r=r>a-u?a-u:r,i=a+u>i?a+u:i;else if(d===l.SHAPES.ELIP)s=n.x,a=n.y,h=n.width+f/2,u=n.height+f/2,t=t>s-h?s-h:t,e=s+h>e?s+h:e,r=r>a-u?a-u:r,i=a+u>i?a+u:i;else{o=n.points;for(var v=0;v<o.length;v+=2)s=o[v],a=o[v+1],t=t>s-f?s-f:t,e=s+f>e?s+f:e,r=r>a-f?a-f:r,i=a+f>i?a+f:i}}else t=0,e=0,r=0,i=0;var g=this.boundsPadding;this._localBounds.x=t-g,this._localBounds.width=e-t+2*g,this._localBounds.y=r-g,this._localBounds.height=i-r+2*g},i.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new h(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(e),e.type===l.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty=this.boundsDirty=!0,e},i.prototype.destroy=function(){n.prototype.destroy.apply(this,arguments);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();for(var e in this._webgl)for(var r=0;r<this._webgl[e].data.length;++r)this._webgl[e].data[r].destroy();this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null}},{"../const":22,"../display/Container":23,"../math":33,"../renderers/canvas/utils/CanvasBuffer":45,"../renderers/canvas/utils/CanvasGraphics":46,"../textures/Texture":72,"./GraphicsData":26}],26:[function(t,e,r){function i(t,e,r,i,n,o,s){this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this._lineTint=e,this.fillColor=i,this.fillAlpha=n,this._fillTint=i,this.fill=o,this.shape=s,this.type=s.type}i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},i.prototype.destroy=function(){this.shape=null}},{}],27:[function(t,e,r){function i(t){a.call(this,t),this.graphicsDataPool=[],this.primitiveShader=null,this.complexPrimitiveShader=null,this.maximumSimplePolySize=200}var n=t("../../utils"),o=t("../../math"),s=t("../../const"),a=t("../../renderers/webgl/utils/ObjectRenderer"),h=t("../../renderers/webgl/WebGLRenderer"),u=t("./WebGLGraphicsData"),l=t("earcut");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,h.registerPlugin("graphics",i),i.prototype.onContextChange=function(){},i.prototype.destroy=function(){a.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},i.prototype.render=function(t){var e,r=this.renderer,i=r.gl,o=r.shaderManager.plugins.primitiveShader;(t.dirty||!t._webGL[i.id])&&this.updateGraphics(t);var s=t._webGL[i.id];r.blendModeManager.setBlendMode(t.blendMode);for(var a=0,h=s.data.length;h>a;a++)e=s.data[a],1===s.data[a].mode?(r.stencilManager.pushStencil(t,e),i.uniform1f(r.shaderManager.complexPrimitiveShader.uniforms.alpha._location,t.worldAlpha*e.alpha),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(e.indices.length-4)),r.stencilManager.popStencil(t,e)):(o=r.shaderManager.primitiveShader,r.shaderManager.setShader(o),i.uniformMatrix3fv(o.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(o.uniforms.projectionMatrix._location,!1,r.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(o.uniforms.tint._location,n.hex2rgb(t.tint)),i.uniform1f(o.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(o.attributes.aVertexPosition,2,i.FLOAT,!1,24,0),i.vertexAttribPointer(o.attributes.aColor,4,i.FLOAT,!1,24,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer),i.drawElements(i.TRIANGLE_STRIP,e.indices.length,i.UNSIGNED_SHORT,0)),r.drawCount++},i.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[e.id];r||(r=t._webGL[e.id]={lastIndex:0,data:[],gl:e}),t.dirty=!1;var i;if(t.clearDirty){for(t.clearDirty=!1,i=0;i<r.data.length;i++){var n=r.data[i];n.reset(),this.graphicsDataPool.push(n)}r.data=[],r.lastIndex=0}var o;for(i=r.lastIndex;i<t.graphicsData.length;i++){var a=t.graphicsData[i];if(a.type===s.SHAPES.POLY){if(a.points=a.shape.points.slice(),a.shape.closed&&(a.points[0]!==a.points[a.points.length-2]||a.points[1]!==a.points[a.points.length-1])&&a.points.push(a.points[0],a.points[1]),a.fill&&a.points.length>=6)if(a.points.length<2*this.maximumSimplePolySize){o=this.switchMode(r,0);var h=this.buildPoly(a,o);h||(o=this.switchMode(r,1),this.buildComplexPoly(a,o))}else o=this.switchMode(r,1),this.buildComplexPoly(a,o);a.lineWidth>0&&(o=this.switchMode(r,0),this.buildLine(a,o))}else o=this.switchMode(r,0),a.type===s.SHAPES.RECT?this.buildRectangle(a,o):a.type===s.SHAPES.CIRC||a.type===s.SHAPES.ELIP?this.buildCircle(a,o):a.type===s.SHAPES.RREC&&this.buildRoundedRectangle(a,o);r.lastIndex++}for(i=0;i<r.data.length;i++)o=r.data[i],o.dirty&&o.upload()},i.prototype.switchMode=function(t,e){var r;return t.data.length?(r=t.data[t.data.length-1],(r.points.length>32e4||r.mode!==e||1===e)&&(r=this.graphicsDataPool.pop()||new u(t.gl),r.mode=e,t.data.push(r))):(r=this.graphicsDataPool.pop()||new u(t.gl),r.mode=e,t.data.push(r)),r.dirty=!0,r},i.prototype.buildRectangle=function(t,e){var r=t.shape,i=r.x,o=r.y,s=r.width,a=r.height;if(t.fill){var h=n.hex2rgb(t.fillColor),u=t.fillAlpha,l=h[0]*u,c=h[1]*u,p=h[2]*u,d=e.points,f=e.indices,v=d.length/6;d.push(i,o),d.push(l,c,p,u),d.push(i+s,o),d.push(l,c,p,u),d.push(i,o+a),d.push(l,c,p,u),d.push(i+s,o+a),d.push(l,c,p,u),f.push(v,v,v+1,v+2,v+3,v+3)}if(t.lineWidth){var g=t.points;t.points=[i,o,i+s,o,i+s,o+a,i,o+a,i,o],this.buildLine(t,e),t.points=g}},i.prototype.buildRoundedRectangle=function(t,e){var r=t.shape,i=r.x,o=r.y,s=r.width,a=r.height,h=r.radius,u=[];if(u.push(i,o+h),this.quadraticBezierCurve(i,o+a-h,i,o+a,i+h,o+a,u),this.quadraticBezierCurve(i+s-h,o+a,i+s,o+a,i+s,o+a-h,u),this.quadraticBezierCurve(i+s,o+h,i+s,o,i+s-h,o,u),this.quadraticBezierCurve(i+h,o,i,o,i,o+h+1e-10,u),t.fill){var c=n.hex2rgb(t.fillColor),p=t.fillAlpha,d=c[0]*p,f=c[1]*p,v=c[2]*p,g=e.points,m=e.indices,y=g.length/6,x=l(u,null,2),b=0;for(b=0;b<x.length;b+=3)m.push(x[b]+y),m.push(x[b]+y),m.push(x[b+1]+y),m.push(x[b+2]+y),m.push(x[b+2]+y);for(b=0;b<u.length;b++)g.push(u[b],u[++b],d,f,v,p)}if(t.lineWidth){var _=t.points;t.points=u,this.buildLine(t,e),t.points=_}},i.prototype.quadraticBezierCurve=function(t,e,r,i,n,o,s){function a(t,e,r){var i=e-t;return t+i*r}for(var h,u,l,c,p,d,f=20,v=s||[],g=0,m=0;f>=m;m++)g=m/f,h=a(t,r,g),u=a(e,i,g),l=a(r,n,g),c=a(i,o,g),p=a(h,l,g),d=a(u,c,g),v.push(p,d);return v},i.prototype.buildCircle=function(t,e){var r,i,o=t.shape,a=o.x,h=o.y;t.type===s.SHAPES.CIRC?(r=o.radius,i=o.radius):(r=o.width,i=o.height);var u=Math.floor(30*Math.sqrt(o.radius))||Math.floor(15*Math.sqrt(o.width+o.height)),l=2*Math.PI/u,c=0;if(t.fill){var p=n.hex2rgb(t.fillColor),d=t.fillAlpha,f=p[0]*d,v=p[1]*d,g=p[2]*d,m=e.points,y=e.indices,x=m.length/6;for(y.push(x),c=0;u+1>c;c++)m.push(a,h,f,v,g,d),m.push(a+Math.sin(l*c)*r,h+Math.cos(l*c)*i,f,v,g,d),y.push(x++,x++);y.push(x-1)}if(t.lineWidth){var b=t.points;for(t.points=[],c=0;u+1>c;c++)t.points.push(a+Math.sin(l*c)*r,h+Math.cos(l*c)*i);this.buildLine(t,e),t.points=b}},i.prototype.buildLine=function(t,e){var r=0,i=t.points;if(0!==i.length){var s=new o.Point(i[0],i[1]),a=new o.Point(i[i.length-2],i[i.length-1]);if(s.x===a.x&&s.y===a.y){i=i.slice(),i.pop(),i.pop(),a=new o.Point(i[i.length-2],i[i.length-1]);var h=a.x+.5*(s.x-a.x),u=a.y+.5*(s.y-a.y);i.unshift(h,u),i.push(h,u)}var l,c,p,d,f,v,g,m,y,x,b,_,T,E,S,w,A,C,M,R,O,P,F,D=e.points,B=e.indices,L=i.length/2,I=i.length,N=D.length/6,U=t.lineWidth/2,k=n.hex2rgb(t.lineColor),j=t.lineAlpha,X=k[0]*j,Y=k[1]*j,G=k[2]*j;for(p=i[0],d=i[1],f=i[2],v=i[3],y=-(d-v),x=p-f,F=Math.sqrt(y*y+x*x),y/=F,x/=F,y*=U,x*=U,D.push(p-y,d-x,X,Y,G,j),D.push(p+y,d+x,X,Y,G,j),r=1;L-1>r;r++)p=i[2*(r-1)],d=i[2*(r-1)+1],f=i[2*r],v=i[2*r+1],g=i[2*(r+1)],m=i[2*(r+1)+1],y=-(d-v),x=p-f,F=Math.sqrt(y*y+x*x),y/=F,x/=F,y*=U,x*=U,b=-(v-m),_=f-g,F=Math.sqrt(b*b+_*_),b/=F,_/=F,b*=U,_*=U,S=-x+d-(-x+v),w=-y+f-(-y+p),A=(-y+p)*(-x+v)-(-y+f)*(-x+d),C=-_+m-(-_+v),M=-b+f-(-b+g),R=(-b+g)*(-_+v)-(-b+f)*(-_+m),O=S*M-C*w,Math.abs(O)<.1?(O+=10.1,D.push(f-y,v-x,X,Y,G,j),D.push(f+y,v+x,X,Y,G,j)):(l=(w*R-M*A)/O,c=(C*A-S*R)/O,P=(l-f)*(l-f)+(c-v)*(c-v),P>19600?(T=y-b,E=x-_,F=Math.sqrt(T*T+E*E),T/=F,E/=F,T*=U,E*=U,D.push(f-T,v-E),D.push(X,Y,G,j),D.push(f+T,v+E),D.push(X,Y,G,j),D.push(f-T,v-E),D.push(X,Y,G,j),I++):(D.push(l,c),D.push(X,Y,G,j),D.push(f-(l-f),v-(c-v)),D.push(X,Y,G,j)));for(p=i[2*(L-2)],d=i[2*(L-2)+1],f=i[2*(L-1)],v=i[2*(L-1)+1],y=-(d-v),x=p-f,F=Math.sqrt(y*y+x*x),y/=F,x/=F,y*=U,x*=U,D.push(f-y,v-x),D.push(X,Y,G,j),D.push(f+y,v+x),D.push(X,Y,G,j),B.push(N),r=0;I>r;r++)B.push(N++);B.push(N-1)}},i.prototype.buildComplexPoly=function(t,e){var r=t.points.slice();if(!(r.length<6)){var i=e.indices;e.points=r,e.alpha=t.fillAlpha,e.color=n.hex2rgb(t.fillColor);for(var o,s,a=1/0,h=-(1/0),u=1/0,l=-(1/0),c=0;c<r.length;c+=2)o=r[c],s=r[c+1],a=a>o?o:a,h=o>h?o:h,u=u>s?s:u,l=s>l?s:l;r.push(a,u,h,u,h,l,a,l);var p=r.length/2;for(c=0;p>c;c++)i.push(c)}},i.prototype.buildPoly=function(t,e){var r=t.points;if(!(r.length<6)){var i=e.points,o=e.indices,s=r.length/2,a=n.hex2rgb(t.fillColor),h=t.fillAlpha,u=a[0]*h,c=a[1]*h,p=a[2]*h,d=l(r,null,2);if(!d)return!1;var f=i.length/6,v=0;for(v=0;v<d.length;v+=3)o.push(d[v]+f),o.push(d[v]+f),o.push(d[v+1]+f),o.push(d[v+2]+f),o.push(d[v+2]+f);for(v=0;s>v;v++)i.push(r[2*v],r[2*v+1],u,c,p,h);return!0}}},{"../../const":22,"../../math":33,"../../renderers/webgl/WebGLRenderer":49,"../../renderers/webgl/utils/ObjectRenderer":63,"../../utils":77,"./WebGLGraphicsData":28,earcut:9}],28:[function(t,e,r){function i(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0,this.glPoints=null,this.glIndices=null}i.prototype.constructor=i,e.exports=i,i.prototype.reset=function(){this.points.length=0,this.indices.length=0},i.prototype.upload=function(){var t=this.gl;this.glPoints=new Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndices=new Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndices,t.STATIC_DRAW),this.dirty=!1},i.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.gl.deleteBuffer(this.buffer),this.gl.deleteBuffer(this.indexBuffer),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}},{}],29:[function(t,e,r){var i=e.exports=Object.assign(t("./const"),t("./math"),{utils:t("./utils"),ticker:t("./ticker"),DisplayObject:t("./display/DisplayObject"),Container:t("./display/Container"),Sprite:t("./sprites/Sprite"),ParticleContainer:t("./particles/ParticleContainer"),SpriteRenderer:t("./sprites/webgl/SpriteRenderer"),ParticleRenderer:t("./particles/webgl/ParticleRenderer"),Text:t("./text/Text"),Graphics:t("./graphics/Graphics"),GraphicsData:t("./graphics/GraphicsData"),GraphicsRenderer:t("./graphics/webgl/GraphicsRenderer"),Texture:t("./textures/Texture"),BaseTexture:t("./textures/BaseTexture"),RenderTexture:t("./textures/RenderTexture"),VideoBaseTexture:t("./textures/VideoBaseTexture"),TextureUvs:t("./textures/TextureUvs"),CanvasRenderer:t("./renderers/canvas/CanvasRenderer"),CanvasGraphics:t("./renderers/canvas/utils/CanvasGraphics"),CanvasBuffer:t("./renderers/canvas/utils/CanvasBuffer"),WebGLRenderer:t("./renderers/webgl/WebGLRenderer"),WebGLManager:t("./renderers/webgl/managers/WebGLManager"),ShaderManager:t("./renderers/webgl/managers/ShaderManager"),Shader:t("./renderers/webgl/shaders/Shader"),TextureShader:t("./renderers/webgl/shaders/TextureShader"),PrimitiveShader:t("./renderers/webgl/shaders/PrimitiveShader"),ComplexPrimitiveShader:t("./renderers/webgl/shaders/ComplexPrimitiveShader"),ObjectRenderer:t("./renderers/webgl/utils/ObjectRenderer"),RenderTarget:t("./renderers/webgl/utils/RenderTarget"),AbstractFilter:t("./renderers/webgl/filters/AbstractFilter"),FXAAFilter:t("./renderers/webgl/filters/FXAAFilter"),SpriteMaskFilter:t("./renderers/webgl/filters/SpriteMaskFilter"),autoDetectRenderer:function(t,e,r,n){return t=t||800,e=e||600,!n&&i.utils.isWebGLSupported()?new i.WebGLRenderer(t,e,r):new i.CanvasRenderer(t,e,r)}})},{"./const":22,"./display/Container":23,"./display/DisplayObject":24,"./graphics/Graphics":25,"./graphics/GraphicsData":26,"./graphics/webgl/GraphicsRenderer":27,"./math":33,"./particles/ParticleContainer":39,"./particles/webgl/ParticleRenderer":41,"./renderers/canvas/CanvasRenderer":44,"./renderers/canvas/utils/CanvasBuffer":45,"./renderers/canvas/utils/CanvasGraphics":46,"./renderers/webgl/WebGLRenderer":49,"./renderers/webgl/filters/AbstractFilter":50,"./renderers/webgl/filters/FXAAFilter":51,"./renderers/webgl/filters/SpriteMaskFilter":52,"./renderers/webgl/managers/ShaderManager":56,"./renderers/webgl/managers/WebGLManager":58,"./renderers/webgl/shaders/ComplexPrimitiveShader":59,"./renderers/webgl/shaders/PrimitiveShader":60,"./renderers/webgl/shaders/Shader":61,"./renderers/webgl/shaders/TextureShader":62,"./renderers/webgl/utils/ObjectRenderer":63,"./renderers/webgl/utils/RenderTarget":65,"./sprites/Sprite":67,"./sprites/webgl/SpriteRenderer":68,"./text/Text":69,"./textures/BaseTexture":70,"./textures/RenderTexture":71,"./textures/Texture":72,"./textures/TextureUvs":73,"./textures/VideoBaseTexture":74,"./ticker":76,"./utils":77}],30:[function(t,e,r){function i(t){return 0>t?-1:t>0?1:0}function n(){for(var t=0;16>t;t++){var e=[];c.push(e);for(var r=0;16>r;r++)for(var n=i(o[t]*o[r]+a[t]*s[r]),p=i(s[t]*o[r]+h[t]*s[r]),d=i(o[t]*a[r]+a[t]*h[r]),f=i(s[t]*a[r]+h[t]*h[r]),v=0;16>v;v++)if(o[v]===n&&s[v]===p&&a[v]===d&&h[v]===f){e.push(v);break}}for(t=0;16>t;t++){var g=new l;
g.set(o[t],s[t],a[t],h[t],0,0),u.push(g)}}var o=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],a=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],h=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],u=[],l=t("./Matrix"),c=[];n();var p={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return o[t]},uY:function(t){return s[t]},vX:function(t){return a[t]},vY:function(t){return h[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return c[t][e]},sub:function(t,e){return c[t][p.inv(e)]},rotate180:function(t){return 4^t},isSwapWidthHeight:function(t){return 2===(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?p.S:p.N:2*Math.abs(e)<=Math.abs(t)?t>0?p.E:p.W:e>0?t>0?p.SE:p.SW:t>0?p.NE:p.NW},matrixAppendRotationInv:function(t,e,r,i){var n=u[p.inv(e)];r=r||0,i=i||0,n.tx=r,n.ty=i,t.append(n)}};e.exports=p},{"./Matrix":31}],31:[function(t,e,r){function i(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}var n=t("./Point");i.prototype.constructor=i,e.exports=i,i.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},i.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},i.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},i.prototype.apply=function(t,e){e=e||new n;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},i.prototype.applyInverse=function(t,e){e=e||new n;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,o=t.y;return e.x=this.d*r*i+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*o+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},i.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},i.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},i.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},i.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},i.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){var u,l,c,p,d,f,v,g,m,y;return d=Math.sin(s),f=Math.cos(s),v=Math.cos(h),g=Math.sin(h),m=-Math.sin(a),y=Math.cos(a),u=f*n,l=d*n,c=-d*o,p=f*o,this.a=v*u+g*c,this.b=v*l+g*p,this.c=m*u+y*c,this.d=m*l+y*p,this.tx=t+(r*u+i*c),this.ty=e+(r*l+i*p),this},i.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},i.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},i.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},i.prototype.clone=function(){var t=new i;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i.IDENTITY=new i,i.TEMP_MATRIX=new i},{"./Point":32}],32:[function(t,e,r){function i(t,e){this.x=t||0,this.y=e||0}i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.copy=function(t){this.set(t.x,t.y)},i.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},i.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)}},{}],33:[function(t,e,r){e.exports={Point:t("./Point"),Matrix:t("./Matrix"),GroupD8:t("./GroupD8"),Circle:t("./shapes/Circle"),Ellipse:t("./shapes/Ellipse"),Polygon:t("./shapes/Polygon"),Rectangle:t("./shapes/Rectangle"),RoundedRectangle:t("./shapes/RoundedRectangle")}},{"./GroupD8":30,"./Matrix":31,"./Point":32,"./shapes/Circle":34,"./shapes/Ellipse":35,"./shapes/Polygon":36,"./shapes/Rectangle":37,"./shapes/RoundedRectangle":38}],34:[function(t,e,r){function i(t,e,r){this.x=t||0,this.y=e||0,this.radius=r||0,this.type=o.SHAPES.CIRC}var n=t("./Rectangle"),o=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.radius)},i.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.x-t,i=this.y-e,n=this.radius*this.radius;return r*=r,i*=i,n>=r+i},i.prototype.getBounds=function(){return new n(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},{"../../const":22,"./Rectangle":37}],35:[function(t,e,r){function i(t,e,r,i){this.x=t||0,this.y=e||0,this.width=r||0,this.height=i||0,this.type=o.SHAPES.ELIP}var n=t("./Rectangle"),o=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return r*=r,i*=i,1>=r+i},i.prototype.getBounds=function(){return new n(this.x-this.width,this.y-this.height,this.width,this.height)}},{"../../const":22,"./Rectangle":37}],36:[function(t,e,r){function i(t){var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}if(e[0]instanceof n){for(var i=[],s=0,a=e.length;a>s;s++)i.push(e[s].x,e[s].y);e=i}this.closed=!0,this.points=e,this.type=o.SHAPES.POLY}var n=t("../Point"),o=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.points.slice())},i.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;i>n;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1],l=a>e!=u>e&&(h-s)*(e-a)/(u-a)+s>t;l&&(r=!r)}return r}},{"../../const":22,"../Point":32}],37:[function(t,e,r){function i(t,e,r,i){this.x=t||0,this.y=e||0,this.width=r||0,this.height=i||0,this.type=n.SHAPES.RECT}var n=t("../../const");i.prototype.constructor=i,e.exports=i,i.EMPTY=new i(0,0,0,0),i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height?!0:!1}},{"../../const":22}],38:[function(t,e,r){function i(t,e,r,i,o){this.x=t||0,this.y=e||0,this.width=r||0,this.height=i||0,this.radius=o||20,this.type=n.SHAPES.RREC}var n=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.radius)},i.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height?!0:!1}},{"../../const":22}],39:[function(t,e,r){function i(t,e,r){n.call(this),r=r||15e3,t=t||15e3;var i=16384;r>i&&(r=i),r>t&&(r=t),this._properties=[!1,!0,!1,!1,!1],this._maxSize=t,this._batchSize=r,this._buffers=null,this._bufferToUpdate=0,this.interactiveChildren=!1,this.blendMode=o.BLEND_MODES.NORMAL,this.roundPixels=!0,this.setProperties(e)}var n=t("../display/Container"),o=t("../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},i.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},i.prototype.renderWebGL=function(t){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},i.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);e<this._bufferToUpdate&&(this._bufferToUpdate=e)},i.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,i=!0,n=0,o=0,s=0,a=0,h=t.blendModes[this.blendMode];h!==e.globalCompositeOperation&&(e.globalCompositeOperation=h),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var l=this.children[u];if(l.visible){var c=l.texture.frame;if(e.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(2*Math.PI)===0)i&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),i=!1),n=l.anchor.x*(-c.width*l.scale.x)+l.position.x+.5,o=l.anchor.y*(-c.height*l.scale.y)+l.position.y+.5,s=c.width*l.scale.x,a=c.height*l.scale.y;else{i||(i=!0),l.displayObjectUpdateTransform();var p=l.worldTransform;t.roundPixels?e.setTransform(p.a,p.b,p.c,p.d,0|p.tx,0|p.ty):e.setTransform(p.a,p.b,p.c,p.d,p.tx,p.ty),n=l.anchor.x*-c.width+.5,o=l.anchor.y*-c.height+.5,s=c.width,a=c.height}e.drawImage(l.texture.baseTexture.source,c.x,c.y,c.width,c.height,n,o,s,a)}}}},i.prototype.destroy=function(){if(n.prototype.destroy.apply(this,arguments),this._buffers)for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._properties=null,this._buffers=null}},{"../const":22,"../display/Container":23}],40:[function(t,e,r){function i(t,e,r,i){this.gl=t,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<e.length;n++){var o=e[n];r[n]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}i.prototype.constructor=i,e.exports=i,i.prototype.initBuffers=function(){var t,e,r=this.gl,i=0;for(this.dynamicStride=0,t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],e.offset=i,i+=e.size,this.dynamicStride+=e.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.dynamicBuffer),r.bufferData(r.ARRAY_BUFFER,this.dynamicData,r.DYNAMIC_DRAW);var n=0;for(this.staticStride=0,t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],e.offset=n,n+=e.size,this.staticStride+=e.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.staticBuffer),r.bufferData(r.ARRAY_BUFFER,this.staticData,r.DYNAMIC_DRAW)},i.prototype.uploadDynamic=function(t,e,r){for(var i=this.gl,n=0;n<this.dynamicProperties.length;n++){var o=this.dynamicProperties[n];o.uploadFunction(t,e,r,this.dynamicData,this.dynamicStride,o.offset)}i.bindBuffer(i.ARRAY_BUFFER,this.dynamicBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.dynamicData)},i.prototype.uploadStatic=function(t,e,r){for(var i=this.gl,n=0;n<this.staticProperties.length;n++){var o=this.staticProperties[n];o.uploadFunction(t,e,r,this.staticData,this.staticStride,o.offset)}i.bindBuffer(i.ARRAY_BUFFER,this.staticBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.staticData)},i.prototype.bind=function(){var t,e,r=this.gl;for(r.bindBuffer(r.ARRAY_BUFFER,this.dynamicBuffer),t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],r.vertexAttribPointer(e.attribute,e.size,r.FLOAT,!1,4*this.dynamicStride,4*e.offset);for(r.bindBuffer(r.ARRAY_BUFFER,this.staticBuffer),t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],r.vertexAttribPointer(e.attribute,e.size,r.FLOAT,!1,4*this.staticStride,4*e.offset)},i.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.gl.deleteBuffer(this.dynamicBuffer),this.staticProperties=null,this.staticData=null,this.gl.deleteBuffer(this.staticBuffer)}},{}],41:[function(t,e,r){function i(t){n.call(this,t);var e=98304;this.indices=new Uint16Array(e);for(var r=0,i=0;e>r;r+=6,i+=4)this.indices[r+0]=i+0,this.indices[r+1]=i+1,this.indices[r+2]=i+2,this.indices[r+3]=i+0,this.indices[r+4]=i+2,this.indices[r+5]=i+3;this.shader=null,this.indexBuffer=null,this.properties=null,this.tempMatrix=new h.Matrix}var n=t("../../renderers/webgl/utils/ObjectRenderer"),o=t("../../renderers/webgl/WebGLRenderer"),s=t("./ParticleShader"),a=t("./ParticleBuffer"),h=t("../../math");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,o.registerPlugin("particle",i),i.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new s(this.renderer.shaderManager),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},i.prototype.start=function(){var t=this.renderer.gl;t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.shader;this.renderer.shaderManager.setShader(e)},i.prototype.render=function(t){var e=t.children,r=e.length,i=t._maxSize,n=t._batchSize;if(0!==r){r>i&&(r=i),t._buffers||(t._buffers=this.generateBuffers(t)),this.renderer.blendModeManager.setBlendMode(t.blendMode);var o=this.renderer.gl,s=t.worldTransform.copy(this.tempMatrix);s.prepend(this.renderer.currentRenderTarget.projectionMatrix),o.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location,!1,s.toArray(!0)),o.uniform1f(this.shader.uniforms.uAlpha._location,t.worldAlpha);var a=e[0]._texture.baseTexture;if(a._glTextures[o.id])o.bindTexture(o.TEXTURE_2D,a._glTextures[o.id]);else{if(!this.renderer.updateTexture(a))return;t._properties[0]&&t._properties[3]||(t._bufferToUpdate=0)}for(var h=0,u=0;r>h;h+=n,u+=1){var l=r-h;l>n&&(l=n);var c=t._buffers[u];c.uploadDynamic(e,h,l),t._bufferToUpdate===u&&(c.uploadStatic(e,h,l),t._bufferToUpdate=u+1),c.bind(this.shader),o.drawElements(o.TRIANGLES,6*l,o.UNSIGNED_SHORT,0),this.renderer.drawCount++}}},i.prototype.generateBuffers=function(t){var e,r=this.renderer.gl,i=[],n=t._maxSize,o=t._batchSize,s=t._properties;for(e=0;n>e;e+=o)i.push(new a(r,this.properties,s,o));return i},i.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s,a,h,u,l,c,p,d,f,v=0;r>v;v++)s=t[e+v],a=s._texture,u=s.scale.x,l=s.scale.y,a.trim?(h=a.trim,p=h.x-s.anchor.x*h.width,c=p+a.crop.width,f=h.y-s.anchor.y*h.height,d=f+a.crop.height):(c=a._frame.width*(1-s.anchor.x),p=a._frame.width*-s.anchor.x,d=a._frame.height*(1-s.anchor.y),f=a._frame.height*-s.anchor.y),i[o]=p*u,i[o+1]=f*l,i[o+n]=c*u,i[o+n+1]=f*l,i[o+2*n]=c*u,i[o+2*n+1]=d*l,i[o+3*n]=p*u,i[o+3*n+1]=d*l,o+=4*n},i.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;r>s;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},i.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;r>s;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},i.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;r>s;s++){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},i.prototype.uploadAlpha=function(t,e,r,i,n,o){for(var s=0;r>s;s++){var a=t[e+s].alpha;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},i.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),n.prototype.destroy.apply(this,arguments),this.shader.destroy(),this.indices=null,this.tempMatrix=null}},{"../../math":33,"../../renderers/webgl/WebGLRenderer":49,"../../renderers/webgl/utils/ObjectRenderer":63,"./ParticleBuffer":40,"./ParticleShader":42}],42:[function(t,e,r){function i(t){n.call(this,t,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n"),{uAlpha:{type:"1f",value:1}},{aPositionCoord:0,aRotation:0})}var n=t("../../renderers/webgl/shaders/TextureShader");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},{"../../renderers/webgl/shaders/TextureShader":62}],43:[function(t,e,r){function i(t,e,r,i){if(a.call(this),n.sayHello(t),i)for(var h in s.DEFAULT_RENDER_OPTIONS)"undefined"==typeof i[h]&&(i[h]=s.DEFAULT_RENDER_OPTIONS[h]);else i=s.DEFAULT_RENDER_OPTIONS;this.type=s.RENDERER_TYPE.UNKNOWN,this.width=e||800,this.height=r||600,this.view=i.view||document.createElement("canvas"),this.resolution=i.resolution,this.transparent=i.transparent,this.autoResize=i.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=i.preserveDrawingBuffer,this.clearBeforeRender=i.clearBeforeRender,this.roundPixels=i.roundPixels,this._backgroundColor=0,this._backgroundColorRgb=[0,0,0],this._backgroundColorString="#000000",this.backgroundColor=i.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent={worldTransform:new o.Matrix,worldAlpha:1,children:[]},this._lastObjectRendered=this._tempDisplayObjectParent}var n=t("../utils"),o=t("../math"),s=t("../const"),a=t("eventemitter3");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=n.hex2string(t),n.hex2rgb(t,this._backgroundColorRgb)}}}),i.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},i.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgb=null,this._backgroundColorString=null}},{"../const":22,"../math":33,"../utils":77,eventemitter3:10}],44:[function(t,e,r){function i(t,e,r){r=r||{},n.call(this,"Canvas",t,e,r),this.type=h.RENDERER_TYPE.CANVAS,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.maskManager=new o,this.smoothProperty="imageSmoothingEnabled",this.context.imageSmoothingEnabled||(this.context.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.context.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.context.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.context.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this._mapBlendModes(),this._tempDisplayObjectParent={worldTransform:new a.Matrix,worldAlpha:1},this.resize(t,e)}var n=t("../SystemRenderer"),o=t("./utils/CanvasMaskManager"),s=t("../../utils"),a=t("../../math"),h=t("../../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,s.pluginTarget.mixin(i),i.prototype.render=function(t){this.emit("prerender");var e=t.parent;this._lastObjectRendered=t,t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.context.globalCompositeOperation=this.blendModes[h.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this._backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t,this.context),this.emit("postrender")},i.prototype.destroy=function(t){this.destroyPlugins(),n.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},i.prototype.renderDisplayObject=function(t,e){var r=this.context;this.context=e,t.renderCanvas(this),this.context=r},i.prototype.resize=function(t,e){n.prototype.resize.call(this,t,e),this.smoothProperty&&(this.context[this.smoothProperty]=h.SCALE_MODES.DEFAULT===h.SCALE_MODES.LINEAR)},i.prototype._mapBlendModes=function(){this.blendModes||(this.blendModes={},s.canUseNewCanvasBlendModes()?(this.blendModes[h.BLEND_MODES.NORMAL]="source-over",this.blendModes[h.BLEND_MODES.ADD]="lighter",this.blendModes[h.BLEND_MODES.MULTIPLY]="multiply",this.blendModes[h.BLEND_MODES.SCREEN]="screen",this.blendModes[h.BLEND_MODES.OVERLAY]="overlay",this.blendModes[h.BLEND_MODES.DARKEN]="darken",this.blendModes[h.BLEND_MODES.LIGHTEN]="lighten",this.blendModes[h.BLEND_MODES.COLOR_DODGE]="color-dodge",this.blendModes[h.BLEND_MODES.COLOR_BURN]="color-burn",this.blendModes[h.BLEND_MODES.HARD_LIGHT]="hard-light",this.blendModes[h.BLEND_MODES.SOFT_LIGHT]="soft-light",this.blendModes[h.BLEND_MODES.DIFFERENCE]="difference",this.blendModes[h.BLEND_MODES.EXCLUSION]="exclusion",this.blendModes[h.BLEND_MODES.HUE]="hue",this.blendModes[h.BLEND_MODES.SATURATION]="saturate",this.blendModes[h.BLEND_MODES.COLOR]="color",this.blendModes[h.BLEND_MODES.LUMINOSITY]="luminosity"):(this.blendModes[h.BLEND_MODES.NORMAL]="source-over",this.blendModes[h.BLEND_MODES.ADD]="lighter",this.blendModes[h.BLEND_MODES.MULTIPLY]="source-over",this.blendModes[h.BLEND_MODES.SCREEN]="source-over",this.blendModes[h.BLEND_MODES.OVERLAY]="source-over",this.blendModes[h.BLEND_MODES.DARKEN]="source-over",this.blendModes[h.BLEND_MODES.LIGHTEN]="source-over",this.blendModes[h.BLEND_MODES.COLOR_DODGE]="source-over",this.blendModes[h.BLEND_MODES.COLOR_BURN]="source-over",this.blendModes[h.BLEND_MODES.HARD_LIGHT]="source-over",this.blendModes[h.BLEND_MODES.SOFT_LIGHT]="source-over",this.blendModes[h.BLEND_MODES.DIFFERENCE]="source-over",this.blendModes[h.BLEND_MODES.EXCLUSION]="source-over",this.blendModes[h.BLEND_MODES.HUE]="source-over",this.blendModes[h.BLEND_MODES.SATURATION]="source-over",this.blendModes[h.BLEND_MODES.COLOR]="source-over",this.blendModes[h.BLEND_MODES.LUMINOSITY]="source-over"))}},{"../../const":22,"../../math":33,"../../utils":77,"../SystemRenderer":43,"./utils/CanvasMaskManager":47}],45:[function(t,e,r){function i(t,e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e}i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},height:{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}}),i.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},i.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e},i.prototype.destroy=function(){this.context=null,this.canvas=null}},{}],46:[function(t,e,r){var i=t("../../../const"),n={};e.exports=n,n.renderGraphics=function(t,e){var r=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var n=0;n<t.graphicsData.length;n++){var o=t.graphicsData[n],s=o.shape,a=o._fillTint,h=o._lineTint;if(e.lineWidth=o.lineWidth,o.type===i.SHAPES.POLY){e.beginPath();var u=s.points;e.moveTo(u[0],u[1]);for(var l=1;l<u.length/2;l++)e.lineTo(u[2*l],u[2*l+1]);s.closed&&e.lineTo(u[0],u[1]),u[0]===u[u.length-2]&&u[1]===u[u.length-1]&&e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}else if(o.type===i.SHAPES.RECT)(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fillRect(s.x,s.y,s.width,s.height)),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.strokeRect(s.x,s.y,s.width,s.height));else if(o.type===i.SHAPES.CIRC)e.beginPath(),e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke());else if(o.type===i.SHAPES.ELIP){var c=2*s.width,p=2*s.height,d=s.x-c/2,f=s.y-p/2;e.beginPath();var v=.5522848,g=c/2*v,m=p/2*v,y=d+c,x=f+p,b=d+c/2,_=f+p/2;e.moveTo(d,_),e.bezierCurveTo(d,_-m,b-g,f,b,f),e.bezierCurveTo(b+g,f,y,_-m,y,_),e.bezierCurveTo(y,_+m,b+g,x,b,x),e.bezierCurveTo(b-g,x,d,_+m,d,_),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}else if(o.type===i.SHAPES.RREC){var T=s.x,E=s.y,S=s.width,w=s.height,A=s.radius,C=Math.min(S,w)/2|0;A=A>C?C:A,e.beginPath(),e.moveTo(T,E+A),e.lineTo(T,E+w-A),e.quadraticCurveTo(T,E+w,T+A,E+w),e.lineTo(T+S-A,E+w),e.quadraticCurveTo(T+S,E+w,T+S,E+w-A),e.lineTo(T+S,E+A),e.quadraticCurveTo(T+S,E,T+S-A,E),e.lineTo(T+A,E),e.quadraticCurveTo(T,E,T,E+A),e.closePath(),(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}}},n.renderGraphicsMask=function(t,e){var r=t.graphicsData.length;if(0!==r){e.beginPath();for(var n=0;r>n;n++){var o=t.graphicsData[n],s=o.shape;if(o.type===i.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var h=1;h<a.length/2;h++)e.lineTo(a[2*h],a[2*h+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===i.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===i.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===i.SHAPES.ELIP){var u=2*s.width,l=2*s.height,c=s.x-u/2,p=s.y-l/2,d=.5522848,f=u/2*d,v=l/2*d,g=c+u,m=p+l,y=c+u/2,x=p+l/2;e.moveTo(c,x),e.bezierCurveTo(c,x-v,y-f,p,y,p),e.bezierCurveTo(y+f,p,g,x-v,g,x),e.bezierCurveTo(g,x+v,y+f,m,y,m),e.bezierCurveTo(y-f,m,c,x+v,c,x),e.closePath()}else if(o.type===i.SHAPES.RREC){var b=s.x,_=s.y,T=s.width,E=s.height,S=s.radius,w=Math.min(T,E)/2|0;S=S>w?w:S,e.moveTo(b,_+S),e.lineTo(b,_+E-S),e.quadraticCurveTo(b,_+E,b+S,_+E),e.lineTo(b+T-S,_+E),e.quadraticCurveTo(b+T,_+E,b+T,_+E-S),e.lineTo(b+T,_+S),e.quadraticCurveTo(b+T,_,b+T-S,_),e.lineTo(b+S,_),e.quadraticCurveTo(b,_,b,_+S),e.closePath()}}}},n.updateGraphicsTint=function(t){if(16777215!==t.tint||t._prevTint!==t.tint){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,i=(255&t.tint)/255,n=0;n<t.graphicsData.length;n++){var o=t.graphicsData[n],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*i*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*i*255}}}},{"../../../const":22}],47:[function(t,e,r){function i(){}var n=t("./CanvasGraphics");i.prototype.constructor=i,e.exports=i,i.prototype.pushMask=function(t,e){e.context.save();var r=t.alpha,i=t.worldTransform,o=e.resolution;e.context.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.texture||(n.renderGraphicsMask(t,e.context),e.context.clip()),t.worldAlpha=r},i.prototype.popMask=function(t){t.context.restore()},i.prototype.destroy=function(){}},{"./CanvasGraphics":46}],48:[function(t,e,r){var i=t("../../../utils"),n={};e.exports=n,n.getTintedTexture=function(t,e){var r=t.texture;e=n.roundColor(e);var i="#"+("00000"+(0|e).toString(16)).substr(-6);if(r.tintCache=r.tintCache||{},r.tintCache[i])return r.tintCache[i];var o=n.canvas||document.createElement("canvas");if(n.tintMethod(r,e,o),n.convertTintToImage){var s=new Image;s.src=o.toDataURL(),r.tintCache[i]=s}else r.tintCache[i]=o,n.canvas=null;return o},n.tintWithMultiply=function(t,e,r){var i=r.getContext("2d"),n=t.baseTexture.resolution,o=t.crop.clone();o.x*=n,o.y*=n,o.width*=n,o.height*=n,r.width=o.width,r.height=o.height,i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,o.width,o.height),i.globalCompositeOperation="multiply",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height)},n.tintWithOverlay=function(t,e,r){var i=r.getContext("2d"),n=t.baseTexture.resolution,o=t.crop.clone();o.x*=n,o.y*=n,o.width*=n,o.height*=n,r.width=o.width,r.height=o.height,i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,o.width,o.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height)},n.tintWithPerPixel=function(t,e,r){var n=r.getContext("2d"),o=t.baseTexture.resolution,s=t.crop.clone();s.x*=o,s.y*=o,s.width*=o,s.height*=o,r.width=s.width,r.height=s.height,n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height);for(var a=i.hex2rgb(e),h=a[0],u=a[1],l=a[2],c=n.getImageData(0,0,s.width,s.height),p=c.data,d=0;d<p.length;d+=4)p[d+0]*=h,p[d+1]*=u,p[d+2]*=l;n.putImageData(c,0,0)},n.roundColor=function(t){var e=n.cacheStepsPerColorChannel,r=i.hex2rgb(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),i.rgb2hex(r)},n.cacheStepsPerColorChannel=8,n.convertTintToImage=!1,n.canUseMultiply=i.canUseNewCanvasBlendModes(),n.tintMethod=n.canUseMultiply?n.tintWithMultiply:n.tintWithPerPixel},{"../../../utils":77}],49:[function(t,e,r){function i(t,e,r){r=r||{},n.call(this,"WebGL",t,e,r),this.type=f.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._useFXAA=!!r.forceFXAA&&r.antialias,this._FXAAFilter=null,this._contextOptions={alpha:this.transparent,antialias:r.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer},this.drawCount=0,this.shaderManager=new o(this),this.maskManager=new s(this),
this.stencilManager=new a(this),this.filterManager=new h(this),this.blendModeManager=new u(this),this.currentRenderTarget=null,this.currentRenderer=new c(this),this.initPlugins(),this._createContext(),this._initContext(),this._mapGlModes(),this._managedTextures=[],this._renderTargetStack=[]}var n=t("../SystemRenderer"),o=t("./managers/ShaderManager"),s=t("./managers/MaskManager"),a=t("./managers/StencilManager"),h=t("./managers/FilterManager"),u=t("./managers/BlendModeManager"),l=t("./utils/RenderTarget"),c=t("./utils/ObjectRenderer"),p=t("./filters/FXAAFilter"),d=t("../../utils"),f=t("../../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,d.pluginTarget.mixin(i),i.glContextId=0,i.prototype._createContext=function(){var t=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=t,!t)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=i.glContextId++,t.id=this.glContextId,t.renderer=this},i.prototype._initContext=function(){var t=this.gl;t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),this.renderTarget=new l(t,this.width,this.height,null,this.resolution,!0),this.setRenderTarget(this.renderTarget),this.emit("context",t),this.resize(this.width,this.height),this._useFXAA||(this._useFXAA=this._contextOptions.antialias&&!t.getContextAttributes().antialias),this._useFXAA&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this._FXAAFilter=[new p])},i.prototype.render=function(t){if(this.emit("prerender"),!this.gl.isContextLost()){this.drawCount=0,this._lastObjectRendered=t,this._useFXAA&&(this._FXAAFilter[0].uniforms.resolution.value.x=this.width,this._FXAAFilter[0].uniforms.resolution.value.y=this.height,t.filterArea=this.renderTarget.size,t.filters=this._FXAAFilter);var e=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e;var r=this.gl;this.setRenderTarget(this.renderTarget),this.clearBeforeRender&&(this.transparent?r.clearColor(0,0,0,0):r.clearColor(this._backgroundColorRgb[0],this._backgroundColorRgb[1],this._backgroundColorRgb[2],1),r.clear(r.COLOR_BUFFER_BIT)),this.renderDisplayObject(t,this.renderTarget),this.emit("postrender")}},i.prototype.renderDisplayObject=function(t,e,r){this.setRenderTarget(e),r&&e.clear(),this.filterManager.setFilterStack(e.filterStack),t.renderWebGL(this),this.currentRenderer.flush()},i.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},i.prototype.setRenderTarget=function(t){this.currentRenderTarget!==t&&(this.currentRenderTarget=t,this.currentRenderTarget.activate(),this.stencilManager.setMaskStack(t.stencilMaskStack))},i.prototype.resize=function(t,e){n.prototype.resize.call(this,t,e),this.filterManager.resize(t,e),this.renderTarget.resize(t,e),this.currentRenderTarget===this.renderTarget&&(this.renderTarget.activate(),this.gl.viewport(0,0,this.width,this.height))},i.prototype.updateTexture=function(t){if(t=t.baseTexture||t,t.hasLoaded){var e=this.gl;return t._glTextures[e.id]||(t._glTextures[e.id]=e.createTexture(),t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t)),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.mipmap&&t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),t._glTextures[e.id]}},i.prototype.destroyTexture=function(t,e){if(t=t.baseTexture||t,t.hasLoaded&&t._glTextures[this.gl.id]&&(this.gl.deleteTexture(t._glTextures[this.gl.id]),delete t._glTextures[this.gl.id],!e)){var r=this._managedTextures.indexOf(t);-1!==r&&d.removeItems(this._managedTextures,r,1)}},i.prototype.handleContextLost=function(t){t.preventDefault()},i.prototype.handleContextRestored=function(){this._initContext();for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.gl.id]&&delete e._glTextures[this.gl.id]}},i.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);for(var e=0;e<this._managedTextures.length;++e){var r=this._managedTextures[e];this.destroyTexture(r,!0),r.off("update",this.updateTexture,this),r.off("dispose",this.destroyTexture,this)}n.prototype.destroy.call(this,t),this.uid=0,this.shaderManager.destroy(),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.blendModeManager.destroy(),this.shaderManager=null,this.maskManager=null,this.filterManager=null,this.blendModeManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this._managedTextures=null,this.drawCount=0,this.gl.useProgram(null),this.gl=null},i.prototype._mapGlModes=function(){var t=this.gl;this.blendModes||(this.blendModes={},this.blendModes[f.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],this.blendModes[f.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],this.blendModes[f.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA]),this.drawModes||(this.drawModes={},this.drawModes[f.DRAW_MODES.POINTS]=t.POINTS,this.drawModes[f.DRAW_MODES.LINES]=t.LINES,this.drawModes[f.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,this.drawModes[f.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,this.drawModes[f.DRAW_MODES.TRIANGLES]=t.TRIANGLES,this.drawModes[f.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,this.drawModes[f.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN)}},{"../../const":22,"../../utils":77,"../SystemRenderer":43,"./filters/FXAAFilter":51,"./managers/BlendModeManager":53,"./managers/FilterManager":54,"./managers/MaskManager":55,"./managers/ShaderManager":56,"./managers/StencilManager":57,"./utils/ObjectRenderer":63,"./utils/RenderTarget":65}],50:[function(t,e,r){function i(t,e,r){this.shaders=[],this.padding=0,this.uniforms=r||{},this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc}var n=t("../shaders/TextureShader");i.prototype.constructor=i,e.exports=i,i.prototype.getShader=function(t){var e=t.gl,r=this.shaders[e.id];return r||(r=new n(t.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),this.shaders[e.id]=r),r},i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);t.filterManager.applyFilter(n,e,r,i)},i.prototype.syncUniform=function(t){for(var e=0,r=this.shaders.length;r>e;++e)this.shaders[e].syncUniform(t)}},{"../shaders/TextureShader":62}],51:[function(t,e,r){function i(){n.call(this,"\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n',{resolution:{type:"v2",value:{x:1,y:1}}})}var n=t("./AbstractFilter");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager,n=this.getShader(t);i.applyFilter(n,e,r)}},{"./AbstractFilter":50}],52:[function(t,e,r){function i(t){var e=new o.Matrix;n.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n",{mask:{type:"sampler2D",value:t._texture},alpha:{type:"f",value:1},otherMatrix:{type:"mat3",value:e.toArray(!0)}}),this.maskSprite=t,this.maskMatrix=e}var n=t("./AbstractFilter"),o=t("../../../math");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager;this.uniforms.mask.value=this.maskSprite._texture,i.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.alpha.value=this.maskSprite.worldAlpha;var n=this.getShader(t);i.applyFilter(n,e,r)},Object.defineProperties(i.prototype,{map:{get:function(){return this.uniforms.mask.value},set:function(t){this.uniforms.mask.value=t}},offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}})},{"../../../math":33,"./AbstractFilter":50}],53:[function(t,e,r){function i(t){n.call(this,t),this.currentBlendMode=99999}var n=t("./WebGLManager");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.setBlendMode=function(t){if(this.currentBlendMode===t)return!1;this.currentBlendMode=t;var e=this.renderer.blendModes[this.currentBlendMode];return this.renderer.gl.blendFunc(e[0],e[1]),!0}},{"./WebGLManager":58}],54:[function(t,e,r){function i(t){n.call(this,t),this.filterStack=[],this.filterStack.push({renderTarget:t.currentRenderTarget,filter:[],bounds:null}),this.texturePool=[],this.textureSize=new h.Rectangle(0,0,t.width,t.height),this.currentFrame=null}var n=t("./WebGLManager"),o=t("../utils/RenderTarget"),s=t("../../../const"),a=t("../utils/Quad"),h=t("../../../math");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.onContextChange=function(){this.texturePool.length=0;var t=this.renderer.gl;this.quad=new a(t)},i.prototype.setFilterStack=function(t){this.filterStack=t},i.prototype.pushFilter=function(t,e){var r=t.filterArea?t.filterArea.clone():t.getBounds();r.x=0|r.x,r.y=0|r.y,r.width=0|r.width,r.height=0|r.height;var i=0|e[0].padding;if(r.x-=i,r.y-=i,r.width+=2*i,r.height+=2*i,this.renderer.currentRenderTarget.transform){var n=this.renderer.currentRenderTarget.transform;r.x+=n.tx,r.y+=n.ty,this.capFilterArea(r),r.x-=n.tx,r.y-=n.ty}else this.capFilterArea(r);if(r.width>0&&r.height>0){this.currentFrame=r;var o=this.getRenderTarget();this.renderer.setRenderTarget(o),o.clear(),this.filterStack.push({renderTarget:o,filter:e})}else this.filterStack.push({renderTarget:null,filter:e})},i.prototype.popFilter=function(){var t=this.filterStack.pop(),e=this.filterStack[this.filterStack.length-1],r=t.renderTarget;if(t.renderTarget){var i=e.renderTarget,n=this.renderer.gl;this.currentFrame=r.frame,this.quad.map(this.textureSize,r.frame),n.bindBuffer(n.ARRAY_BUFFER,this.quad.vertexBuffer),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.quad.indexBuffer);var o=t.filter;if(n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition,2,n.FLOAT,!1,0,0),n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord,2,n.FLOAT,!1,0,32),n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor,4,n.FLOAT,!1,0,64),this.renderer.blendModeManager.setBlendMode(s.BLEND_MODES.NORMAL),1===o.length)o[0].uniforms.dimensions&&(o[0].uniforms.dimensions.value[0]=this.renderer.width,o[0].uniforms.dimensions.value[1]=this.renderer.height,o[0].uniforms.dimensions.value[2]=this.quad.vertices[0],o[0].uniforms.dimensions.value[3]=this.quad.vertices[5]),o[0].applyFilter(this.renderer,r,i),this.returnRenderTarget(r);else{for(var a=r,h=this.getRenderTarget(!0),u=0;u<o.length-1;u++){var l=o[u];l.uniforms.dimensions&&(l.uniforms.dimensions.value[0]=this.renderer.width,l.uniforms.dimensions.value[1]=this.renderer.height,l.uniforms.dimensions.value[2]=this.quad.vertices[0],l.uniforms.dimensions.value[3]=this.quad.vertices[5]),l.applyFilter(this.renderer,a,h);var c=a;a=h,h=c}o[o.length-1].applyFilter(this.renderer,a,i),this.returnRenderTarget(a),this.returnRenderTarget(h)}return t.filter}},i.prototype.getRenderTarget=function(t){var e=this.texturePool.pop()||new o(this.renderer.gl,this.textureSize.width,this.textureSize.height,s.SCALE_MODES.LINEAR,this.renderer.resolution*s.FILTER_RESOLUTION);return e.frame=this.currentFrame,t&&e.clear(!0),e},i.prototype.returnRenderTarget=function(t){this.texturePool.push(t)},i.prototype.applyFilter=function(t,e,r,i){var n=this.renderer.gl;this.renderer.setRenderTarget(r),i&&r.clear(),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e.texture),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0),this.renderer.drawCount++},i.prototype.calculateMappedMatrix=function(t,e,r){var i=e.worldTransform.copy(h.Matrix.TEMP_MATRIX),n=e._texture.baseTexture,o=r.identity(),s=this.textureSize.height/this.textureSize.width;o.translate(t.x/this.textureSize.width,t.y/this.textureSize.height),o.scale(1,s);var a=this.textureSize.width/n.width,u=this.textureSize.height/n.height;return i.tx/=n.width*a,i.ty/=n.width*a,i.invert(),o.prepend(i),o.scale(1,1/s),o.scale(a,u),o.translate(e.anchor.x,e.anchor.y),o},i.prototype.capFilterArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.textureSize.width&&(t.width=this.textureSize.width-t.x),t.y+t.height>this.textureSize.height&&(t.height=this.textureSize.height-t.y)},i.prototype.resize=function(t,e){this.textureSize.width=t,this.textureSize.height=e;for(var r=0;r<this.texturePool.length;r++)this.texturePool[r].resize(t,e)},i.prototype.destroy=function(){this.quad.destroy(),n.prototype.destroy.call(this),this.filterStack=null,this.offsetY=0;for(var t=0;t<this.texturePool.length;t++)this.texturePool[t].destroy();this.texturePool=null}},{"../../../const":22,"../../../math":33,"../utils/Quad":64,"../utils/RenderTarget":65,"./WebGLManager":58}],55:[function(t,e,r){function i(t){n.call(this,t),this.stencilStack=[],this.reverse=!0,this.count=0,this.alphaMaskPool=[]}var n=t("./WebGLManager"),o=t("../filters/SpriteMaskFilter");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.pushMask=function(t,e){e.texture?this.pushSpriteMask(t,e):this.pushStencilMask(t,e)},i.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.popStencilMask(t,e)},i.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool.pop();r||(r=[new o(e)]),r[0].maskSprite=e,this.renderer.filterManager.pushFilter(t,r)},i.prototype.popSpriteMask=function(){var t=this.renderer.filterManager.popFilter();this.alphaMaskPool.push(t)},i.prototype.pushStencilMask=function(t,e){this.renderer.stencilManager.pushMask(e)},i.prototype.popStencilMask=function(t,e){this.renderer.stencilManager.popMask(e)}},{"../filters/SpriteMaskFilter":52,"./WebGLManager":58}],56:[function(t,e,r){function i(t){n.call(this,t),this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.stack=[],this._currentId=-1,this.currentShader=null}var n=t("./WebGLManager"),o=t("../shaders/TextureShader"),s=t("../shaders/ComplexPrimitiveShader"),a=t("../shaders/PrimitiveShader"),h=t("../../../utils");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,h.pluginTarget.mixin(i),e.exports=i,i.prototype.onContextChange=function(){this.initPlugins();var t=this.renderer.gl;this.maxAttibs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.defaultShader=new o(this),this.primitiveShader=new a(this),this.complexPrimitiveShader=new s(this)},i.prototype.setAttribs=function(t){var e;for(e=0;e<this.tempAttribState.length;e++)this.tempAttribState[e]=!1;for(var r in t)this.tempAttribState[t[r]]=!0;var i=this.renderer.gl;for(e=0;e<this.attribState.length;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.attribState[e]?i.enableVertexAttribArray(e):i.disableVertexAttribArray(e))},i.prototype.setShader=function(t){return this._currentId===t.uid?!1:(this._currentId=t.uid,this.currentShader=t,this.renderer.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},i.prototype.destroy=function(){this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),n.prototype.destroy.call(this),this.destroyPlugins(),this.attribState=null,this.tempAttribState=null}},{"../../../utils":77,"../shaders/ComplexPrimitiveShader":59,"../shaders/PrimitiveShader":60,"../shaders/TextureShader":62,"./WebGLManager":58}],57:[function(t,e,r){function i(t){n.call(this,t),this.stencilMaskStack=null}var n=t("./WebGLManager"),o=t("../../../utils");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.stencilStack.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},i.prototype.pushStencil=function(t,e){this.renderer.currentRenderTarget.attachStencilBuffer();var r=this.renderer.gl,i=this.stencilMaskStack;this.bindGraphics(t,e),0===i.stencilStack.length&&(r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),i.reverse=!0,i.count=0),i.stencilStack.push(e);var n=i.count;r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),1===e.mode?(r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),i.reverse?(r.stencilFunc(r.EQUAL,255-n,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,n,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),i.reverse?r.stencilFunc(r.EQUAL,255-(n+1),255):r.stencilFunc(r.EQUAL,n+1,255),i.reverse=!i.reverse):(i.reverse?(r.stencilFunc(r.EQUAL,n,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,255-n,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),i.reverse?r.stencilFunc(r.EQUAL,n+1,255):r.stencilFunc(r.EQUAL,255-(n+1),255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),i.count++},i.prototype.bindGraphics=function(t,e){var r,i=this.renderer.gl;1===e.mode?(r=this.renderer.shaderManager.complexPrimitiveShader,this.renderer.shaderManager.setShader(r),i.uniformMatrix3fv(r.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(r.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(r.uniforms.tint._location,o.hex2rgb(t.tint)),i.uniform3fv(r.uniforms.color._location,e.color),i.uniform1f(r.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(r.attributes.aVertexPosition,2,i.FLOAT,!1,8,0),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer)):(r=this.renderer.shaderManager.primitiveShader,this.renderer.shaderManager.setShader(r),i.uniformMatrix3fv(r.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(r.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(r.uniforms.tint._location,o.hex2rgb(t.tint)),i.uniform1f(r.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(r.attributes.aVertexPosition,2,i.FLOAT,!1,24,0),i.vertexAttribPointer(r.attributes.aColor,4,i.FLOAT,!1,24,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer))},i.prototype.popStencil=function(t,e){var r=this.renderer.gl,i=this.stencilMaskStack;if(i.stencilStack.pop(),i.count--,0===i.stencilStack.length)r.disable(r.STENCIL_TEST);else{var n=i.count;this.bindGraphics(t,e),r.colorMask(!1,!1,!1,!1),1===e.mode?(i.reverse=!i.reverse,i.reverse?(r.stencilFunc(r.EQUAL,255-(n+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,n+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),this.renderer.drawCount+=2,i.reverse?r.stencilFunc(r.EQUAL,n,255):r.stencilFunc(r.EQUAL,255-n,255)):(i.reverse?(r.stencilFunc(r.EQUAL,n+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,255-(n+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),this.renderer.drawCount++,i.reverse?r.stencilFunc(r.EQUAL,n,255):r.stencilFunc(r.EQUAL,255-n,255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)}},i.prototype.destroy=function(){n.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},i.prototype.pushMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),t.dirty&&this.renderer.plugins.graphics.updateGraphics(t,this.renderer.gl),t._webGL[this.renderer.gl.id].data.length&&this.pushStencil(t,t._webGL[this.renderer.gl.id].data[0])},i.prototype.popMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.popStencil(t,t._webGL[this.renderer.gl.id].data[0])}},{"../../../utils":77,"./WebGLManager":58}],58:[function(t,e,r){function i(t){this.renderer=t,this.renderer.on("context",this.onContextChange,this)}i.prototype.constructor=i,e.exports=i,i.prototype.onContextChange=function(){},i.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}},{}],59:[function(t,e,r){function i(t){n.call(this,t,["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0})}var n=t("./Shader");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},{"./Shader":61}],60:[function(t,e,r){function i(t){n.call(this,t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aColor:0})}var n=t("./Shader");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},{"./Shader":61}],61:[function(t,e,r){function i(t,e,r,i,o){if(!e||!r)throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=n.uid(),this.gl=t.renderer.gl,this.shaderManager=t,this.program=null,this.uniforms=i||{},this.attributes=o||{},this.textureCount=1,this.vertexSrc=e,this.fragmentSrc=r,this.init()}var n=t("../../../utils");i.prototype.constructor=i,e.exports=i,i.prototype.init=function(){this.compile(),this.gl.useProgram(this.program),this.cacheUniformLocations(Object.keys(this.uniforms)),this.cacheAttributeLocations(Object.keys(this.attributes))},i.prototype.cacheUniformLocations=function(t){for(var e=0;e<t.length;++e)this.uniforms[t[e]]._location=this.gl.getUniformLocation(this.program,t[e])},i.prototype.cacheAttributeLocations=function(t){for(var e=0;e<t.length;++e)this.attributes[t[e]]=this.gl.getAttribLocation(this.program,t[e])},i.prototype.compile=function(){var t=this.gl,e=this._glCompile(t.VERTEX_SHADER,this.vertexSrc),r=this._glCompile(t.FRAGMENT_SHADER,this.fragmentSrc),i=t.createProgram();return t.attachShader(i,e),t.attachShader(i,r),t.linkProgram(i),
t.getProgramParameter(i,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(i,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(i)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(i)),t.deleteProgram(i),i=null),t.deleteShader(e),t.deleteShader(r),this.program=i},i.prototype.syncUniform=function(t){var e,r,i=t._location,o=t.value,s=this.gl;switch(t.type){case"b":case"bool":case"boolean":s.uniform1i(i,o?1:0);break;case"i":case"1i":s.uniform1i(i,o);break;case"f":case"1f":s.uniform1f(i,o);break;case"2f":s.uniform2f(i,o[0],o[1]);break;case"3f":s.uniform3f(i,o[0],o[1],o[2]);break;case"4f":s.uniform4f(i,o[0],o[1],o[2],o[3]);break;case"v2":s.uniform2f(i,o.x,o.y);break;case"v3":s.uniform3f(i,o.x,o.y,o.z);break;case"v4":s.uniform4f(i,o.x,o.y,o.z,o.w);break;case"1iv":s.uniform1iv(i,o);break;case"2iv":s.uniform2iv(i,o);break;case"3iv":s.uniform3iv(i,o);break;case"4iv":s.uniform4iv(i,o);break;case"1fv":s.uniform1fv(i,o);break;case"2fv":s.uniform2fv(i,o);break;case"3fv":s.uniform3fv(i,o);break;case"4fv":s.uniform4fv(i,o);break;case"m2":case"mat2":case"Matrix2fv":s.uniformMatrix2fv(i,t.transpose,o);break;case"m3":case"mat3":case"Matrix3fv":s.uniformMatrix3fv(i,t.transpose,o);break;case"m4":case"mat4":case"Matrix4fv":s.uniformMatrix4fv(i,t.transpose,o);break;case"c":"number"==typeof o&&(o=n.hex2rgb(o)),s.uniform3f(i,o[0],o[1],o[2]);break;case"iv1":s.uniform1iv(i,o);break;case"iv":s.uniform3iv(i,o);break;case"fv1":s.uniform1fv(i,o);break;case"fv":s.uniform3fv(i,o);break;case"v2v":for(t._array||(t._array=new Float32Array(2*o.length)),e=0,r=o.length;r>e;++e)t._array[2*e]=o[e].x,t._array[2*e+1]=o[e].y;s.uniform2fv(i,t._array);break;case"v3v":for(t._array||(t._array=new Float32Array(3*o.length)),e=0,r=o.length;r>e;++e)t._array[3*e]=o[e].x,t._array[3*e+1]=o[e].y,t._array[3*e+2]=o[e].z;s.uniform3fv(i,t._array);break;case"v4v":for(t._array||(t._array=new Float32Array(4*o.length)),e=0,r=o.length;r>e;++e)t._array[4*e]=o[e].x,t._array[4*e+1]=o[e].y,t._array[4*e+2]=o[e].z,t._array[4*e+3]=o[e].w;s.uniform4fv(i,t._array);break;case"t":case"sampler2D":if(!t.value||!t.value.baseTexture.hasLoaded)break;s.activeTexture(s["TEXTURE"+this.textureCount]);var a=t.value.baseTexture._glTextures[s.id];a||(this.initSampler2D(t),a=t.value.baseTexture._glTextures[s.id]),s.bindTexture(s.TEXTURE_2D,a),s.uniform1i(t._location,this.textureCount),this.textureCount++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+t.type)}},i.prototype.syncUniforms=function(){this.textureCount=1;for(var t in this.uniforms)this.syncUniform(this.uniforms[t])},i.prototype.initSampler2D=function(t){var e=this.gl,r=t.value.baseTexture;if(r.hasLoaded)if(t.textureData){var i=t.textureData;r._glTextures[e.id]=e.createTexture(),e.bindTexture(e.TEXTURE_2D,r._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,i.luminance?e.LUMINANCE:e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i.magFilter?i.magFilter:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i.wrapS?i.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,i.wrapS?i.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,i.wrapT?i.wrapT:e.CLAMP_TO_EDGE)}else this.shaderManager.renderer.updateTexture(r)},i.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.gl=null,this.uniforms=null,this.attributes=null,this.vertexSrc=null,this.fragmentSrc=null},i.prototype._glCompile=function(t,e){var r=this.gl.createShader(t);return this.gl.shaderSource(r,e),this.gl.compileShader(r),this.gl.getShaderParameter(r,this.gl.COMPILE_STATUS)?r:(console.log(this.gl.getShaderInfoLog(r)),null)}},{"../../../utils":77}],62:[function(t,e,r){function i(t,e,r,o,s){var a={uSampler:{type:"sampler2D",value:0},projectionMatrix:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(o)for(var h in o)a[h]=o[h];var u={aVertexPosition:0,aTextureCoord:0,aColor:0};if(s)for(var l in s)u[l]=s[l];e=e||i.defaultVertexSrc,r=r||i.defaultFragmentSrc,n.call(this,t,e,r,a,u)}var n=t("./Shader");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.defaultVertexSrc=["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),i.defaultFragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"].join("\n")},{"./Shader":61}],63:[function(t,e,r){function i(t){n.call(this,t)}var n=t("../managers/WebGLManager");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.start=function(){},i.prototype.stop=function(){this.flush()},i.prototype.flush=function(){},i.prototype.render=function(t){}},{"../managers/WebGLManager":58}],64:[function(t,e,r){function i(t){this.gl=t,this.vertices=new Float32Array([0,0,200,0,200,200,0,200]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,128,t.DYNAMIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.upload()}i.prototype.constructor=i,i.prototype.map=function(t,e){var r=0,i=0;this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.upload()},i.prototype.upload=function(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices),t.bufferSubData(t.ARRAY_BUFFER,32,this.uvs),t.bufferSubData(t.ARRAY_BUFFER,64,this.colors)},i.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},e.exports=i},{}],65:[function(t,e,r){var i=t("../../../math"),n=t("../../../utils"),o=t("../../../const"),s=t("./StencilMaskStack"),a=function(t,e,r,a,h,u){if(this.gl=t,this.frameBuffer=null,this.texture=null,this.size=new i.Rectangle(0,0,1,1),this.resolution=h||o.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.stencilBuffer=null,this.stencilMaskStack=new s,this.filterStack=[{renderTarget:this,filter:[],bounds:this.size}],this.scaleMode=a||o.SCALE_MODES.DEFAULT,this.root=u,!this.root){this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST);var l=n.isPowerOfTwo(e,r);l?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0)}this.resize(e,r)};a.prototype.constructor=a,e.exports=a,a.prototype.clear=function(t){var e=this.gl;t&&e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},a.prototype.attachStencilBuffer=function(){if(!this.stencilBuffer&&!this.root){var t=this.gl;this.stencilBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencilBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.size.width*this.resolution,this.size.height*this.resolution)}},a.prototype.activate=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer);var e=this.frame||this.size;this.calculateProjection(e),this.transform&&this.projectionMatrix.append(this.transform),t.viewport(0,0,e.width*this.resolution,e.height*this.resolution)},a.prototype.calculateProjection=function(t){var e=this.projectionMatrix;e.identity(),this.root?(e.a=1/t.width*2,e.d=-1/t.height*2,e.tx=-1-t.x*e.a,e.ty=1-t.y*e.d):(e.a=1/t.width*2,e.d=1/t.height*2,e.tx=-1-t.x*e.a,e.ty=-1-t.y*e.d)},a.prototype.resize=function(t,e){if(t=0|t,e=0|e,this.size.width!==t||this.size.height!==e){if(this.size.width=t,this.size.height=e,!this.root){var r=this.gl;r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t*this.resolution,e*this.resolution,0,r.RGBA,r.UNSIGNED_BYTE,null),this.stencilBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencilBuffer),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t*this.resolution,e*this.resolution))}var i=this.frame||this.size;this.calculateProjection(i)}},a.prototype.destroy=function(){var t=this.gl;t.deleteRenderbuffer(this.stencilBuffer),t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null}},{"../../../const":22,"../../../math":33,"../../../utils":77,"./StencilMaskStack":66}],66:[function(t,e,r){function i(){this.stencilStack=[],this.reverse=!0,this.count=0}i.prototype.constructor=i,e.exports=i},{}],67:[function(t,e,r){function i(t){s.call(this),this.anchor=new n.Point,this._texture=null,this._width=0,this._height=0,this.tint=16777215,this.blendMode=u.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=t||o.EMPTY}var n=t("../math"),o=t("../textures/Texture"),s=t("../display/Container"),a=t("../renderers/canvas/utils/CanvasTinter"),h=t("../utils"),u=t("../const"),l=new n.Point,c=n.GroupD8,p=new n.Matrix;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return Math.abs(this.scale.x)*this.texture._frame.width},set:function(t){var e=h.sign(this.scale.x)||1;this.scale.x=e*t/this.texture._frame.width,this._width=t}},height:{get:function(){return Math.abs(this.scale.y)*this.texture._frame.height},set:function(t){var e=h.sign(this.scale.y)||1;this.scale.y=e*t/this.texture._frame.height,this._height=t}},texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),i.prototype._onTextureUpdate=function(){this._width&&(this.scale.x=h.sign(this.scale.x)*this._width/this.texture.frame.width),this._height&&(this.scale.y=h.sign(this.scale.y)*this._height/this.texture.frame.height)},i.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this)},i.prototype.getBounds=function(t){if(!this._currentBounds){var e,r,i,n,o=this._texture._frame.width,s=this._texture._frame.height,a=o*(1-this.anchor.x),h=o*-this.anchor.x,u=s*(1-this.anchor.y),l=s*-this.anchor.y,c=t||this.worldTransform,p=c.a,d=c.b,f=c.c,v=c.d,g=c.tx,m=c.ty,y=p*h+f*l+g,x=v*l+d*h+m,b=p*a+f*l+g,_=v*l+d*a+m,T=p*a+f*u+g,E=v*u+d*a+m,S=p*h+f*u+g,w=v*u+d*h+m;if(e=y,e=e>b?b:e,e=e>T?T:e,e=e>S?S:e,i=x,i=i>_?_:i,i=i>E?E:i,i=i>w?w:i,r=y,r=b>r?b:r,r=T>r?T:r,r=S>r?S:r,n=x,n=_>n?_:n,n=E>n?E:n,n=w>n?w:n,this.children.length){var A=this.containerGetBounds();a=A.x,h=A.x+A.width,u=A.y,l=A.y+A.height,e=a>e?e:a,i=u>i?i:u,r=r>h?r:h,n=n>l?n:l}var C=this._bounds;C.x=e,C.width=r-e,C.y=i,C.height=n-i,this._currentBounds=C}return this._currentBounds},i.prototype.getLocalBounds=function(){return this._bounds.x=-this._texture._frame.width*this.anchor.x,this._bounds.y=-this._texture._frame.height*this.anchor.y,this._bounds.width=this._texture._frame.width,this._bounds.height=this._texture._frame.height,this._bounds},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e,r=this._texture._frame.width,i=this._texture._frame.height,n=-r*this.anchor.x;return l.x>n&&l.x<n+r&&(e=-i*this.anchor.y,l.y>e&&l.y<e+i)?!0:!1},i.prototype._renderCanvas=function(t){if(!(this.texture.crop.width<=0||this.texture.crop.height<=0)){var e=t.blendModes[this.blendMode];if(e!==t.context.globalCompositeOperation&&(t.context.globalCompositeOperation=e),this.texture.valid){var r,i,n=this._texture,o=this.worldTransform,s=n.crop.width,h=n.crop.height;t.context.globalAlpha=this.worldAlpha;var l=n.baseTexture.scaleMode===u.SCALE_MODES.LINEAR;t.smoothProperty&&t.context[t.smoothProperty]!==l&&(t.context[t.smoothProperty]=l),2===(3&n.rotate)&&(s=n.crop.height,h=n.crop.width),n.trim?(r=n.crop.width/2+n.trim.x-this.anchor.x*n.trim.width,i=n.crop.height/2+n.trim.y-this.anchor.y*n.trim.height):(r=(.5-this.anchor.x)*n._frame.width,i=(.5-this.anchor.y)*n._frame.height),n.rotate&&(o.copy(p),o=p,c.matrixAppendRotationInv(o,n.rotate,r,i),r=0,i=0),r-=s/2,i-=h/2,t.roundPixels?(t.context.setTransform(o.a,o.b,o.c,o.d,o.tx*t.resolution|0,o.ty*t.resolution|0),r=0|r,i=0|i):t.context.setTransform(o.a,o.b,o.c,o.d,o.tx*t.resolution,o.ty*t.resolution);var d=n.baseTexture.resolution;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=a.getTintedTexture(this,this.tint)),t.context.drawImage(this.tintedTexture,0,0,s*d,h*d,r*t.resolution,i*t.resolution,s*t.resolution,h*t.resolution)):t.context.drawImage(n.baseTexture.source,n.crop.x*d,n.crop.y*d,s*d,h*d,r*t.resolution,i*t.resolution,s*t.resolution,h*t.resolution)}}},i.prototype.destroy=function(t,e){s.prototype.destroy.call(this),this.anchor=null,t&&this._texture.destroy(e),this._texture=null,this.shader=null},i.fromFrame=function(t){var e=h.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new i(e)},i.fromImage=function(t,e,r){return new i(o.fromImage(t,e,r))}},{"../const":22,"../display/Container":23,"../math":33,"../renderers/canvas/utils/CanvasTinter":48,"../textures/Texture":72,"../utils":77}],68:[function(t,e,r){function i(t){n.call(this,t),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=s.SPRITE_BATCH_SIZE;var e=4*this.size*this.vertByteSize,r=6*this.size;this.vertices=new ArrayBuffer(e),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(r);for(var i=0,o=0;r>i;i+=6,o+=4)this.indices[i+0]=o+0,this.indices[i+1]=o+1,this.indices[i+2]=o+2,this.indices[i+3]=o+0,this.indices[i+4]=o+2,this.indices[i+5]=o+3;this.currentBatchSize=0,this.sprites=[],this.shader=null}var n=t("../../renderers/webgl/utils/ObjectRenderer"),o=t("../../renderers/webgl/WebGLRenderer"),s=t("../../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,o.registerPlugin("sprite",i),i.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=this.renderer.shaderManager.defaultShader,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),this.currentBlendMode=99999},i.prototype.render=function(t){var e=t._texture;this.currentBatchSize>=this.size&&this.flush();var r=e._uvs;if(r){var i,n,o,s,a=t.anchor.x,h=t.anchor.y;if(e.trim&&void 0===t.tileScale){var u=e.trim;n=u.x-a*u.width,i=n+e.crop.width,s=u.y-h*u.height,o=s+e.crop.height}else i=e._frame.width*(1-a),n=e._frame.width*-a,o=e._frame.height*(1-h),s=e._frame.height*-h;var l=this.currentBatchSize*this.vertByteSize,c=t.worldTransform,p=c.a,d=c.b,f=c.c,v=c.d,g=c.tx,m=c.ty,y=this.colors,x=this.positions;if(this.renderer.roundPixels){var b=this.renderer.resolution;x[l]=((p*n+f*s+g)*b|0)/b,x[l+1]=((v*s+d*n+m)*b|0)/b,x[l+5]=((p*i+f*s+g)*b|0)/b,x[l+6]=((v*s+d*i+m)*b|0)/b,x[l+10]=((p*i+f*o+g)*b|0)/b,x[l+11]=((v*o+d*i+m)*b|0)/b,x[l+15]=((p*n+f*o+g)*b|0)/b,x[l+16]=((v*o+d*n+m)*b|0)/b}else x[l]=p*n+f*s+g,x[l+1]=v*s+d*n+m,x[l+5]=p*i+f*s+g,x[l+6]=v*s+d*i+m,x[l+10]=p*i+f*o+g,x[l+11]=v*o+d*i+m,x[l+15]=p*n+f*o+g,x[l+16]=v*o+d*n+m;x[l+2]=r.x0,x[l+3]=r.y0,x[l+7]=r.x1,x[l+8]=r.y1,x[l+12]=r.x2,x[l+13]=r.y2,x[l+17]=r.x3,x[l+18]=r.y3;var _=t.tint;y[l+4]=y[l+9]=y[l+14]=y[l+19]=(_>>16)+(65280&_)+((255&_)<<16)+(255*t.worldAlpha<<24),this.sprites[this.currentBatchSize++]=t}},i.prototype.flush=function(){if(0!==this.currentBatchSize){var t,e=this.renderer.gl;if(this.currentBatchSize>.5*this.size)e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices);else{var r=this.positions.subarray(0,this.currentBatchSize*this.vertByteSize);e.bufferSubData(e.ARRAY_BUFFER,0,r)}for(var i,n,o,s,a=0,h=0,u=null,l=this.renderer.blendModeManager.currentBlendMode,c=null,p=!1,d=!1,f=0,v=this.currentBatchSize;v>f;f++)s=this.sprites[f],i=s._texture.baseTexture,n=s.blendMode,o=s.shader||this.shader,p=l!==n,d=c!==o,(u!==i||p||d)&&(this.renderBatch(u,a,h),h=f,a=0,u=i,p&&(l=n,this.renderer.blendModeManager.setBlendMode(l)),d&&(c=o,t=c.shaders?c.shaders[e.id]:c,t||(t=c.getShader(this.renderer)),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),e.activeTexture(e.TEXTURE0))),a++;this.renderBatch(u,a,h),this.currentBatchSize=0}},i.prototype.renderBatch=function(t,e,r){if(0!==e){var i=this.renderer.gl;t._glTextures[i.id]?i.bindTexture(i.TEXTURE_2D,t._glTextures[i.id]):this.renderer.updateTexture(t),i.drawElements(i.TRIANGLES,6*e,i.UNSIGNED_SHORT,6*r*2),this.renderer.drawCount++}},i.prototype.start=function(){var t=this.renderer.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.vertByteSize;t.vertexAttribPointer(this.shader.attributes.aVertexPosition,2,t.FLOAT,!1,e,0),t.vertexAttribPointer(this.shader.attributes.aTextureCoord,2,t.FLOAT,!1,e,8),t.vertexAttribPointer(this.shader.attributes.aColor,4,t.UNSIGNED_BYTE,!0,e,16)},i.prototype.destroy=function(){this.renderer.gl.deleteBuffer(this.vertexBuffer),this.renderer.gl.deleteBuffer(this.indexBuffer),n.prototype.destroy.call(this),this.shader.destroy(),this.renderer=null,this.vertices=null,this.positions=null,this.colors=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.sprites=null,this.shader=null}},{"../../const":22,"../../renderers/webgl/WebGLRenderer":49,"../../renderers/webgl/utils/ObjectRenderer":63}],69:[function(t,e,r){function i(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||h.RESOLUTION,this._text=null,this._style=null;var i=o.fromCanvas(this.canvas);i.trim=new s.Rectangle,n.call(this,i),this.text=t,this.style=e}var n=t("../sprites/Sprite"),o=t("../textures/Texture"),s=t("../math"),a=t("../utils"),h=t("../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.fontPropertiesCache={},i.fontPropertiesCanvas=document.createElement("canvas"),i.fontPropertiesContext=i.fontPropertiesCanvas.getContext("2d"),Object.defineProperties(i.prototype,{width:{get:function(){return this.dirty&&this.updateText(),this.scale.x*this._texture._frame.width},set:function(t){this.scale.x=t/this._texture._frame.width,this._width=t}},height:{get:function(){return this.dirty&&this.updateText(),this.scale.y*this._texture._frame.height},set:function(t){this.scale.y=t/this._texture._frame.height,this._height=t}},style:{get:function(){return this._style},set:function(t){t=t||{},"number"==typeof t.fill&&(t.fill=a.hex2string(t.fill)),"number"==typeof t.stroke&&(t.stroke=a.hex2string(t.stroke)),"number"==typeof t.dropShadowColor&&(t.dropShadowColor=a.hex2string(t.dropShadowColor)),t.font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.dropShadow=t.dropShadow||!1,t.dropShadowColor=t.dropShadowColor||"#000000",t.dropShadowAngle=void 0!==t.dropShadowAngle?t.dropShadowAngle:Math.PI/6,t.dropShadowDistance=void 0!==t.dropShadowDistance?t.dropShadowDistance:5,t.dropShadowBlur=void 0!==t.dropShadowBlur?t.dropShadowBlur:0,t.padding=t.padding||0,t.textBaseline=t.textBaseline||"alphabetic",t.lineJoin=t.lineJoin||"miter",t.miterLimit=t.miterLimit||10,this._style=t,this.dirty=!0}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),i.prototype.updateText=function(){var t=this._style;this.context.font=t.font;for(var e=t.wordWrap?this.wordWrap(this._text):this._text,r=e.split(/(?:\r\n|\r|\n)/),i=new Array(r.length),n=0,o=this.determineFontProperties(t.font),s=0;s<r.length;s++){var a=this.context.measureText(r[s]).width;i[s]=a,n=Math.max(n,a)}var h=n+t.strokeThickness;t.dropShadow&&(h+=t.dropShadowDistance),this.canvas.width=(h+this.context.lineWidth)*this.resolution;var u=this.style.lineHeight||o.fontSize+t.strokeThickness,l=u*r.length;t.dropShadow&&(l+=t.dropShadowDistance),this.canvas.height=(l+2*this._style.padding)*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=t.font,this.context.strokeStyle=t.stroke,this.context.lineWidth=t.strokeThickness,this.context.textBaseline=t.textBaseline,this.context.lineJoin=t.lineJoin,this.context.miterLimit=t.miterLimit;var c,p;if(t.dropShadow){t.dropShadowBlur>0?(this.context.shadowColor=t.dropShadowColor,this.context.shadowBlur=t.dropShadowBlur):this.context.fillStyle=t.dropShadowColor;var d=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,f=Math.sin(t.dropShadowAngle)*t.dropShadowDistance;for(s=0;s<r.length;s++)c=t.strokeThickness/2,p=t.strokeThickness/2+s*u+o.ascent,"right"===t.align?c+=n-i[s]:"center"===t.align&&(c+=(n-i[s])/2),t.fill&&this.context.fillText(r[s],c+d,p+f+this._style.padding)}for(this.context.fillStyle=t.fill,s=0;s<r.length;s++)c=t.strokeThickness/2,p=t.strokeThickness/2+s*u+o.ascent,"right"===t.align?c+=n-i[s]:"center"===t.align&&(c+=(n-i[s])/2),t.stroke&&t.strokeThickness&&this.context.strokeText(r[s],c,p+this._style.padding),t.fill&&this.context.fillText(r[s],c,p+this._style.padding);this.updateTexture()},i.prototype.updateTexture=function(){var t=this._texture;t.baseTexture.hasLoaded=!0,t.baseTexture.resolution=this.resolution,t.baseTexture.width=this.canvas.width/this.resolution,t.baseTexture.height=this.canvas.height/this.resolution,t.crop.width=t._frame.width=this.canvas.width/this.resolution,t.crop.height=t._frame.height=this.canvas.height/this.resolution,t.trim.x=0,t.trim.y=-this._style.padding,t.trim.width=t._frame.width,t.trim.height=t._frame.height-2*this._style.padding,this._width=this.canvas.width/this.resolution,this._height=this.canvas.height/this.resolution,t.baseTexture.emit("update",t.baseTexture),this.dirty=!1},i.prototype.renderWebGL=function(t){this.dirty&&this.updateText(),n.prototype.renderWebGL.call(this,t)},i.prototype._renderCanvas=function(t){this.dirty&&this.updateText(),n.prototype._renderCanvas.call(this,t)},i.prototype.determineFontProperties=function(t){var e=i.fontPropertiesCache[t];if(!e){e={};var r=i.fontPropertiesCanvas,n=i.fontPropertiesContext;n.font=t;var o=Math.ceil(n.measureText("|Mq").width),s=Math.ceil(n.measureText("M").width),a=2*s;s=1.4*s|0,r.width=o,r.height=a,n.fillStyle="#f00",n.fillRect(0,0,o,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText("|Mq",0,s);var h,u,l=n.getImageData(0,0,o,a).data,c=l.length,p=4*o,d=0,f=!1;for(h=0;s>h;h++){for(u=0;p>u;u+=4)if(255!==l[d+u]){f=!0;break}if(f)break;d+=p}for(e.ascent=s-h,d=c-p,f=!1,h=a;h>s;h--){for(u=0;p>u;u+=4)if(255!==l[d+u]){f=!0;break}if(f)break;d-=p}e.descent=h-s,e.fontSize=e.ascent+e.descent,i.fontPropertiesCache[t]=e}return e},i.prototype.wordWrap=function(t){for(var e="",r=t.split("\n"),i=this._style.wordWrapWidth,n=0;n<r.length;n++){for(var o=i,s=r[n].split(" "),a=0;a<s.length;a++){var h=this.context.measureText(s[a]).width,u=h+this.context.measureText(" ").width;0===a||u>o?(a>0&&(e+="\n"),e+=s[a],o=i-h):(o-=u,e+=" "+s[a])}n<r.length-1&&(e+="\n")}return e},i.prototype.getBounds=function(t){return this.dirty&&this.updateText(),n.prototype.getBounds.call(this,t)},i.prototype.destroy=function(t){this.context=null,this.canvas=null,this._style=null,this._texture.destroy(void 0===t?!0:t)}},{"../const":22,"../math":33,"../sprites/Sprite":67,"../textures/Texture":72,"../utils":77}],70:[function(t,e,r){function i(t,e,r){s.call(this),this.uid=n.uid(),this.resolution=r||1,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.scaleMode=e||o.SCALE_MODES.DEFAULT,this.hasLoaded=!1,this.isLoading=!1,this.source=null,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.mipmap=!1,this._glTextures={},t&&this.loadSource(t)}var n=t("../utils"),o=t("../const"),s=t("eventemitter3");i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=n.isPowerOfTwo(this.realWidth,this.realHeight),this.emit("update",this)},i.prototype.loadSource=function(t){var e=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=t,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this._sourceLoaded();else if(!t.getContext){this.isLoading=!0;var r=this;t.onload=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r._sourceLoaded(),r.emit("loaded",r))},t.onerror=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r.emit("error",r))},t.complete&&t.src&&(this.isLoading=!1,t.onload=null,t.onerror=null,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this))}},i.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},i.prototype.destroy=function(){this.imageUrl?(delete n.BaseTextureCache[this.imageUrl],delete n.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete n.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},i.prototype.dispose=function(){this.emit("dispose",this)},i.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},i.fromImage=function(t,e,r){var o=n.BaseTextureCache[t];if(void 0===e&&0!==t.indexOf("data:")&&(e=!0),!o){var s=new Image;e&&(s.crossOrigin=""),o=new i(s,r),o.imageUrl=t,s.src=t,n.BaseTextureCache[t]=o,o.resolution=n.getResolutionOfUrl(t)}return o},i.fromCanvas=function(t,e){t._pixiId||(t._pixiId="canvas_"+n.uid());var r=n.BaseTextureCache[t._pixiId];return r||(r=new i(t,e),n.BaseTextureCache[t._pixiId]=r),r}},{"../const":22,"../utils":77,eventemitter3:10}],71:[function(t,e,r){function i(t,e,r,i,c){if(!t)throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");e=e||100,r=r||100,c=c||l.RESOLUTION;var p=new n;if(p.width=e,p.height=r,p.resolution=c,p.scaleMode=i||l.SCALE_MODES.DEFAULT,p.hasLoaded=!0,o.call(this,p,new u.Rectangle(0,0,e,r)),this.width=e,this.height=r,this.resolution=c,this.render=null,this.renderer=t,this.renderer.type===l.RENDERER_TYPE.WEBGL){var d=this.renderer.gl;this.textureBuffer=new s(d,this.width,this.height,p.scaleMode,this.resolution),this.baseTexture._glTextures[d.id]=this.textureBuffer.texture,this.filterManager=new a(this.renderer),this.filterManager.onContextChange(),this.filterManager.resize(e,r),this.render=this.renderWebGL,this.renderer.currentRenderer.start(),this.renderer.currentRenderTarget.activate()}else this.render=this.renderCanvas,this.textureBuffer=new h(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()}var n=t("./BaseTexture"),o=t("./Texture"),s=t("../renderers/webgl/utils/RenderTarget"),a=t("../renderers/webgl/managers/FilterManager"),h=t("../renderers/canvas/utils/CanvasBuffer"),u=t("../math"),l=t("../const"),c=new u.Matrix;i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.resize=function(t,e,r){(t!==this.width||e!==this.height)&&(this.valid=t>0&&e>0,this.width=this._frame.width=this.crop.width=t,this.height=this._frame.height=this.crop.height=e,r&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&(this.textureBuffer.resize(this.width,this.height),this.filterManager&&this.filterManager.resize(this.width,this.height)))},i.prototype.clear=function(){this.valid&&(this.renderer.type===l.RENDERER_TYPE.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},i.prototype.renderWebGL=function(t,e,r,i){if(this.valid){if(i=void 0!==i?i:!0,this.textureBuffer.transform=e,this.textureBuffer.activate(),t.worldAlpha=1,i){t.worldTransform.identity(),t.currentBounds=null;var n,o,s=t.children;for(n=0,o=s.length;o>n;++n)s[n].updateTransform()}var a=this.renderer.filterManager;this.renderer.filterManager=this.filterManager,this.renderer.renderDisplayObject(t,this.textureBuffer,r),this.renderer.filterManager=a}},i.prototype.renderCanvas=function(t,e,r,i){if(this.valid){i=!!i;var n=c;n.identity(),e&&n.append(e);var o=t.worldTransform;t.worldTransform=n,t.worldAlpha=1;var s,a,h=t.children;for(s=0,a=h.length;a>s;++s)h[s].updateTransform();r&&this.textureBuffer.clear();var u=this.textureBuffer.context,l=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,u),this.renderer.resolution=l,t.worldTransform===n&&(t.worldTransform=o)}},i.prototype.destroy=function(){o.prototype.destroy.call(this,!0),this.textureBuffer.destroy(),this.filterManager&&this.filterManager.destroy(),this.renderer=null},i.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},i.prototype.getBase64=function(){return this.getCanvas().toDataURL()},i.prototype.getCanvas=function(){if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var t=this.renderer.gl,e=this.textureBuffer.size.width,r=this.textureBuffer.size.height,i=new Uint8Array(4*e*r);t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,r,t.RGBA,t.UNSIGNED_BYTE,i),t.bindFramebuffer(t.FRAMEBUFFER,null);var n=new h(e,r),o=n.context.getImageData(0,0,e,r);return o.data.set(i),n.context.putImageData(o,0,0),n.canvas}return this.textureBuffer.canvas},i.prototype.getPixels=function(){var t,e;if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var r=this.renderer.gl;t=this.textureBuffer.size.width,e=this.textureBuffer.size.height;var i=new Uint8Array(4*t*e);return r.bindFramebuffer(r.FRAMEBUFFER,this.textureBuffer.frameBuffer),r.readPixels(0,0,t,e,r.RGBA,r.UNSIGNED_BYTE,i),r.bindFramebuffer(r.FRAMEBUFFER,null),i}return t=this.textureBuffer.canvas.width,e=this.textureBuffer.canvas.height,this.textureBuffer.canvas.getContext("2d").getImageData(0,0,t,e).data},i.prototype.getPixel=function(t,e){if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var r=this.renderer.gl,i=new Uint8Array(4);return r.bindFramebuffer(r.FRAMEBUFFER,this.textureBuffer.frameBuffer),
r.readPixels(t,e,1,1,r.RGBA,r.UNSIGNED_BYTE,i),r.bindFramebuffer(r.FRAMEBUFFER,null),i}return this.textureBuffer.canvas.getContext("2d").getImageData(t,e,1,1).data}},{"../const":22,"../math":33,"../renderers/canvas/utils/CanvasBuffer":45,"../renderers/webgl/managers/FilterManager":54,"../renderers/webgl/utils/RenderTarget":65,"./BaseTexture":70,"./Texture":72}],72:[function(t,e,r){function i(t,e,r,n,o){if(a.call(this),this.noFrame=!1,e||(this.noFrame=!0,e=new h.Rectangle(0,0,1,1)),t instanceof i&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=n,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=r||e,this._rotate=+(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw"attempt to use diamond-shaped UVs. If you are sure, set rotation manually";t.hasLoaded?(this.noFrame&&(e=new h.Rectangle(0,0,t.width,t.height),t.on("update",this.onBaseTextureUpdated,this)),this.frame=e):t.once("loaded",this.onBaseTextureLoaded,this)}var n=t("./BaseTexture"),o=t("./VideoBaseTexture"),s=t("./TextureUvs"),a=t("eventemitter3"),h=t("../math"),u=t("../utils");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{frame:{get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,this.width=t.width,this.height=t.height,!this.trim&&!this.rotate&&(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim?(this.width=this.trim.width,this.height=this.trim.height,this._frame.width=this.trim.width,this._frame.height=this.trim.height):this.crop=t,this.valid&&this._updateUvs()}},rotate:{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}}}),i.prototype.update=function(){this.baseTexture.update()},i.prototype.onBaseTextureLoaded=function(t){this.noFrame?this.frame=new h.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.emit("update",this)},i.prototype.onBaseTextureUpdated=function(t){this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},i.prototype.destroy=function(t){this.baseTexture&&(t&&this.baseTexture.destroy(),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.crop=null,this.valid=!1,this.off("dispose",this.dispose,this),this.off("update",this.update,this)},i.prototype.clone=function(){return new i(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)},i.prototype._updateUvs=function(){this._uvs||(this._uvs=new s),this._uvs.set(this.crop,this.baseTexture,this.rotate)},i.fromImage=function(t,e,r){var o=u.TextureCache[t];return o||(o=new i(n.fromImage(t,e,r)),u.TextureCache[t]=o),o},i.fromFrame=function(t){var e=u.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},i.fromCanvas=function(t,e){return new i(n.fromCanvas(t,e))},i.fromVideo=function(t,e){return"string"==typeof t?i.fromVideoUrl(t,e):new i(o.fromVideo(t,e))},i.fromVideoUrl=function(t,e){return new i(o.fromUrl(t,e))},i.addTextureToCache=function(t,e){u.TextureCache[e]=t},i.removeTextureFromCache=function(t){var e=u.TextureCache[t];return delete u.TextureCache[t],delete u.BaseTextureCache[t],e},i.EMPTY=new i(new n)},{"../math":33,"../utils":77,"./BaseTexture":70,"./TextureUvs":73,"./VideoBaseTexture":74,eventemitter3:10}],73:[function(t,e,r){function i(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1}e.exports=i;var n=t("../math/GroupD8");i.prototype.set=function(t,e,r){var i=e.width,o=e.height;if(r){var s=n.isSwapWidthHeight(r),a=(s?t.height:t.width)/2/i,h=(s?t.width:t.height)/2/o,u=t.x/i+a,l=t.y/o+h;r=n.add(r,n.NW),this.x0=u+a*n.uX(r),this.y0=l+h*n.uY(r),r=n.add(r,2),this.x1=u+a*n.uX(r),this.y1=l+h*n.uY(r),r=n.add(r,2),this.x2=u+a*n.uX(r),this.y2=l+h*n.uY(r),r=n.add(r,2),this.x3=u+a*n.uX(r),this.y3=l+h*n.uY(r)}else this.x0=t.x/i,this.y0=t.y/o,this.x1=(t.x+t.width)/i,this.y1=t.y/o,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/o,this.x3=t.x/i,this.y3=(t.y+t.height)/o}},{"../math/GroupD8":30}],74:[function(t,e,r){function i(t,e){if(!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),o.call(this,t,e),this.autoUpdate=!1,this._onUpdate=this._onUpdate.bind(this),this._onCanPlay=this._onCanPlay.bind(this),t.complete||(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this))),this.__loaded=!1}function n(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}var o=t("./BaseTexture"),s=t("../utils");i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i,i.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())},i.prototype._onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)},i.prototype._onPlayStop=function(){this.autoUpdate=!1},i.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)))},i.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete s.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),o.prototype.destroy.call(this)},i.fromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+s.uid());var r=s.BaseTextureCache[t._pixiId];return r||(r=new i(t,e),s.BaseTextureCache[t._pixiId]=r),r},i.fromUrl=function(t,e){var r=document.createElement("video");if(Array.isArray(t))for(var o=0;o<t.length;++o)r.appendChild(n(t[o].src||t[o],t[o].mime));else r.appendChild(n(t.src||t,t.mime));return r.load(),r.play(),i.fromVideo(r,e)},i.fromUrls=i.fromUrl},{"../utils":77,"./BaseTexture":70}],75:[function(t,e,r){function i(){var t=this;this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._emitter.listeners(s,!0)&&(t._requestId=requestAnimationFrame(t._tick)))},this._emitter=new o,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/n.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1}var n=t("../const"),o=t("eventemitter3"),s="tick";Object.defineProperties(i.prototype,{FPS:{get:function(){return 1e3/this.elapsedMS}},minFPS:{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,n.TARGET_FPMS);this._maxElapsedMS=1/e}}}),i.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(s,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},i.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},i.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},i.prototype.add=function(t,e){return this._emitter.on(s,t,e),this._startIfPossible(),this},i.prototype.addOnce=function(t,e){return this._emitter.once(s,t,e),this._startIfPossible(),this},i.prototype.remove=function(t,e){return this._emitter.off(s,t,e),this._emitter.listeners(s,!0)||this._cancelIfNeeded(),this},i.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},i.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},i.prototype.update=function(t){var e;t=t||performance.now(),e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*n.TARGET_FPMS*this.speed,this._emitter.emit(s,this.deltaTime),this.lastTime=t},e.exports=i},{"../const":22,eventemitter3:10}],76:[function(t,e,r){var i=t("./Ticker"),n=new i;n.autoStart=!0,e.exports={shared:n,Ticker:i}},{"./Ticker":75}],77:[function(t,e,r){var i=t("../const"),n=e.exports={_uid:0,_saidHello:!1,EventEmitter:t("eventemitter3"),pluginTarget:t("./pluginTarget"),async:t("async"),uid:function(){return++n._uid},hex2rgb:function(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},hex2string:function(t){return t=t.toString(16),t="000000".substr(0,6-t.length)+t,"#"+t},rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},canUseNewCanvasBlendModes:function(){if("undefined"==typeof document)return!1;var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",r=new Image;r.src=t+"AP804Oa6"+e;var i=new Image;i.src=t+"/wCKxvRF"+e;var n=document.createElement("canvas");n.width=6,n.height=1;var o=n.getContext("2d");o.globalCompositeOperation="multiply",o.drawImage(r,0,0),o.drawImage(i,2,0);var s=o.getImageData(2,0,1,1).data;return 255===s[0]&&0===s[1]&&0===s[2]},getNextPowerOfTwo:function(t){if(t>0&&0===(t&t-1))return t;for(var e=1;t>e;)e<<=1;return e},isPowerOfTwo:function(t,e){return t>0&&0===(t&t-1)&&e>0&&0===(e&e-1)},getResolutionOfUrl:function(t){var e=i.RETINA_PREFIX.exec(t);return e?parseFloat(e[1]):1},sayHello:function(t){if(!n._saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c Pixi.js "+i.VERSION+" -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("Pixi.js "+i.VERSION+" - "+t+" - http://www.pixijs.com/");n._saidHello=!0}},isWebGLSupported:function(){var t={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);return!(!r||!r.getContextAttributes().stencil)}catch(i){return!1}},sign:function(t){return t?0>t?-1:1:0},removeItems:function(t,e,r){var i=t.length;if(!(e>=i||0===r)){r=e+r>i?i-e:r;for(var n=e,o=i-r;o>n;++n)t[n]=t[n+r];t.length=o}},TextureCache:{},BaseTextureCache:{}}},{"../const":22,"./pluginTarget":78,async:1,eventemitter3:10}],78:[function(t,e,r){function i(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}e.exports={mixin:function(t){i(t)}}},{}],79:[function(t,e,r){var i=t("./core"),n=t("./mesh"),o=t("./extras"),s=t("./filters");i.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},i.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(i,{Stage:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),i.Container}},DisplayObjectContainer:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),i.Container}},Strip:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),n.Mesh}},Rope:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),n.Rope}},MovieClip:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),o.MovieClip}},TilingSprite:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),o.TilingSprite}},BitmapText:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),o.BitmapText}},blendModes:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),i.BLEND_MODES}},scaleModes:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),i.SCALE_MODES}},BaseTextureCache:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),i.utils.BaseTextureCache}},TextureCache:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),i.utils.TextureCache}},math:{get:function(){return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),i}}}),i.Sprite.prototype.setTexture=function(t){this.texture=t,console.warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},o.BitmapText.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},i.Text.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},i.Text.prototype.setStyle=function(t){this.style=t,console.warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},i.Texture.prototype.setFrame=function(t){this.frame=t,console.warn("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")},Object.defineProperties(s,{AbstractFilter:{get:function(){return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),i.AbstractFilter}},FXAAFilter:{get:function(){return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),i.FXAAFilter}},SpriteMaskFilter:{get:function(){return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),i.SpriteMaskFilter}}}),i.utils.uuid=function(){return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),i.utils.uid()}},{"./core":29,"./extras":86,"./filters":103,"./mesh":128}],80:[function(t,e,r){function i(t,e){n.Container.call(this),e=e||{},this.textWidth=0,this.textHeight=0,this._glyphs=[],this._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0},this.font=e.font,this._text=t,this.maxWidth=0,this.maxLineHeight=0,this.dirty=!1,this.updateText()}var n=t("../core");i.prototype=Object.create(n.Container.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{tint:{get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},align:{get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},font:{get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):i.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),i.prototype.updateText=function(){for(var t=i.fonts[this._font.name],e=new n.Point,r=null,o=[],s=0,a=0,h=[],u=0,l=this._font.size/t.size,c=-1,p=0,d=0;d<this.text.length;d++){var f=this.text.charCodeAt(d);if(c=/(\s)/.test(this.text.charAt(d))?d:c,/(?:\r\n|\r|\n)/.test(this.text.charAt(d)))h.push(s),a=Math.max(a,s),u++,e.x=0,e.y+=t.lineHeight,r=null;else if(-1!==c&&this.maxWidth>0&&e.x*l>this.maxWidth)n.utils.removeItems(o,c,d-c),d=c,c=-1,h.push(s),a=Math.max(a,s),u++,e.x=0,e.y+=t.lineHeight,r=null;else{var v=t.chars[f];v&&(r&&v.kerning[r]&&(e.x+=v.kerning[r]),o.push({texture:v.texture,line:u,charCode:f,position:new n.Point(e.x+v.xOffset,e.y+v.yOffset)}),s=e.x+(v.texture.width+v.xOffset),e.x+=v.xAdvance,p=Math.max(p,v.yOffset+v.texture.height),r=f)}}h.push(s),a=Math.max(a,s);var g=[];for(d=0;u>=d;d++){var m=0;"right"===this._font.align?m=a-h[d]:"center"===this._font.align&&(m=(a-h[d])/2),g.push(m)}var y=o.length,x=this.tint;for(d=0;y>d;d++){var b=this._glyphs[d];b?b.texture=o[d].texture:(b=new n.Sprite(o[d].texture),this._glyphs.push(b)),b.position.x=(o[d].position.x+g[o[d].line])*l,b.position.y=o[d].position.y*l,b.scale.x=b.scale.y=l,b.tint=x,b.parent||this.addChild(b)}for(d=y;d<this._glyphs.length;++d)this.removeChild(this._glyphs[d]);this.textWidth=a*l,this.textHeight=(e.y+t.lineHeight)*l,this.maxLineHeight=p*l},i.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},i.prototype.getLocalBounds=function(){return this.validate(),n.Container.prototype.getLocalBounds.call(this)},i.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},i.fonts={}},{"../core":29}],81:[function(t,e,r){function i(t){n.Sprite.call(this,t[0]instanceof n.Texture?t[0]:t[0].texture),this._textures=null,this._durations=null,this.textures=t,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this._currentTime=0,this.playing=!1}var n=t("../core");i.prototype=Object.create(n.Sprite.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{totalFrames:{get:function(){return this._textures.length}},textures:{get:function(){return this._textures},set:function(t){if(t[0]instanceof n.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}}},currentFrame:{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return 0>t&&(t+=this._textures.length),t}}}),i.prototype.stop=function(){this.playing&&(this.playing=!1,n.ticker.shared.remove(this.update,this))},i.prototype.play=function(){this.playing||(this.playing=!0,n.ticker.shared.add(this.update,this))},i.prototype.gotoAndStop=function(t){this.stop(),this._currentTime=t,this._texture=this._textures[this.currentFrame]},i.prototype.gotoAndPlay=function(t){this._currentTime=t,this.play()},i.prototype.update=function(t){var e=this.animationSpeed*t;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;0>r;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):this._texture=this._textures[this.currentFrame]},i.prototype.destroy=function(){this.stop(),n.Sprite.prototype.destroy.call(this)},i.fromFrames=function(t){for(var e=[],r=0;r<t.length;++r)e.push(new n.Texture.fromFrame(t[r]));return new i(e)},i.fromImages=function(t){for(var e=[],r=0;r<t.length;++r)e.push(new n.Texture.fromImage(t[r]));return new i(e)}},{"../core":29}],82:[function(t,e,r){function i(t,e,r){n.Sprite.call(this,t),this.tileScale=new n.Point(1,1),this.tilePosition=new n.Point(0,0),this._width=e||100,this._height=r||100,this._uvs=new n.TextureUvs,this._canvasPattern=null,this.shader=new n.AbstractFilter(["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","uniform vec4 uFrame;","uniform vec4 uTransform;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vec2 coord = aTextureCoord;","   coord -= uTransform.xy;","   coord /= uTransform.zw;","   vTextureCoord = coord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform vec4 uFrame;","uniform vec2 uPixelSize;","void main(void){","   vec2 coord = mod(vTextureCoord, uFrame.zw);","   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);","   coord += uFrame.xy;","   gl_FragColor =  texture2D(uSampler, coord) * vColor ;","}"].join("\n"),{uFrame:{type:"4fv",value:[0,0,1,1]},uTransform:{type:"4fv",value:[0,0,1,1]},uPixelSize:{type:"2fv",value:[1,1]}})}var n=t("../core"),o=new n.Point,s=t("../core/renderers/canvas/utils/CanvasTinter");i.prototype=Object.create(n.Sprite.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this._width},set:function(t){this._width=t}},height:{get:function(){return this._height},set:function(t){this._height=t}}}),i.prototype._onTextureUpdate=function(){},i.prototype._renderWebGL=function(t){var e=this._texture;if(e&&e._uvs){var r=e._uvs,i=e._frame.width,n=e._frame.height,o=e.baseTexture.width,s=e.baseTexture.height;e._uvs=this._uvs,e._frame.width=this.width,e._frame.height=this.height,this.shader.uniforms.uPixelSize.value[0]=1/o,this.shader.uniforms.uPixelSize.value[1]=1/s,this.shader.uniforms.uFrame.value[0]=r.x0,this.shader.uniforms.uFrame.value[1]=r.y0,this.shader.uniforms.uFrame.value[2]=r.x1-r.x0,this.shader.uniforms.uFrame.value[3]=r.y2-r.y0,this.shader.uniforms.uTransform.value[0]=this.tilePosition.x%(i*this.tileScale.x)/this._width,this.shader.uniforms.uTransform.value[1]=this.tilePosition.y%(n*this.tileScale.y)/this._height,this.shader.uniforms.uTransform.value[2]=o/this._width*this.tileScale.x,this.shader.uniforms.uTransform.value[3]=s/this._height*this.tileScale.y,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this),e._uvs=r,e._frame.width=i,e._frame.height=n}},i.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,i=this.worldTransform,o=t.resolution,a=e.baseTexture,h=this.tilePosition.x/this.tileScale.x%e._frame.width,u=this.tilePosition.y/this.tileScale.y%e._frame.height;if(!this._canvasPattern){var l=new n.CanvasBuffer(e._frame.width,e._frame.height);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=s.getTintedTexture(this,this.tint)),l.context.drawImage(this.tintedTexture,0,0)):l.context.drawImage(a.source,-e._frame.x,-e._frame.y),this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),r.scale(this.tileScale.x,this.tileScale.y),r.translate(h+this.anchor.x*-this._width,u+this.anchor.y*-this._height);var c=t.blendModes[this.blendMode];c!==t.context.globalCompositeOperation&&(r.globalCompositeOperation=c),r.fillStyle=this._canvasPattern,r.fillRect(-h,-u,this._width/this.tileScale.x,this._height/this.tileScale.y)}},i.prototype.getBounds=function(){var t,e,r,i,n=this._width,o=this._height,s=n*(1-this.anchor.x),a=n*-this.anchor.x,h=o*(1-this.anchor.y),u=o*-this.anchor.y,l=this.worldTransform,c=l.a,p=l.b,d=l.c,f=l.d,v=l.tx,g=l.ty,m=c*a+d*u+v,y=f*u+p*a+g,x=c*s+d*u+v,b=f*u+p*s+g,_=c*s+d*h+v,T=f*h+p*s+g,E=c*a+d*h+v,S=f*h+p*a+g;t=m,t=t>x?x:t,t=t>_?_:t,t=t>E?E:t,r=y,r=r>b?b:r,r=r>T?T:r,r=r>S?S:r,e=m,e=x>e?x:e,e=_>e?_:e,e=E>e?E:e,i=y,i=b>i?b:i,i=T>i?T:i,i=S>i?S:i;var w=this._bounds;return w.x=t,w.width=e-t,w.y=r,w.height=i-r,this._currentBounds=w,w},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,o);var e,r=this._width,i=this._height,n=-r*this.anchor.x;return o.x>n&&o.x<n+r&&(e=-i*this.anchor.y,o.y>e&&o.y<e+i)?!0:!1},i.prototype.destroy=function(){n.Sprite.prototype.destroy.call(this),this.tileScale=null,this._tileScaleOffset=null,this.tilePosition=null,this._uvs=null},i.fromFrame=function(t,e,r){var o=n.utils.TextureCache[t];if(!o)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new i(o,e,r)},i.fromImage=function(t,e,r,o,s){return new i(n.Texture.fromImage(t,o,s),e,r)}},{"../core":29,"../core/renderers/canvas/utils/CanvasTinter":48}],83:[function(t,e,r){var i=t("../core"),n=i.DisplayObject,o=new i.Matrix;n.prototype._cacheAsBitmap=!1,n.prototype._originalRenderWebGL=null,n.prototype._originalRenderCanvas=null,n.prototype._originalUpdateTransform=null,n.prototype._originalHitTest=null,n.prototype._originalDestroy=null,n.prototype._cachedSprite=null,Object.defineProperties(n.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._originalRenderWebGL=this.renderWebGL,this._originalRenderCanvas=this.renderCanvas,this._originalUpdateTransform=this.updateTransform,this._originalGetBounds=this.getBounds,this._originalDestroy=this.destroy,this._originalContainsPoint=this.containsPoint,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(this._cachedSprite&&this._destroyCachedDisplayObject(),this.renderWebGL=this._originalRenderWebGL,this.renderCanvas=this._originalRenderCanvas,this.getBounds=this._originalGetBounds,this.destroy=this._originalDestroy,this.updateTransform=this._originalUpdateTransform,this.containsPoint=this._originalContainsPoint))}}}),n.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cachedSprite.worldAlpha=this.worldAlpha,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this._cachedSprite))},n.prototype._initCachedDisplayObject=function(t){if(!this._cachedSprite){t.currentRenderer.flush();var e=this.getLocalBounds().clone();if(this._filters){var r=this._filters[0].padding;e.x-=r,e.y-=r,e.width+=2*r,e.height+=2*r}var n=t.currentRenderTarget,s=t.filterManager.filterStack,a=new i.RenderTexture(t,0|e.width,0|e.height),h=o;h.tx=-e.x,h.ty=-e.y,this.renderWebGL=this._originalRenderWebGL,a.render(this,h,!0,!0),t.setRenderTarget(n),t.filterManager.filterStack=s,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new i.Sprite(a),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},n.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cachedSprite.worldAlpha=this.worldAlpha,this._cachedSprite.renderCanvas(t))},n.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cachedSprite){var e=this.getLocalBounds(),r=t.context,n=new i.RenderTexture(t,0|e.width,0|e.height),s=o;s.tx=-e.x,s.ty=-e.y,this.renderCanvas=this._originalRenderCanvas,n.render(this,s,!0),t.context=r,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new i.Sprite(n),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},n.prototype._getCachedBounds=function(){return this._cachedSprite._currentBounds=null,this._cachedSprite.getBounds()},n.prototype._destroyCachedDisplayObject=function(){this._cachedSprite._texture.destroy(),this._cachedSprite=null},n.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this._originalDestroy()}},{"../core":29}],84:[function(t,e,r){var i=t("../core");i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":29}],85:[function(t,e,r){var i=t("../core");i.DisplayObject.prototype.getGlobalPosition=function(t){return t=t||new i.Point,this.parent?(this.displayObjectUpdateTransform(),t.x=this.worldTransform.tx,t.y=this.worldTransform.ty):(t.x=this.position.x,t.y=this.position.y),t}},{"../core":29}],86:[function(t,e,r){t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition"),e.exports={MovieClip:t("./MovieClip"),TilingSprite:t("./TilingSprite"),BitmapText:t("./BitmapText")}},{"./BitmapText":80,"./MovieClip":81,"./TilingSprite":82,"./cacheAsBitmap":83,"./getChildByName":84,"./getGlobalPosition":85}],87:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"1f",value:8}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},{"../../core":29}],88:[function(t,e,r){function i(){n.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s,this.defaultFilter=new n.AbstractFilter}var n=t("../../core"),o=t("../blur/BlurXFilter"),s=t("../blur/BlurYFilter");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this.defaultFilter.applyFilter(t,e,r),this.blurXFilter.applyFilter(t,e,i),t.blendModeManager.setBlendMode(n.BLEND_MODES.SCREEN),this.blurYFilter.applyFilter(t,i,r),t.blendModeManager.setBlendMode(n.BLEND_MODES.NORMAL),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},{"../../core":29,"../blur/BlurXFilter":91,"../blur/BlurYFilter":92
}],89:[function(t,e,r){function i(t,e){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n",{strength:{type:"1f",value:1},dirX:{type:"1f",value:t||0},dirY:{type:"1f",value:e||0}}),this.defaultFilter=new n.AbstractFilter,this.passes=1,this.dirX=t||0,this.dirY=e||0,this.strength=4}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{var o=t.filterManager.getRenderTarget(!0);t.filterManager.applyFilter(n,e,o,i);for(var s=0;s<this.passes-2;s++)t.filterManager.applyFilter(n,o,o,i);t.filterManager.applyFilter(n,o,r,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}},dirX:{get:function(){return this.dirX},set:function(t){this.uniforms.dirX.value=t}},dirY:{get:function(){return this.dirY},set:function(t){this.uniforms.dirY.value=t}}})},{"../../core":29}],90:[function(t,e,r){function i(){n.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s}var n=t("../../core"),o=t("./BlurXFilter"),s=t("./BlurYFilter");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this.blurXFilter.applyFilter(t,e,i),this.blurYFilter.applyFilter(t,i,r),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.padding=.5*Math.abs(t),this.blurXFilter.blur=this.blurYFilter.blur=t}},passes:{get:function(){return this.blurXFilter.passes},set:function(t){this.blurXFilter.passes=this.blurYFilter.passes=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},{"../../core":29,"./BlurXFilter":91,"./BlurYFilter":92}],91:[function(t,e,r){function i(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,h=0;h<this.passes-1;h++){t.filterManager.applyFilter(n,s,a,!0);var u=a;a=s,s=u}t.filterManager.applyFilter(n,s,r,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})},{"../../core":29}],92:[function(t,e,r){function i(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=Math.abs(this.strength)/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,h=0;h<this.passes-1;h++){t.filterManager.applyFilter(n,s,a,!0);var u=a;a=s,s=u}t.filterManager.applyFilter(n,s,r,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})},{"../../core":29}],93:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{delta:{type:"v2",value:{x:.1,y:0}}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i},{"../../core":29}],94:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4];\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9];\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14];\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19];\n\n}\n",{m:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype._loadMatrix=function(t,e){e=!!e;var r=t;e&&(this._multiply(r,this.uniforms.m.value,t),r=this._colorMatrix(r)),this.uniforms.m.value=r},i.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19],t},i.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},i.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.grayscale=i.prototype.greyscale,i.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=.213,o=.715,s=.072,a=[n+r*(1-n)+i*-n,o+r*-o+i*-o,s+r*-s+i*(1-s),0,0,n+r*-n+.143*i,o+r*(1-o)+.14*i,s+r*-s+i*-.283,0,0,n+r*-n+i*-(1-n),o+r*-o+i*o,s+r*(1-s)+i*s,0,0,0,0,0,1,0];this._loadMatrix(a,e)},i.prototype.contrast=function(t,e){var r=(t||0)+1,i=-128*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.saturate=function(t,e){var r=2*(t||0)/3+1,i=(r-1)*-.5,n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.desaturate=function(t){this.saturate(-1)},i.prototype.negative=function(t){var e=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.colorTone=function(t,e,r,i,n){t=t||.2,e=e||.15,r=r||16770432,i=i||3375104;var o=(r>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,h=(i>>16&255)/255,u=(i>>8&255)/255,l=(255&i)/255,c=[.3,.59,.11,0,0,o,s,a,t,0,h,u,l,e,0,o-h,s-u,a-l,0,0];this._loadMatrix(c,n)},i.prototype.night=function(t,e){t=t||.1;var r=[-2*t,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},Object.defineProperties(i.prototype,{matrix:{get:function(){return this.uniforms.m.value},set:function(t){this.uniforms.m.value=t}}})},{"../../core":29}],95:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n",{step:{type:"1f",value:5}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{step:{get:function(){return this.uniforms.step.value},set:function(t){this.uniforms.step.value=t}}})},{"../../core":29}],96:[function(t,e,r){function i(t,e,r){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",{matrix:{type:"1fv",value:new Float32Array(t)},texelSize:{type:"v2",value:{x:1/e,y:1/r}}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{matrix:{get:function(){return this.uniforms.matrix.value},set:function(t){this.uniforms.matrix.value=new Float32Array(t)}},width:{get:function(){return 1/this.uniforms.texelSize.value.x},set:function(t){this.uniforms.texelSize.value.x=1/t}},height:{get:function(){return 1/this.uniforms.texelSize.value.y},set:function(t){this.uniforms.texelSize.value.y=1/t}}})},{"../../core":29}],97:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i},{"../../core":29}],98:[function(t,e,r){function i(t,e){var r=new n.Matrix;t.renderable=!1,n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision mediump float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n",{mapSampler:{type:"sampler2D",value:t.texture},otherMatrix:{type:"mat3",value:r.toArray(!0)},scale:{type:"v2",value:{x:1,y:1}}}),this.maskSprite=t,this.maskMatrix=r,(null===e||void 0===e)&&(e=20),this.scale=new n.Point(e,e)}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager;i.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.scale.value.x=this.scale.x*(1/e.frame.width),this.uniforms.scale.value.y=this.scale.y*(1/e.frame.height);var n=this.getShader(t);i.applyFilter(n,e,r)},Object.defineProperties(i.prototype,{map:{get:function(){return this.uniforms.mapSampler.value},set:function(t){this.uniforms.mapSampler.value=t}}})},{"../../core":29}],99:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",{scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{scale:{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},{"../../core":29}],100:[function(t,e,r){function i(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n",{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,h=0;h<this.passes-1;h++){t.filterManager.applyFilter(n,s,a,i);var u=a;a=s,s=u}t.filterManager.applyFilter(n,s,r,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}}})},{"../../core":29}],101:[function(t,e,r){function i(){n.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYTintFilter=new s,this.defaultFilter=new n.AbstractFilter,this.padding=30,this._dirtyPosition=!0,this._angle=45*Math.PI/180,this._distance=10,this.alpha=.75,this.hideObject=!1,this.blendMode=n.BLEND_MODES.MULTIPLY}var n=t("../../core"),o=t("../blur/BlurXFilter"),s=t("./BlurYTintFilter");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this._dirtyPosition&&(this._dirtyPosition=!1,this.blurYTintFilter.uniforms.offset.value[0]=Math.sin(this._angle)*this._distance,this.blurYTintFilter.uniforms.offset.value[1]=Math.cos(this._angle)*this._distance),this.blurXFilter.applyFilter(t,e,i),t.blendModeManager.setBlendMode(this.blendMode),this.blurYTintFilter.applyFilter(t,i,r),t.blendModeManager.setBlendMode(n.BLEND_MODES.NORMAL),this.hideObject||this.defaultFilter.applyFilter(t,e,r),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYTintFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYTintFilter.blur},set:function(t){this.blurYTintFilter.blur=t}},color:{get:function(){return n.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)},set:function(t){this.blurYTintFilter.uniforms.color.value=n.utils.hex2rgb(t)}},alpha:{get:function(){return this.blurYTintFilter.uniforms.alpha.value},set:function(t){this.blurYTintFilter.uniforms.alpha.value=t}},distance:{get:function(){return this._distance},set:function(t){this._dirtyPosition=!0,this._distance=t}},angle:{get:function(){return this._angle},set:function(t){this._dirtyPosition=!0,this._angle=t}}})},{"../../core":29,"../blur/BlurXFilter":91,"./BlurYTintFilter":100}],102:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n",{gray:{type:"1f",value:1}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{gray:{get:function(){return this.uniforms.gray.value},set:function(t){this.uniforms.gray.value=t}}})},{"../../core":29}],103:[function(t,e,r){e.exports={AsciiFilter:t("./ascii/AsciiFilter"),BloomFilter:t("./bloom/BloomFilter"),BlurFilter:t("./blur/BlurFilter"),BlurXFilter:t("./blur/BlurXFilter"),BlurYFilter:t("./blur/BlurYFilter"),BlurDirFilter:t("./blur/BlurDirFilter"),ColorMatrixFilter:t("./color/ColorMatrixFilter"),ColorStepFilter:t("./color/ColorStepFilter"),ConvolutionFilter:t("./convolution/ConvolutionFilter"),CrossHatchFilter:t("./crosshatch/CrossHatchFilter"),DisplacementFilter:t("./displacement/DisplacementFilter"),DotScreenFilter:t("./dot/DotScreenFilter"),GrayFilter:t("./gray/GrayFilter"),DropShadowFilter:t("./dropshadow/DropShadowFilter"),InvertFilter:t("./invert/InvertFilter"),NoiseFilter:t("./noise/NoiseFilter"),PixelateFilter:t("./pixelate/PixelateFilter"),RGBSplitFilter:t("./rgb/RGBSplitFilter"),ShockwaveFilter:t("./shockwave/ShockwaveFilter"),SepiaFilter:t("./sepia/SepiaFilter"),SmartBlurFilter:t("./blur/SmartBlurFilter"),TiltShiftFilter:t("./tiltshift/TiltShiftFilter"),TiltShiftXFilter:t("./tiltshift/TiltShiftXFilter"),TiltShiftYFilter:t("./tiltshift/TiltShiftYFilter"),TwistFilter:t("./twist/TwistFilter")}},{"./ascii/AsciiFilter":87,"./bloom/BloomFilter":88,"./blur/BlurDirFilter":89,"./blur/BlurFilter":90,"./blur/BlurXFilter":91,"./blur/BlurYFilter":92,"./blur/SmartBlurFilter":93,"./color/ColorMatrixFilter":94,"./color/ColorStepFilter":95,"./convolution/ConvolutionFilter":96,"./crosshatch/CrossHatchFilter":97,"./displacement/DisplacementFilter":98,"./dot/DotScreenFilter":99,"./dropshadow/DropShadowFilter":101,"./gray/GrayFilter":102,"./invert/InvertFilter":104,"./noise/NoiseFilter":105,"./pixelate/PixelateFilter":106,"./rgb/RGBSplitFilter":107,"./sepia/SepiaFilter":108,"./shockwave/ShockwaveFilter":109,"./tiltshift/TiltShiftFilter":111,"./tiltshift/TiltShiftXFilter":112,"./tiltshift/TiltShiftYFilter":113,"./twist/TwistFilter":114}],104:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n",{invert:{type:"1f",value:1}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{invert:{get:function(){return this.uniforms.invert.value},set:function(t){this.uniforms.invert.value=t}}})},{"../../core":29}],105:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n",{noise:{type:"1f",value:.5}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{noise:{get:function(){return this.uniforms.noise.value},set:function(t){this.uniforms.noise.value=t}}})},{"../../core":29}],106:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"v2",value:{x:10,y:10}}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{size:{
get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},{"../../core":29}],107:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{red:{get:function(){return this.uniforms.red.value},set:function(t){this.uniforms.red.value=t}},green:{get:function(){return this.uniforms.green.value},set:function(t){this.uniforms.green.value=t}},blue:{get:function(){return this.uniforms.blue.value},set:function(t){this.uniforms.blue.value=t}}})},{"../../core":29}],108:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n",{sepia:{type:"1f",value:1}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{sepia:{get:function(){return this.uniforms.sepia.value},set:function(t){this.uniforms.sepia.value=t}}})},{"../../core":29}],109:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n",{center:{type:"v2",value:{x:.5,y:.5}},params:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{center:{get:function(){return this.uniforms.center.value},set:function(t){this.uniforms.center.value=t}},params:{get:function(){return this.uniforms.params.value},set:function(t){this.uniforms.params.value=t}},time:{get:function(){return this.uniforms.time.value},set:function(t){this.uniforms.time.value=t}}})},{"../../core":29}],110:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{blur:{type:"1f",value:100},gradientBlur:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},delta:{type:"v2",value:{x:30,y:30}},texSize:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}}),this.updateDelta()}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.updateDelta=function(){this.uniforms.delta.value.x=0,this.uniforms.delta.value.y=0},Object.defineProperties(i.prototype,{blur:{get:function(){return this.uniforms.blur.value},set:function(t){this.uniforms.blur.value=t}},gradientBlur:{get:function(){return this.uniforms.gradientBlur.value},set:function(t){this.uniforms.gradientBlur.value=t}},start:{get:function(){return this.uniforms.start.value},set:function(t){this.uniforms.start.value=t,this.updateDelta()}},end:{get:function(){return this.uniforms.end.value},set:function(t){this.uniforms.end.value=t,this.updateDelta()}}})},{"../../core":29}],111:[function(t,e,r){function i(){n.AbstractFilter.call(this),this.tiltShiftXFilter=new o,this.tiltShiftYFilter=new s}var n=t("../../core"),o=t("./TiltShiftXFilter"),s=t("./TiltShiftYFilter");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this.tiltShiftXFilter.applyFilter(t,e,i),this.tiltShiftYFilter.applyFilter(t,i,r),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.tiltShiftXFilter.blur},set:function(t){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=t}},gradientBlur:{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(t){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=t}},start:{get:function(){return this.tiltShiftXFilter.start},set:function(t){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=t}},end:{get:function(){return this.tiltShiftXFilter.end},set:function(t){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=t}}})},{"../../core":29,"./TiltShiftXFilter":112,"./TiltShiftYFilter":113}],112:[function(t,e,r){function i(){n.call(this)}var n=t("./TiltShiftAxisFilter");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,r=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=t/r,this.uniforms.delta.value.y=e/r}},{"./TiltShiftAxisFilter":110}],113:[function(t,e,r){function i(){n.call(this)}var n=t("./TiltShiftAxisFilter");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,r=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=-e/r,this.uniforms.delta.value.y=t/r}},{"./TiltShiftAxisFilter":110}],114:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n",{radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}},radius:{get:function(){return this.uniforms.radius.value},set:function(t){this.uniforms.radius.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},{"../../core":29}],115:[function(t,e,r){(function(r){t("./polyfill");var i=e.exports=t("./core");i.extras=t("./extras"),i.filters=t("./filters"),i.interaction=t("./interaction"),i.loaders=t("./loaders"),i.mesh=t("./mesh"),i.accessibility=t("./accessibility"),i.loader=new i.loaders.Loader,Object.assign(i,t("./deprecation")),r.PIXI=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":21,"./core":29,"./deprecation":79,"./extras":86,"./filters":103,"./interaction":118,"./loaders":121,"./mesh":128,"./polyfill":133}],116:[function(t,e,r){function i(){this.global=new n.Point,this.target=null,this.originalEvent=null}var n=t("../core");i.prototype.constructor=i,e.exports=i,i.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)}},{"../core":29}],117:[function(t,e,r){function i(t,e){e=e||{},this.renderer=t,this.autoPreventDefault=void 0!==e.autoPreventDefault?e.autoPreventDefault:!0,this.interactionFrequency=e.interactionFrequency||10,this.mouse=new o,this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}},this.interactiveDataPool=[],this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.onMouseUp=this.onMouseUp.bind(this),this.processMouseUp=this.processMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.processMouseDown=this.processMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.processMouseMove=this.processMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.processMouseOverOut=this.processMouseOverOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.processTouchStart=this.processTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.processTouchEnd=this.processTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.processTouchMove=this.processTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this._tempPoint=new n.Point,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}var n=t("../core"),o=t("./InteractionData");Object.assign(n.DisplayObject.prototype,t("./interactiveTarget")),i.prototype.constructor=i,e.exports=i,i.prototype.setTargetElement=function(t,e){this.removeEvents(),this.interactionDOMElement=t,this.resolution=e||1,this.addEvents()},i.prototype.addEvents=function(){this.interactionDOMElement&&(n.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!0)},i.prototype.removeEvents=function(){this.interactionDOMElement&&(n.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)},i.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)}},i.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.target=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},i.prototype.mapPositionToPoint=function(t,e,r){var i=this.interactionDOMElement.getBoundingClientRect();t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)/this.resolution,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)/this.resolution},i.prototype.processInteractive=function(t,e,r,i,n){if(!e||!e.visible)return!1;var o=!1,s=n=e.interactive||n;if(e.hitArea&&(s=!1),e.interactiveChildren)for(var a=e.children,h=a.length-1;h>=0;h--){var u=a[h];if(this.processInteractive(t,u,r,i,s)){if(!u.parent)continue;o=!0,s=!1,u.interactive&&(i=!1)}}return n&&(i&&!o&&(e.hitArea?(e.worldTransform.applyInverse(t,this._tempPoint),o=e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):e.containsPoint&&(o=e.containsPoint(t))),e.interactive&&r(e,o)),o},i.prototype.onMouseDown=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0)},i.prototype.processMouseDown=function(t,e){var r=this.mouse.originalEvent,i=2===r.button||3===r.which;e&&(t[i?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(t,i?"rightdown":"mousedown",this.eventData))},i.prototype.onMouseUp=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0)},i.prototype.processMouseUp=function(t,e){var r=this.mouse.originalEvent,i=2===r.button||3===r.which,n=i?"_isRightDown":"_isLeftDown";e?(this.dispatchEvent(t,i?"rightup":"mouseup",this.eventData),t[n]&&(t[n]=!1,this.dispatchEvent(t,i?"rightclick":"click",this.eventData))):t[n]&&(t[n]=!1,this.dispatchEvent(t,i?"rightupoutside":"mouseupoutside",this.eventData))},i.prototype.onMouseMove=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.didMove=!0,this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},i.prototype.processMouseMove=function(t,e){this.processMouseOverOut(t,e),(!this.moveWhenInside||e)&&this.dispatchEvent(t,"mousemove",this.eventData)},i.prototype.onMouseOut=function(t){this.mouse.originalEvent=t,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.interactionDOMElement.style.cursor="inherit",this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1)},i.prototype.processMouseOverOut=function(t,e){e?(t._over||(t._over=!0,this.dispatchEvent(t,"mouseover",this.eventData)),t.buttonMode&&(this.cursor=t.defaultCursor)):t._over&&(t._over=!1,this.dispatchEvent(t,"mouseout",this.eventData))},i.prototype.onTouchStart=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,i=0;r>i;i++){var n=e[i],o=this.getTouchData(n);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.returnTouchData(o)}},i.prototype.processTouchStart=function(t,e){e&&(t._touchDown=!0,this.dispatchEvent(t,"touchstart",this.eventData))},i.prototype.onTouchEnd=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,i=0;r>i;i++){var n=e[i],o=this.getTouchData(n);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.returnTouchData(o)}},i.prototype.processTouchEnd=function(t,e){e?(this.dispatchEvent(t,"touchend",this.eventData),t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"tap",this.eventData))):t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"touchendoutside",this.eventData))},i.prototype.onTouchMove=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,i=0;r>i;i++){var n=e[i],o=this.getTouchData(n);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchMove,this.moveWhenInside),this.returnTouchData(o)}},i.prototype.processTouchMove=function(t,e){(!this.moveWhenInside||e)&&this.dispatchEvent(t,"touchmove",this.eventData)},i.prototype.getTouchData=function(t){var e=this.interactiveDataPool.pop();return e||(e=new o),e.identifier=t.identifier,this.mapPositionToPoint(e.global,t.clientX,t.clientY),navigator.isCocoonJS&&(e.global.x=e.global.x/this.resolution,e.global.y=e.global.y/this.resolution),t.globalX=e.global.x,t.globalY=e.global.y,e},i.prototype.returnTouchData=function(t){this.interactiveDataPool.push(t)},i.prototype.destroy=function(){this.removeEvents(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},n.WebGLRenderer.registerPlugin("interaction",i),n.CanvasRenderer.registerPlugin("interaction",i)},{"../core":29,"./InteractionData":116,"./interactiveTarget":119}],118:[function(t,e,r){e.exports={InteractionData:t("./InteractionData"),InteractionManager:t("./InteractionManager"),interactiveTarget:t("./interactiveTarget")}},{"./InteractionData":116,"./InteractionManager":117,"./interactiveTarget":119}],119:[function(t,e,r){var i={interactive:!1,buttonMode:!1,interactiveChildren:!0,defaultCursor:"pointer",_over:!1,_touchDown:!1};e.exports=i},{}],120:[function(t,e,r){function i(t,e){var r={},i=t.data.getElementsByTagName("info")[0],n=t.data.getElementsByTagName("common")[0];r.font=i.getAttribute("face"),r.size=parseInt(i.getAttribute("size"),10),r.lineHeight=parseInt(n.getAttribute("lineHeight"),10),r.chars={};for(var a=t.data.getElementsByTagName("char"),h=0;h<a.length;h++){var u=parseInt(a[h].getAttribute("id"),10),l=new o.Rectangle(parseInt(a[h].getAttribute("x"),10)+e.frame.x,parseInt(a[h].getAttribute("y"),10)+e.frame.y,parseInt(a[h].getAttribute("width"),10),parseInt(a[h].getAttribute("height"),10));r.chars[u]={xOffset:parseInt(a[h].getAttribute("xoffset"),10),yOffset:parseInt(a[h].getAttribute("yoffset"),10),xAdvance:parseInt(a[h].getAttribute("xadvance"),10),kerning:{},texture:new o.Texture(e.baseTexture,l)}}var c=t.data.getElementsByTagName("kerning");for(h=0;h<c.length;h++){var p=parseInt(c[h].getAttribute("first"),10),d=parseInt(c[h].getAttribute("second"),10),f=parseInt(c[h].getAttribute("amount"),10);r.chars[d]&&(r.chars[d].kerning[p]=f)}t.bitmapFont=r,s.BitmapText.fonts[r.font]=r}var n=t("resource-loader").Resource,o=t("../core"),s=t("../extras"),a=t("path");e.exports=function(){return function(t,e){if(!t.data||!t.isXml)return e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return e();var r=a.dirname(t.url);"."===r&&(r=""),this.baseUrl&&r&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/"),r=r.replace(this.baseUrl,"")),r&&"/"!==r.charAt(r.length-1)&&(r+="/");var s=r+t.data.getElementsByTagName("page")[0].getAttribute("file");if(o.utils.TextureCache[s])i(t,o.utils.TextureCache[s]),e();else{var h={crossOrigin:t.crossOrigin,loadType:n.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata};this.add(t.name+"_image",s,h,function(r){i(t,r.texture),e()})}}}},{"../core":29,"../extras":86,path:2,"resource-loader":16}],121:[function(t,e,r){e.exports={Loader:t("./loader"),bitmapFontParser:t("./bitmapFontParser"),spritesheetParser:t("./spritesheetParser"),textureParser:t("./textureParser"),Resource:t("resource-loader").Resource}},{"./bitmapFontParser":120,"./loader":122,"./spritesheetParser":123,"./textureParser":124,"resource-loader":16}],122:[function(t,e,r){function i(t,e){n.call(this,t,e);for(var r=0;r<i._pixiMiddleware.length;++r)this.use(i._pixiMiddleware[r]())}var n=t("resource-loader"),o=t("./textureParser"),s=t("./spritesheetParser"),a=t("./bitmapFontParser");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i._pixiMiddleware=[n.middleware.parsing.blob,o,s,a],i.addPixiMiddleware=function(t){i._pixiMiddleware.push(t)};var h=n.Resource;h.setExtensionXhrType("fnt",h.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":120,"./spritesheetParser":123,"./textureParser":124,"resource-loader":16}],123:[function(t,e,r){var i=t("resource-loader").Resource,n=t("path"),o=t("../core");e.exports=function(){return function(t,e){if(!t.data||!t.isJson||!t.data.frames)return e();var r={crossOrigin:t.crossOrigin,loadType:i.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata},s=n.dirname(t.url.replace(this.baseUrl,"")),a=o.utils.getResolutionOfUrl(t.url);this.add(t.name+"_image",s+"/"+t.data.meta.image,r,function(r){t.textures={};var i=t.data.frames;for(var n in i){var s=i[n].frame;if(s){var h=null,u=null;if(h=i[n].rotated?new o.Rectangle(s.x,s.y,s.h,s.w):new o.Rectangle(s.x,s.y,s.w,s.h),i[n].trimmed&&(u=new o.Rectangle(i[n].spriteSourceSize.x/a,i[n].spriteSourceSize.y/a,i[n].sourceSize.w/a,i[n].sourceSize.h/a)),i[n].rotated){var l=h.width;h.width=h.height,h.height=l}h.x/=a,h.y/=a,h.width/=a,h.height/=a,t.textures[n]=new o.Texture(r.texture.baseTexture,h,h.clone(),u,i[n].rotated?2:0),o.utils.TextureCache[n]=t.textures[n]}}e()})}}},{"../core":29,path:2,"resource-loader":16}],124:[function(t,e,r){var i=t("../core");e.exports=function(){return function(t,e){if(t.data&&t.isImage){var r=new i.BaseTexture(t.data,null,i.utils.getResolutionOfUrl(t.url));r.imageUrl=t.url,t.texture=new i.Texture(r),i.utils.BaseTextureCache[t.url]=r,i.utils.TextureCache[t.url]=t.texture}e()}}},{"../core":29}],125:[function(t,e,r){function i(t,e,r,o,s){n.Container.call(this),this._texture=null,this.uvs=r||new Float32Array([0,0,1,0,1,1,0,1]),this.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]),this.indices=o||new Uint16Array([0,1,3,2]),this.dirty=!0,this.blendMode=n.BLEND_MODES.NORMAL,this.canvasPadding=0,this.drawMode=s||i.DRAW_MODES.TRIANGLE_MESH,this.texture=t,this.shader=null}var n=t("../core"),o=new n.Point,s=new n.Polygon;i.prototype=Object.create(n.Container.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),i.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.mesh),t.plugins.mesh.render(this)},i.prototype._renderCanvas=function(t){var e=t.context,r=this.worldTransform;t.roundPixels?e.setTransform(r.a,r.b,r.c,r.d,0|r.tx,0|r.ty):e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),this.drawMode===i.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(e):this._renderCanvasTriangles(e)},i.prototype._renderCanvasTriangleMesh=function(t){for(var e=this.vertices,r=this.uvs,i=e.length/2,n=0;i-2>n;n++){var o=2*n;this._renderCanvasDrawTriangle(t,e,r,o,o+2,o+4)}},i.prototype._renderCanvasTriangles=function(t){for(var e=this.vertices,r=this.uvs,i=this.indices,n=i.length,o=0;n>o;o+=3){var s=2*i[o],a=2*i[o+1],h=2*i[o+2];this._renderCanvasDrawTriangle(t,e,r,s,a,h)}},i.prototype._renderCanvasDrawTriangle=function(t,e,r,i,n,o){var s=this._texture.baseTexture.source,a=this._texture.baseTexture.width,h=this._texture.baseTexture.height,u=e[i],l=e[n],c=e[o],p=e[i+1],d=e[n+1],f=e[o+1],v=r[i]*a,g=r[n]*a,m=r[o]*a,y=r[i+1]*h,x=r[n+1]*h,b=r[o+1]*h;if(this.canvasPadding>0){var _=this.canvasPadding/this.worldTransform.a,T=this.canvasPadding/this.worldTransform.d,E=(u+l+c)/3,S=(p+d+f)/3,w=u-E,A=p-S,C=Math.sqrt(w*w+A*A);u=E+w/C*(C+_),p=S+A/C*(C+T),w=l-E,A=d-S,C=Math.sqrt(w*w+A*A),l=E+w/C*(C+_),d=S+A/C*(C+T),w=c-E,A=f-S,C=Math.sqrt(w*w+A*A),c=E+w/C*(C+_),f=S+A/C*(C+T)}t.save(),t.beginPath(),t.moveTo(u,p),t.lineTo(l,d),t.lineTo(c,f),t.closePath(),t.clip();var M=v*x+y*m+g*b-x*m-y*g-v*b,R=u*x+y*c+l*b-x*c-y*l-u*b,O=v*l+u*m+g*c-l*m-u*g-v*c,P=v*x*c+y*l*m+u*g*b-u*x*m-y*g*c-v*l*b,F=p*x+y*f+d*b-x*f-y*d-p*b,D=v*d+p*m+g*f-d*m-p*g-v*f,B=v*x*f+y*d*m+p*g*b-p*x*m-y*g*f-v*d*b;t.transform(R/M,F/M,O/M,D/M,P/M,B/M),t.drawImage(s,0,0),t.restore()},i.prototype.renderMeshFlat=function(t){var e=this.context,r=t.vertices,i=r.length/2;e.beginPath();for(var n=1;i-2>n;n++){var o=2*n,s=r[o],a=r[o+2],h=r[o+4],u=r[o+1],l=r[o+3],c=r[o+5];e.moveTo(s,u),e.lineTo(a,l),e.lineTo(h,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},i.prototype._onTextureUpdate=function(){this.updateFrame=!0},i.prototype.getBounds=function(t){if(!this._currentBounds){for(var e=t||this.worldTransform,r=e.a,i=e.b,o=e.c,s=e.d,a=e.tx,h=e.ty,u=-(1/0),l=-(1/0),c=1/0,p=1/0,d=this.vertices,f=0,v=d.length;v>f;f+=2){var g=d[f],m=d[f+1],y=r*g+o*m+a,x=s*m+i*g+h;c=c>y?y:c,p=p>x?x:p,u=y>u?y:u,l=x>l?x:l}if(c===-(1/0)||l===1/0)return n.Rectangle.EMPTY;var b=this._bounds;b.x=c,b.width=u-c,b.y=p,b.height=l-p,this._currentBounds=b}return this._currentBounds},i.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,o);var e,r,n=this.vertices,a=s.points;if(this.drawMode===i.DRAW_MODES.TRIANGLES){var h=this.indices;for(r=this.indices.length,e=0;r>e;e+=3){var u=2*h[e],l=2*h[e+1],c=2*h[e+2];if(a[0]=n[u],a[1]=n[u+1],a[2]=n[l],a[3]=n[l+1],a[4]=n[c],a[5]=n[c+1],s.contains(o.x,o.y))return!0}}else for(r=n.length,e=0;r>e;e+=6)if(a[0]=n[e],a[1]=n[e+1],a[2]=n[e+2],a[3]=n[e+3],a[4]=n[e+4],a[5]=n[e+5],s.contains(o.x,o.y))return!0;return!1},i.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":29}],126:[function(t,e,r){function i(t,e,r){n.call(this,t),this._ready=!0,this.segmentsX=e||10,this.segmentsY=r||10,this.drawMode=n.DRAW_MODES.TRIANGLES,this.refresh()}var n=t("./Mesh");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.refresh=function(){var t=this.segmentsX*this.segmentsY,e=[],r=[],i=[],n=[],o=this.texture,s=this.segmentsX-1,a=this.segmentsY-1,h=0,u=o.width/s,l=o.height/a;for(h=0;t>h;h++){var c=h%this.segmentsX,p=h/this.segmentsX|0;e.push(c*u,p*l),i.push(o._uvs.x0+(o._uvs.x1-o._uvs.x0)*(c/(this.segmentsX-1)),o._uvs.y0+(o._uvs.y3-o._uvs.y0)*(p/(this.segmentsY-1)))}var d=s*a;for(h=0;d>h;h++){var f=h%s,v=h/s|0,g=v*this.segmentsX+f,m=v*this.segmentsX+f+1,y=(v+1)*this.segmentsX+f,x=(v+1)*this.segmentsX+f+1;n.push(g,m,y),n.push(m,x,y)}this.vertices=new Float32Array(e),this.uvs=new Float32Array(i),this.colors=new Float32Array(r),this.indices=new Uint16Array(n)},i.prototype._onTextureUpdate=function(){n.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()}},{"./Mesh":125}],127:[function(t,e,r){function i(t,e){n.call(this,t),this.points=e,this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length),this._ready=!0,this.refresh()}var n=t("./Mesh"),o=t("../core");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){var e=this.uvs,r=this.indices,i=this.colors,n=this._texture._uvs,s=new o.Point(n.x0,n.y0),a=new o.Point(n.x2-n.x0,n.y2-n.y0);e[0]=0+s.x,e[1]=0+s.y,e[2]=0+s.x,e[3]=1*a.y+s.y,i[0]=1,i[1]=1,r[0]=0,r[1]=1;for(var h,u,l,c=t.length,p=1;c>p;p++)h=t[p],u=4*p,l=p/(c-1),e[u]=l*a.x+s.x,e[u+1]=0+s.y,e[u+2]=l*a.x+s.x,e[u+3]=1*a.y+s.y,u=2*p,i[u]=1,i[u+1]=1,u=2*p,r[u]=u,r[u+1]=u+1;this.dirty=!0}},i.prototype._onTextureUpdate=function(){n.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},i.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){for(var e,r,i,n,o,s,a=t[0],h=0,u=0,l=this.vertices,c=t.length,p=0;c>p;p++)r=t[p],i=4*p,e=p<t.length-1?t[p+1]:r,u=-(e.x-a.x),h=e.y-a.y,n=10*(1-p/(c-1)),n>1&&(n=1),o=Math.sqrt(h*h+u*u),s=this._texture.height/2,h/=o,u/=o,h*=s,u*=s,l[i]=r.x+h,l[i+1]=r.y+u,l[i+2]=r.x-h,l[i+3]=r.y-u,a=r;this.containerUpdateTransform()}}},{"../core":29,"./Mesh":125}],128:[function(t,e,r){e.exports={Mesh:t("./Mesh"),Plane:t("./Plane"),Rope:t("./Rope"),MeshRenderer:t("./webgl/MeshRenderer"),MeshShader:t("./webgl/MeshShader")}},{"./Mesh":125,"./Plane":126,"./Rope":127,"./webgl/MeshRenderer":129,"./webgl/MeshShader":130}],129:[function(t,e,r){function i(t){n.ObjectRenderer.call(this,t),this.indices=new Uint16Array(15e3);for(var e=0,r=0;15e3>e;e+=6,r+=4)this.indices[e+0]=r+0,this.indices[e+1]=r+1,this.indices[e+2]=r+2,this.indices[e+3]=r+0,this.indices[e+4]=r+2,this.indices[e+5]=r+3;this.currentShader=null}var n=t("../../core"),o=t("../Mesh");i.prototype=Object.create(n.ObjectRenderer.prototype),i.prototype.constructor=i,e.exports=i,n.WebGLRenderer.registerPlugin("mesh",i),i.prototype.onContextChange=function(){},i.prototype.render=function(t){t._vertexBuffer||this._initWebGL(t);var e=this.renderer,r=e.gl,i=t._texture.baseTexture,n=t.shader,s=t.drawMode===o.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;e.blendModeManager.setBlendMode(t.blendMode),n=n?n.shaders[r.id]||n.getShader(e):e.shaderManager.plugins.meshShader,this.renderer.shaderManager.setShader(n),n.uniforms.translationMatrix.value=t.worldTransform.toArray(!0),n.uniforms.projectionMatrix.value=e.currentRenderTarget.projectionMatrix.toArray(!0),n.uniforms.alpha.value=t.worldAlpha,n.syncUniforms(),t.dirty?(t.dirty=!1,r.bindBuffer(r.ARRAY_BUFFER,t._vertexBuffer),r.bufferData(r.ARRAY_BUFFER,t.vertices,r.STATIC_DRAW),r.vertexAttribPointer(n.attributes.aVertexPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,t._uvBuffer),r.bufferData(r.ARRAY_BUFFER,t.uvs,r.STATIC_DRAW),r.vertexAttribPointer(n.attributes.aTextureCoord,2,r.FLOAT,!1,0,0),r.activeTexture(r.TEXTURE0),i._glTextures[r.id]?r.bindTexture(r.TEXTURE_2D,i._glTextures[r.id]):this.renderer.updateTexture(i),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t._indexBuffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.indices,r.STATIC_DRAW)):(r.bindBuffer(r.ARRAY_BUFFER,t._vertexBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,t.vertices),
r.vertexAttribPointer(n.attributes.aVertexPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,t._uvBuffer),r.vertexAttribPointer(n.attributes.aTextureCoord,2,r.FLOAT,!1,0,0),r.activeTexture(r.TEXTURE0),i._glTextures[r.id]?r.bindTexture(r.TEXTURE_2D,i._glTextures[r.id]):this.renderer.updateTexture(i),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t._indexBuffer),r.bufferSubData(r.ELEMENT_ARRAY_BUFFER,0,t.indices)),r.drawElements(s,t.indices.length,r.UNSIGNED_SHORT,0)},i.prototype._initWebGL=function(t){var e=this.renderer.gl;t._vertexBuffer=e.createBuffer(),t._indexBuffer=e.createBuffer(),t._uvBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t.vertices,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._uvBuffer),e.bufferData(e.ARRAY_BUFFER,t.uvs,e.STATIC_DRAW),t.colors&&(t._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._colorBuffer),e.bufferData(e.ARRAY_BUFFER,t.colors,e.STATIC_DRAW)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t.indices,e.STATIC_DRAW)},i.prototype.flush=function(){},i.prototype.start=function(){this.currentShader=null},i.prototype.destroy=function(){n.ObjectRenderer.prototype.destroy.call(this)}},{"../../core":29,"../Mesh":125}],130:[function(t,e,r){function i(t){n.Shader.call(this,t,["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;","}"].join("\n"),{alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aTextureCoord:0})}var n=t("../../core");i.prototype=Object.create(n.Shader.prototype),i.prototype.constructor=i,e.exports=i,n.ShaderManager.registerPlugin("meshShader",i)},{"../../core":29}],131:[function(t,e,r){Math.sign||(Math.sign=function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1})},{}],132:[function(t,e,r){Object.assign||(Object.assign=t("object-assign"))},{"object-assign":11}],133:[function(t,e,r){t("./Object.assign"),t("./requestAnimationFrame"),t("./Math.sign")},{"./Math.sign":131,"./Object.assign":132,"./requestAnimationFrame":134}],134:[function(t,e,r){(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),i=["ms","moz","webkit","o"],n=0;n<i.length&&!t.requestAnimationFrame;++n)t.requestAnimationFrame=t[i[n]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[n]+"CancelAnimationFrame"]||t[i[n]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+r-e;return 0>i&&(i=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},i)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[115])(115)});
//# sourceMappingURL=pixi.min.js.map

;(function(){
var m,fa=this;function ha(a,b){var c=a.split("."),d=fa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}
function ia(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}var ka="closure_uid_"+(1E9*Math.random()>>>0),la=0;function ma(a,b,c){return a.call.apply(a.bind,arguments)}function na(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function qa(a,b,c){qa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ma:na;return qa.apply(null,arguments)};function ra(a,b){for(var c in a)b.call(void 0,a[c],c,a)};function sa(a,b){this.ga=[];this.lb=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=a[d]|0;c&&e==b||(this.ga[d]=e,c=!1)}}var ta={};function ua(a){if(-128<=a&&128>a){var b=ta[a];if(b)return b}b=new sa([a|0],0>a?-1:0);-128<=a&&128>a&&(ta[a]=b);return b}function xa(a){if(isNaN(a)||!isFinite(a))return ya;if(0>a)return xa(-a).Da();for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=za;return new sa(b,0)}var za=4294967296,ya=ua(0),Aa=ua(1),Ca=ua(16777216);m=sa.prototype;
m.hd=function(){return 0<this.ga.length?this.ga[0]:this.lb};m.Lb=function(){if(this.La())return-this.Da().Lb();for(var a=0,b=1,c=0;c<this.ga.length;c++)var d=Da(this,c),a=a+(0<=d?d:za+d)*b,b=b*za;return a};
m.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.Xa())return"0";if(this.La())return"-"+this.Da().toString(a);for(var b=xa(Math.pow(a,6)),c=this,d="";;){var e=Ea(c,b),f=(c.jc(e.multiply(b)).hd()>>>0).toString(a),c=e;if(c.Xa())return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};function Da(a,b){return 0>b?0:b<a.ga.length?a.ga[b]:a.lb}m.Xa=function(){if(0!=this.lb)return!1;for(var a=0;a<this.ga.length;a++)if(0!=this.ga[a])return!1;return!0};
m.La=function(){return-1==this.lb};m.Wc=function(a){return 0<this.compare(a)};m.Xc=function(a){return 0<=this.compare(a)};m.xc=function(){return 0>this.compare(Ca)};m.yc=function(a){return 0>=this.compare(a)};m.compare=function(a){a=this.jc(a);return a.La()?-1:a.Xa()?0:1};m.Da=function(){return this.cd().add(Aa)};
m.add=function(a){for(var b=Math.max(this.ga.length,a.ga.length),c=[],d=0,e=0;e<=b;e++){var f=d+(Da(this,e)&65535)+(Da(a,e)&65535),g=(f>>>16)+(Da(this,e)>>>16)+(Da(a,e)>>>16),d=g>>>16,f=f&65535,g=g&65535;c[e]=g<<16|f}return new sa(c,c[c.length-1]&-2147483648?-1:0)};m.jc=function(a){return this.add(a.Da())};
m.multiply=function(a){if(this.Xa()||a.Xa())return ya;if(this.La())return a.La()?this.Da().multiply(a.Da()):this.Da().multiply(a).Da();if(a.La())return this.multiply(a.Da()).Da();if(this.xc()&&a.xc())return xa(this.Lb()*a.Lb());for(var b=this.ga.length+a.ga.length,c=[],d=0;d<2*b;d++)c[d]=0;for(d=0;d<this.ga.length;d++)for(var e=0;e<a.ga.length;e++){var f=Da(this,d)>>>16,g=Da(this,d)&65535,h=Da(a,e)>>>16,l=Da(a,e)&65535;c[2*d+2*e]+=g*l;Fa(c,2*d+2*e);c[2*d+2*e+1]+=f*l;Fa(c,2*d+2*e+1);c[2*d+2*e+1]+=
g*h;Fa(c,2*d+2*e+1);c[2*d+2*e+2]+=f*h;Fa(c,2*d+2*e+2)}for(d=0;d<b;d++)c[d]=c[2*d+1]<<16|c[2*d];for(d=b;d<2*b;d++)c[d]=0;return new sa(c,0)};function Fa(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535}
function Ea(a,b){if(b.Xa())throw Error("division by zero");if(a.Xa())return ya;if(a.La())return b.La()?Ea(a.Da(),b.Da()):Ea(a.Da(),b).Da();if(b.La())return Ea(a,b.Da()).Da();if(30<a.ga.length){if(a.La()||b.La())throw Error("slowDivide_ only works with positive integers.");for(var c=Aa,d=b;d.yc(a);)c=c.shiftLeft(1),d=d.shiftLeft(1);for(var e=c.vb(1),f=d.vb(1),g,d=d.vb(2),c=c.vb(2);!d.Xa();)g=f.add(d),g.yc(a)&&(e=e.add(c),f=g),d=d.vb(1),c=c.vb(1);return e}c=ya;for(d=a;d.Xc(b);){e=Math.max(1,Math.floor(d.Lb()/
b.Lb()));f=Math.ceil(Math.log(e)/Math.LN2);f=48>=f?1:Math.pow(2,f-48);g=xa(e);for(var h=g.multiply(b);h.La()||h.Wc(d);)e-=f,g=xa(e),h=g.multiply(b);g.Xa()&&(g=Aa);c=c.add(g);d=d.jc(h)}return c}m.cd=function(){for(var a=this.ga.length,b=[],c=0;c<a;c++)b[c]=~this.ga[c];return new sa(b,~this.lb)};m.shiftLeft=function(a){var b=a>>5;a%=32;for(var c=this.ga.length+b+(0<a?1:0),d=[],e=0;e<c;e++)d[e]=0<a?Da(this,e-b)<<a|Da(this,e-b-1)>>>32-a:Da(this,e-b);return new sa(d,this.lb)};
m.vb=function(a){var b=a>>5;a%=32;for(var c=this.ga.length-b,d=[],e=0;e<c;e++)d[e]=0<a?Da(this,e+b)>>>a|Da(this,e+b+1)<<32-a:Da(this,e+b);return new sa(d,this.lb)};function Ga(a,b){null!=a&&this.append.apply(this,arguments)}m=Ga.prototype;m.eb="";m.set=function(a){this.eb=""+a};m.append=function(a,b,c){this.eb+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.eb+=arguments[d];return this};m.clear=function(){this.eb=""};m.toString=function(){return this.eb};var Ia={},Ja;if("undefined"===typeof Ka)var Ka=function(){throw Error("No *print-fn* fn set for evaluation environment");};if("undefined"===typeof La)var La=function(){throw Error("No *print-err-fn* fn set for evaluation environment");};var Ma=!0,Na=null;if("undefined"===typeof Oa)var Oa=null;function Pa(){return new Qa(null,5,[Ra,!0,Ua,!0,Va,!1,Wa,!1,Ya,null],null)}function t(a){return null!=a&&!1!==a}function Za(a){return a instanceof Array}function ab(a){return null==a?!0:!1===a?!0:!1}
function bb(a,b){return a[ia(null==b?null:b)]?!0:a._?!0:!1}function cb(a,b){var c=null==b?null:b.constructor,c=t(t(c)?c.Eb:c)?c.gb:ia(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function db(a){var b=a.gb;return t(b)?b:""+u(a)}var eb="undefined"!==typeof Symbol&&"function"===ia(Symbol)?Symbol.iterator:"@@iterator";function fb(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}
function gb(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 1:return hb(arguments[0]);case 2:return hb(arguments[1]);default:throw Error([u("Invalid arity: "),u(b.length)].join(""));}}function ib(a){return hb(a)}function hb(a){function b(a,b){a.push(b);return a}var c=[];return jb?jb(b,c,a):lb.call(null,b,c,a)}function mb(){}
var nb=function nb(b){if(null!=b&&null!=b.ba)return b.ba(b);var c=nb[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=nb._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("ICounted.-count",b);},ob=function ob(b){if(null!=b&&null!=b.ea)return b.ea(b);var c=ob[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=ob._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("IEmptyableCollection.-empty",b);};function pb(){}
var rb=function rb(b,c){if(null!=b&&null!=b.aa)return b.aa(b,c);var d=rb[ia(null==b?null:b)];if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);d=rb._;if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);throw cb("ICollection.-conj",b);};function tb(){}
var vb=function vb(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return vb.b(arguments[0],arguments[1]);case 3:return vb.c(arguments[0],arguments[1],arguments[2]);default:throw Error([u("Invalid arity: "),u(c.length)].join(""));}};
vb.b=function(a,b){if(null!=a&&null!=a.T)return a.T(a,b);var c=vb[ia(null==a?null:a)];if(null!=c)return c.b?c.b(a,b):c.call(null,a,b);c=vb._;if(null!=c)return c.b?c.b(a,b):c.call(null,a,b);throw cb("IIndexed.-nth",a);};vb.c=function(a,b,c){if(null!=a&&null!=a.Fa)return a.Fa(a,b,c);var d=vb[ia(null==a?null:a)];if(null!=d)return d.c?d.c(a,b,c):d.call(null,a,b,c);d=vb._;if(null!=d)return d.c?d.c(a,b,c):d.call(null,a,b,c);throw cb("IIndexed.-nth",a);};vb.A=3;
var yb=function yb(b){if(null!=b&&null!=b.wa)return b.wa(b);var c=yb[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=yb._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("ISeq.-first",b);},zb=function zb(b){if(null!=b&&null!=b.Ca)return b.Ca(b);var c=zb[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=zb._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("ISeq.-rest",b);};function Ab(){}function Cb(){}
var Db=function Db(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Db.b(arguments[0],arguments[1]);case 3:return Db.c(arguments[0],arguments[1],arguments[2]);default:throw Error([u("Invalid arity: "),u(c.length)].join(""));}};
Db.b=function(a,b){if(null!=a&&null!=a.X)return a.X(a,b);var c=Db[ia(null==a?null:a)];if(null!=c)return c.b?c.b(a,b):c.call(null,a,b);c=Db._;if(null!=c)return c.b?c.b(a,b):c.call(null,a,b);throw cb("ILookup.-lookup",a);};Db.c=function(a,b,c){if(null!=a&&null!=a.O)return a.O(a,b,c);var d=Db[ia(null==a?null:a)];if(null!=d)return d.c?d.c(a,b,c):d.call(null,a,b,c);d=Db._;if(null!=d)return d.c?d.c(a,b,c):d.call(null,a,b,c);throw cb("ILookup.-lookup",a);};Db.A=3;
var Eb=function Eb(b,c){if(null!=b&&null!=b.Ub)return b.Ub(b,c);var d=Eb[ia(null==b?null:b)];if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);d=Eb._;if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);throw cb("IAssociative.-contains-key?",b);},Fb=function Fb(b,c,d){if(null!=b&&null!=b.fb)return b.fb(b,c,d);var e=Fb[ia(null==b?null:b)];if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);e=Fb._;if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);throw cb("IAssociative.-assoc",b);};function Jb(){}
var Kb=function Kb(b,c){if(null!=b&&null!=b.yb)return b.yb(b,c);var d=Kb[ia(null==b?null:b)];if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);d=Kb._;if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);throw cb("IMap.-dissoc",b);};function Lb(){}
var Mb=function Mb(b){if(null!=b&&null!=b.$b)return b.$b();var c=Mb[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=Mb._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("IMapEntry.-key",b);},Pb=function Pb(b){if(null!=b&&null!=b.ac)return b.ac();var c=Pb[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=Pb._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("IMapEntry.-val",b);};function Qb(){}function Rb(){}
var Sb=function Sb(b,c,d){if(null!=b&&null!=b.bc)return b.bc(b,c,d);var e=Sb[ia(null==b?null:b)];if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);e=Sb._;if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);throw cb("IVector.-assoc-n",b);},Xb=function Xb(b){if(null!=b&&null!=b.Yb)return b.Yb(b);var c=Xb[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=Xb._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("IDeref.-deref",b);};function Yb(){}
var Zb=function Zb(b){if(null!=b&&null!=b.M)return b.M(b);var c=Zb[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=Zb._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("IMeta.-meta",b);},$b=function $b(b,c){if(null!=b&&null!=b.P)return b.P(b,c);var d=$b[ia(null==b?null:b)];if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);d=$b._;if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);throw cb("IWithMeta.-with-meta",b);};function ac(){}
var bc=function bc(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return bc.b(arguments[0],arguments[1]);case 3:return bc.c(arguments[0],arguments[1],arguments[2]);default:throw Error([u("Invalid arity: "),u(c.length)].join(""));}};
bc.b=function(a,b){if(null!=a&&null!=a.ua)return a.ua(a,b);var c=bc[ia(null==a?null:a)];if(null!=c)return c.b?c.b(a,b):c.call(null,a,b);c=bc._;if(null!=c)return c.b?c.b(a,b):c.call(null,a,b);throw cb("IReduce.-reduce",a);};bc.c=function(a,b,c){if(null!=a&&null!=a.va)return a.va(a,b,c);var d=bc[ia(null==a?null:a)];if(null!=d)return d.c?d.c(a,b,c):d.call(null,a,b,c);d=bc._;if(null!=d)return d.c?d.c(a,b,c):d.call(null,a,b,c);throw cb("IReduce.-reduce",a);};bc.A=3;
var cc=function cc(b,c){if(null!=b&&null!=b.w)return b.w(b,c);var d=cc[ia(null==b?null:b)];if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);d=cc._;if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);throw cb("IEquiv.-equiv",b);},dc=function dc(b){if(null!=b&&null!=b.R)return b.R(b);var c=dc[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=dc._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("IHash.-hash",b);};function hc(){}
var kc=function kc(b){if(null!=b&&null!=b.Y)return b.Y(b);var c=kc[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=kc._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("ISeqable.-seq",b);};function lc(){}function mc(){}function nc(){}
var oc=function oc(b){if(null!=b&&null!=b.Ob)return b.Ob(b);var c=oc[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=oc._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("IReversible.-rseq",b);},pc=function pc(b,c){if(null!=b&&null!=b.rc)return b.rc(0,c);var d=pc[ia(null==b?null:b)];if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);d=pc._;if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);throw cb("IWriter.-write",b);},uc=function uc(b,c,d){if(null!=b&&null!=b.qc)return b.qc(0,c,
d);var e=uc[ia(null==b?null:b)];if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);e=uc._;if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);throw cb("IWatchable.-notify-watches",b);},vc=function vc(b){if(null!=b&&null!=b.qb)return b.qb(b);var c=vc[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=vc._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("IEditableCollection.-as-transient",b);},yc=function yc(b,c){if(null!=b&&null!=b.Cb)return b.Cb(b,c);var d=yc[ia(null==b?null:
b)];if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);d=yc._;if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);throw cb("ITransientCollection.-conj!",b);},zc=function zc(b){if(null!=b&&null!=b.Db)return b.Db(b);var c=zc[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=zc._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("ITransientCollection.-persistent!",b);},Ac=function Ac(b,c,d){if(null!=b&&null!=b.Bb)return b.Bb(b,c,d);var e=Ac[ia(null==b?null:b)];if(null!=e)return e.c?e.c(b,
c,d):e.call(null,b,c,d);e=Ac._;if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);throw cb("ITransientAssociative.-assoc!",b);},Bc=function Bc(b,c,d){if(null!=b&&null!=b.pc)return b.pc(0,c,d);var e=Bc[ia(null==b?null:b)];if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);e=Bc._;if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);throw cb("ITransientVector.-assoc-n!",b);},Cc=function Cc(b){if(null!=b&&null!=b.nc)return b.nc();var c=Cc[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,
b);c=Cc._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("IChunk.-drop-first",b);},Dc=function Dc(b){if(null!=b&&null!=b.Wb)return b.Wb(b);var c=Dc[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=Dc._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("IChunkedSeq.-chunked-first",b);},Ec=function Ec(b){if(null!=b&&null!=b.Xb)return b.Xb(b);var c=Ec[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=Ec._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("IChunkedSeq.-chunked-rest",
b);},Gc=function Gc(b){if(null!=b&&null!=b.Vb)return b.Vb(b);var c=Gc[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=Gc._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("IChunkedNext.-chunked-next",b);},Hc=function Hc(b){if(null!=b&&null!=b.zb)return b.zb(b);var c=Hc[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=Hc._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("INamed.-name",b);},Ic=function Ic(b){if(null!=b&&null!=b.Ab)return b.Ab(b);var c=Ic[ia(null==
b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=Ic._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("INamed.-namespace",b);},Jc=function Jc(b,c){if(null!=b&&null!=b.Mc)return b.Mc(b,c);var d=Jc[ia(null==b?null:b)];if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);d=Jc._;if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);throw cb("IReset.-reset!",b);},Kc=function Kc(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Kc.b(arguments[0],
arguments[1]);case 3:return Kc.c(arguments[0],arguments[1],arguments[2]);case 4:return Kc.u(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Kc.D(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([u("Invalid arity: "),u(c.length)].join(""));}};
Kc.b=function(a,b){if(null!=a&&null!=a.Oc)return a.Oc(a,b);var c=Kc[ia(null==a?null:a)];if(null!=c)return c.b?c.b(a,b):c.call(null,a,b);c=Kc._;if(null!=c)return c.b?c.b(a,b):c.call(null,a,b);throw cb("ISwap.-swap!",a);};Kc.c=function(a,b,c){if(null!=a&&null!=a.Pc)return a.Pc(a,b,c);var d=Kc[ia(null==a?null:a)];if(null!=d)return d.c?d.c(a,b,c):d.call(null,a,b,c);d=Kc._;if(null!=d)return d.c?d.c(a,b,c):d.call(null,a,b,c);throw cb("ISwap.-swap!",a);};
Kc.u=function(a,b,c,d){if(null!=a&&null!=a.Qc)return a.Qc(a,b,c,d);var e=Kc[ia(null==a?null:a)];if(null!=e)return e.u?e.u(a,b,c,d):e.call(null,a,b,c,d);e=Kc._;if(null!=e)return e.u?e.u(a,b,c,d):e.call(null,a,b,c,d);throw cb("ISwap.-swap!",a);};Kc.D=function(a,b,c,d,e){if(null!=a&&null!=a.Rc)return a.Rc(a,b,c,d,e);var f=Kc[ia(null==a?null:a)];if(null!=f)return f.D?f.D(a,b,c,d,e):f.call(null,a,b,c,d,e);f=Kc._;if(null!=f)return f.D?f.D(a,b,c,d,e):f.call(null,a,b,c,d,e);throw cb("ISwap.-swap!",a);};
Kc.A=5;var Lc=function Lc(b){if(null!=b&&null!=b.Ia)return b.Ia(b);var c=Lc[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=Lc._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("IIterable.-iterator",b);};function Mc(a){this.fd=a;this.i=1073741824;this.B=0}Mc.prototype.rc=function(a,b){return this.fd.append(b)};function Nc(a){var b=new Ga;a.U(null,new Mc(b),Pa());return""+u(b)}
var Oc="undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Pc(a){a=Oc(a|0,-862048943);return Oc(a<<15|a>>>-15,461845907)}function Rc(a,b){var c=(a|0)^(b|0);return Oc(c<<13|c>>>-13,5)+-430675100|0}function Sc(a,b){var c=(a|0)^b,c=Oc(c^c>>>16,-2048144789),c=Oc(c^c>>>13,-1028477387);return c^c>>>16}
function Wc(a){var b;a:{b=1;for(var c=0;;)if(b<a.length){var d=b+2,c=Rc(c,Pc(a.charCodeAt(b-1)|a.charCodeAt(b)<<16));b=d}else{b=c;break a}}b=1===(a.length&1)?b^Pc(a.charCodeAt(a.length-1)):b;return Sc(b,Oc(2,a.length))}var Xc={},Yc=0;function Zc(a){255<Yc&&(Xc={},Yc=0);if(null==a)return 0;var b=Xc[a];if("number"!==typeof b){a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)var e=c+1,d=Oc(31,d)+a.charCodeAt(c),c=e;else{b=d;break a}else b=0;else b=0;Xc[a]=b;Yc+=1}return a=b}
function $c(a){if(null!=a&&(a.i&4194304||a.md))return a.R(null);if("number"===typeof a){if(t(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1:!1===a?a=0:"string"===typeof a?(a=Zc(a),0!==a&&(a=Pc(a),a=Rc(0,a),a=Sc(a,4))):a=a instanceof Date?a.valueOf():null==a?0:dc(a),a}function ad(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function bd(a,b,c,d,e){this.ub=a;this.name=b;this.cb=c;this.pb=d;this.Ba=e;this.i=2154168321;this.B=4096}m=bd.prototype;m.toString=function(){return this.cb};m.equiv=function(a){return this.w(null,a)};m.w=function(a,b){return b instanceof bd?this.cb===b.cb:!1};
m.call=function(){function a(a,b,c){return v.c?v.c(b,this,c):v.call(null,b,this,c)}function b(a,b){return v.b?v.b(b,this):v.call(null,b,this)}var c=null,c=function(c,e,f){switch(arguments.length){case 2:return b.call(this,0,e);case 3:return a.call(this,0,e,f)}throw Error("Invalid arity: "+arguments.length);};c.b=b;c.c=a;return c}();m.apply=function(a,b){return this.call.apply(this,[this].concat(fb(b)))};m.a=function(a){return v.b?v.b(a,this):v.call(null,a,this)};
m.b=function(a,b){return v.c?v.c(a,this,b):v.call(null,a,this,b)};m.M=function(){return this.Ba};m.P=function(a,b){return new bd(this.ub,this.name,this.cb,this.pb,b)};m.R=function(){var a=this.pb;return null!=a?a:this.pb=a=ad(Wc(this.name),Zc(this.ub))};m.zb=function(){return this.name};m.Ab=function(){return this.ub};m.U=function(a,b){return pc(b,this.cb)};
var cd=function cd(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return cd.a(arguments[0]);case 2:return cd.b(arguments[0],arguments[1]);default:throw Error([u("Invalid arity: "),u(c.length)].join(""));}};cd.a=function(a){if(a instanceof bd)return a;var b=a.indexOf("/");return 1>b?cd.b(null,a):cd.b(a.substring(0,b),a.substring(b+1,a.length))};cd.b=function(a,b){var c=null!=a?[u(a),u("/"),u(b)].join(""):b;return new bd(a,b,c,null,null)};
cd.A=2;function w(a){if(null==a)return null;if(null!=a&&(a.i&8388608||a.Nc))return a.Y(null);if(Za(a)||"string"===typeof a)return 0===a.length?null:new dd(a,0,null);if(bb(hc,a))return kc(a);throw Error([u(a),u(" is not ISeqable")].join(""));}function z(a){if(null==a)return null;if(null!=a&&(a.i&64||a.I))return a.wa(null);a=w(a);return null==a?null:yb(a)}function ed(a){return null!=a?null!=a&&(a.i&64||a.I)?a.Ca(null):(a=w(a))?zb(a):fd:fd}
function A(a){return null==a?null:null!=a&&(a.i&128||a.Nb)?a.ya(null):w(ed(a))}var gd=function gd(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return gd.a(arguments[0]);case 2:return gd.b(arguments[0],arguments[1]);default:return gd.l(arguments[0],arguments[1],new dd(c.slice(2),0,null))}};gd.a=function(){return!0};gd.b=function(a,b){return null==a?null==b:a===b||cc(a,b)};
gd.l=function(a,b,c){for(;;)if(gd.b(a,b))if(A(c))a=b,b=z(c),c=A(c);else return gd.b(b,z(c));else return!1};gd.C=function(a){var b=z(a),c=A(a);a=z(c);c=A(c);return gd.l(b,a,c)};gd.A=2;function hd(a){this.F=a}hd.prototype.next=function(){if(null!=this.F){var a=z(this.F);this.F=A(this.F);return{value:a,done:!1}}return{value:null,done:!0}};function pd(a){return new hd(w(a))}function qd(a,b){var c=Pc(a),c=Rc(0,c);return Sc(c,b)}
function rd(a){var b=0,c=1;for(a=w(a);;)if(null!=a)b+=1,c=Oc(31,c)+$c(z(a))|0,a=A(a);else return qd(c,b)}var sd=qd(1,0);function td(a){var b=0,c=0;for(a=w(a);;)if(null!=a)b+=1,c=c+$c(z(a))|0,a=A(a);else return qd(c,b)}var ud=qd(0,0);mb["null"]=!0;nb["null"]=function(){return 0};Date.prototype.w=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};cc.number=function(a,b){return a===b};Yb["function"]=!0;Zb["function"]=function(){return null};dc._=function(a){return a[ka]||(a[ka]=++la)};
function wd(a){return a+1}function xd(){return!1}function C(a){return Xb(a)}function yd(a,b){var c=nb(a);if(0===c)return b.j?b.j():b.call(null);for(var d=vb.b(a,0),e=1;;)if(e<c)var f=vb.b(a,e),d=b.b?b.b(d,f):b.call(null,d,f),e=e+1;else return d}function zd(a,b,c){var d=nb(a),e=c;for(c=0;;)if(c<d){var f=vb.b(a,c),e=b.b?b.b(e,f):b.call(null,e,f);c+=1}else return e}
function Ad(a,b){var c=a.length;if(0===a.length)return b.j?b.j():b.call(null);for(var d=a[0],e=1;;)if(e<c)var f=a[e],d=b.b?b.b(d,f):b.call(null,d,f),e=e+1;else return d}function Bd(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c],e=b.b?b.b(e,f):b.call(null,e,f);c+=1}else return e}function Cd(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.b?b.b(c,f):b.call(null,c,f);d+=1}else return c}function Dd(a){return null!=a?a.i&2||a.Cc?!0:a.i?!1:bb(mb,a):bb(mb,a)}
function Ed(a){return null!=a?a.i&16||a.oc?!0:a.i?!1:bb(tb,a):bb(tb,a)}function Fd(a,b,c){var d=D.a?D.a(a):D.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(gd.b(Jd?Jd(a,c):Kd.call(null,a,c),b))return c;c+=1}else return-1}function Ld(a,b,c){var d=D.a?D.a(a):D.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(gd.b(Jd?Jd(a,c):Kd.call(null,a,c),b))return c;--c}else return-1}function Md(a,b){this.f=a;this.m=b}
Md.prototype.xa=function(){return this.m<this.f.length};Md.prototype.next=function(){var a=this.f[this.m];this.m+=1;return a};function dd(a,b,c){this.f=a;this.m=b;this.s=c;this.i=166592766;this.B=8192}m=dd.prototype;m.toString=function(){return Nc(this)};m.equiv=function(a){return this.w(null,a)};
m.indexOf=function(){var a=null,a=function(a,c){switch(arguments.length){case 1:return Fd(this,a,0);case 2:return Fd(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.a=function(a){return Fd(this,a,0)};a.b=function(a,c){return Fd(this,a,c)};return a}();
m.lastIndexOf=function(){function a(a){return Ld(this,a,D.a?D.a(this):D.call(null,this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return Ld(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=a;b.b=function(a,b){return Ld(this,a,b)};return b}();m.T=function(a,b){var c=b+this.m;return c<this.f.length?this.f[c]:null};m.Fa=function(a,b,c){a=b+this.m;return a<this.f.length?this.f[a]:c};m.Ia=function(){return new Md(this.f,this.m)};m.M=function(){return this.s};
m.ya=function(){return this.m+1<this.f.length?new dd(this.f,this.m+1,null):null};m.ba=function(){var a=this.f.length-this.m;return 0>a?0:a};m.Ob=function(){var a=nb(this);return 0<a?new Nd(this,a-1,null):null};m.R=function(){return rd(this)};m.w=function(a,b){return Od.b?Od.b(this,b):Od.call(null,this,b)};m.ea=function(){return fd};m.ua=function(a,b){return Cd(this.f,b,this.f[this.m],this.m+1)};m.va=function(a,b,c){return Cd(this.f,b,c,this.m)};m.wa=function(){return this.f[this.m]};
m.Ca=function(){return this.m+1<this.f.length?new dd(this.f,this.m+1,null):fd};m.Y=function(){return this.m<this.f.length?this:null};m.P=function(a,b){return new dd(this.f,this.m,b)};m.aa=function(a,b){return Pd.b?Pd.b(b,this):Pd.call(null,b,this)};dd.prototype[eb]=function(){return pd(this)};function Qd(a,b){return b<a.length?new dd(a,b,null):null}
function Rd(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 1:return Qd(arguments[0],0);case 2:return Qd(arguments[0],arguments[1]);default:throw Error([u("Invalid arity: "),u(b.length)].join(""));}}function Nd(a,b,c){this.Mb=a;this.m=b;this.s=c;this.i=32374990;this.B=8192}m=Nd.prototype;m.toString=function(){return Nc(this)};m.equiv=function(a){return this.w(null,a)};
m.indexOf=function(){var a=null,a=function(a,c){switch(arguments.length){case 1:return Fd(this,a,0);case 2:return Fd(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.a=function(a){return Fd(this,a,0)};a.b=function(a,c){return Fd(this,a,c)};return a}();
m.lastIndexOf=function(){function a(a){return Ld(this,a,D.a?D.a(this):D.call(null,this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return Ld(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=a;b.b=function(a,b){return Ld(this,a,b)};return b}();m.M=function(){return this.s};m.ya=function(){return 0<this.m?new Nd(this.Mb,this.m-1,null):null};m.ba=function(){return this.m+1};m.R=function(){return rd(this)};
m.w=function(a,b){return Od.b?Od.b(this,b):Od.call(null,this,b)};m.ea=function(){var a=this.s;return Sd.b?Sd.b(fd,a):Sd.call(null,fd,a)};m.ua=function(a,b){return Td?Td(b,this):Ud.call(null,b,this)};m.va=function(a,b,c){return Wd?Wd(b,c,this):Ud.call(null,b,c,this)};m.wa=function(){return vb.b(this.Mb,this.m)};m.Ca=function(){return 0<this.m?new Nd(this.Mb,this.m-1,null):fd};m.Y=function(){return this};m.P=function(a,b){return new Nd(this.Mb,this.m,b)};
m.aa=function(a,b){return Pd.b?Pd.b(b,this):Pd.call(null,b,this)};Nd.prototype[eb]=function(){return pd(this)};function Xd(a){return z(A(a))}function Yd(a){for(;;){var b=A(a);if(null!=b)a=b;else return z(a)}}cc._=function(a,b){return a===b};
var Zd=function Zd(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return Zd.j();case 1:return Zd.a(arguments[0]);case 2:return Zd.b(arguments[0],arguments[1]);default:return Zd.l(arguments[0],arguments[1],new dd(c.slice(2),0,null))}};Zd.j=function(){return $d};Zd.a=function(a){return a};Zd.b=function(a,b){return null!=a?rb(a,b):rb(fd,b)};Zd.l=function(a,b,c){for(;;)if(t(c))a=Zd.b(a,b),b=z(c),c=A(c);else return Zd.b(a,b)};
Zd.C=function(a){var b=z(a),c=A(a);a=z(c);c=A(c);return Zd.l(b,a,c)};Zd.A=2;function D(a){if(null!=a)if(null!=a&&(a.i&2||a.Cc))a=a.ba(null);else if(Za(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.i&8388608||a.Nc))a:{a=w(a);for(var b=0;;){if(Dd(a)){a=b+nb(a);break a}a=A(a);b+=1}}else a=nb(a);else a=0;return a}function ae(a,b,c){for(;;){if(null==a)return c;if(0===b)return w(a)?z(a):c;if(Ed(a))return vb.c(a,b,c);if(w(a))a=A(a),--b;else return c}}
function Kd(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 2:return Jd(arguments[0],arguments[1]);case 3:return F(arguments[0],arguments[1],arguments[2]);default:throw Error([u("Invalid arity: "),u(b.length)].join(""));}}
function Jd(a,b){if("number"!==typeof b)throw Error("index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.i&16||a.oc))return a.T(null,b);if(Za(a))return b<a.length?a[b]:null;if("string"===typeof a)return b<a.length?a.charAt(b):null;if(null!=a&&(a.i&64||a.I)){var c;a:{c=a;for(var d=b;;){if(null==c)throw Error("Index out of bounds");if(0===d){if(w(c)){c=z(c);break a}throw Error("Index out of bounds");}if(Ed(c)){c=vb.b(c,d);break a}if(w(c))c=A(c),--d;else throw Error("Index out of bounds");
}}return c}if(bb(tb,a))return vb.b(a,b);throw Error([u("nth not supported on this type "),u(db(null==a?null:a.constructor))].join(""));}
function F(a,b,c){if("number"!==typeof b)throw Error("index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.i&16||a.oc))return a.Fa(null,b,c);if(Za(a))return b<a.length?a[b]:c;if("string"===typeof a)return b<a.length?a.charAt(b):c;if(null!=a&&(a.i&64||a.I))return ae(a,b,c);if(bb(tb,a))return vb.b(a,b);throw Error([u("nth not supported on this type "),u(db(null==a?null:a.constructor))].join(""));}
var v=function v(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return v.b(arguments[0],arguments[1]);case 3:return v.c(arguments[0],arguments[1],arguments[2]);default:throw Error([u("Invalid arity: "),u(c.length)].join(""));}};v.b=function(a,b){return null==a?null:null!=a&&(a.i&256||a.Gc)?a.X(null,b):Za(a)?b<a.length?a[b|0]:null:"string"===typeof a?b<a.length?a[b|0]:null:bb(Cb,a)?Db.b(a,b):null};
v.c=function(a,b,c){return null!=a?null!=a&&(a.i&256||a.Gc)?a.O(null,b,c):Za(a)?b<a.length?a[b]:c:"string"===typeof a?b<a.length?a[b]:c:bb(Cb,a)?Db.c(a,b,c):c:c};v.A=3;var be=function be(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return be.c(arguments[0],arguments[1],arguments[2]);default:return be.l(arguments[0],arguments[1],arguments[2],new dd(c.slice(3),0,null))}};be.c=function(a,b,c){return null!=a?Fb(a,b,c):ce([b],[c])};
be.l=function(a,b,c,d){for(;;)if(a=be.c(a,b,c),t(d))b=z(d),c=Xd(d),d=A(A(d));else return a};be.C=function(a){var b=z(a),c=A(a);a=z(c);var d=A(c),c=z(d),d=A(d);return be.l(b,a,c,d)};be.A=3;var de=function de(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return de.a(arguments[0]);case 2:return de.b(arguments[0],arguments[1]);default:return de.l(arguments[0],arguments[1],new dd(c.slice(2),0,null))}};de.a=function(a){return a};
de.b=function(a,b){return null==a?null:Kb(a,b)};de.l=function(a,b,c){for(;;){if(null==a)return null;a=de.b(a,b);if(t(c))b=z(c),c=A(c);else return a}};de.C=function(a){var b=z(a),c=A(a);a=z(c);c=A(c);return de.l(b,a,c)};de.A=2;function ee(a,b){this.g=a;this.s=b;this.i=393217;this.B=0}m=ee.prototype;m.M=function(){return this.s};m.P=function(a,b){return new ee(this.g,b)};
m.call=function(){function a(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E,H,K){a=this;return fe.xb?fe.xb(a.g,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E,H,K):fe.call(null,a.g,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E,H,K)}function b(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E,H){a=this;return a.g.ra?a.g.ra(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E,H):a.g.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E,H)}function c(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E){a=this;return a.g.qa?a.g.qa(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,
E):a.g.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E)}function d(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B){a=this;return a.g.pa?a.g.pa(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B):a.g.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B)}function e(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P){a=this;return a.g.oa?a.g.oa(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P):a.g.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P)}function f(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y){a=this;return a.g.na?a.g.na(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y):a.g.call(null,
b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y)}function g(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x){a=this;return a.g.ma?a.g.ma(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x):a.g.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x)}function h(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G){a=this;return a.g.la?a.g.la(b,c,d,e,f,g,h,l,k,n,p,q,r,G):a.g.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G)}function l(a,b,c,d,e,f,g,h,l,k,n,p,q,r){a=this;return a.g.ka?a.g.ka(b,c,d,e,f,g,h,l,k,n,p,q,r):a.g.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r)}function k(a,b,c,d,e,f,g,h,l,k,n,p,q){a=this;
return a.g.ja?a.g.ja(b,c,d,e,f,g,h,l,k,n,p,q):a.g.call(null,b,c,d,e,f,g,h,l,k,n,p,q)}function n(a,b,c,d,e,f,g,h,l,k,n,p){a=this;return a.g.ia?a.g.ia(b,c,d,e,f,g,h,l,k,n,p):a.g.call(null,b,c,d,e,f,g,h,l,k,n,p)}function p(a,b,c,d,e,f,g,h,l,k,n){a=this;return a.g.ha?a.g.ha(b,c,d,e,f,g,h,l,k,n):a.g.call(null,b,c,d,e,f,g,h,l,k,n)}function q(a,b,c,d,e,f,g,h,l,k){a=this;return a.g.da?a.g.da(b,c,d,e,f,g,h,l,k):a.g.call(null,b,c,d,e,f,g,h,l,k)}function r(a,b,c,d,e,f,g,h,l){a=this;return a.g.ta?a.g.ta(b,c,
d,e,f,g,h,l):a.g.call(null,b,c,d,e,f,g,h,l)}function x(a,b,c,d,e,f,g,h){a=this;return a.g.sa?a.g.sa(b,c,d,e,f,g,h):a.g.call(null,b,c,d,e,f,g,h)}function y(a,b,c,d,e,f,g){a=this;return a.g.$?a.g.$(b,c,d,e,f,g):a.g.call(null,b,c,d,e,f,g)}function B(a,b,c,d,e,f){a=this;return a.g.D?a.g.D(b,c,d,e,f):a.g.call(null,b,c,d,e,f)}function E(a,b,c,d,e){a=this;return a.g.u?a.g.u(b,c,d,e):a.g.call(null,b,c,d,e)}function K(a,b,c,d){a=this;return a.g.c?a.g.c(b,c,d):a.g.call(null,b,c,d)}function G(a,b,c){a=this;
return a.g.b?a.g.b(b,c):a.g.call(null,b,c)}function Y(a,b){a=this;return a.g.a?a.g.a(b):a.g.call(null,b)}function P(a){a=this;return a.g.j?a.g.j():a.g.call(null)}var H=null,H=function(ga,da,Q,T,X,R,S,H,ea,ba,U,V,aa,pa,Ba,oa,va,Sa,Ta,$a,Ha,kb){switch(arguments.length){case 1:return P.call(this,ga);case 2:return Y.call(this,ga,da);case 3:return G.call(this,ga,da,Q);case 4:return K.call(this,ga,da,Q,T);case 5:return E.call(this,ga,da,Q,T,X);case 6:return B.call(this,ga,da,Q,T,X,R);case 7:return y.call(this,
ga,da,Q,T,X,R,S);case 8:return x.call(this,ga,da,Q,T,X,R,S,H);case 9:return r.call(this,ga,da,Q,T,X,R,S,H,ea);case 10:return q.call(this,ga,da,Q,T,X,R,S,H,ea,ba);case 11:return p.call(this,ga,da,Q,T,X,R,S,H,ea,ba,U);case 12:return n.call(this,ga,da,Q,T,X,R,S,H,ea,ba,U,V);case 13:return k.call(this,ga,da,Q,T,X,R,S,H,ea,ba,U,V,aa);case 14:return l.call(this,ga,da,Q,T,X,R,S,H,ea,ba,U,V,aa,pa);case 15:return h.call(this,ga,da,Q,T,X,R,S,H,ea,ba,U,V,aa,pa,Ba);case 16:return g.call(this,ga,da,Q,T,X,R,S,
H,ea,ba,U,V,aa,pa,Ba,oa);case 17:return f.call(this,ga,da,Q,T,X,R,S,H,ea,ba,U,V,aa,pa,Ba,oa,va);case 18:return e.call(this,ga,da,Q,T,X,R,S,H,ea,ba,U,V,aa,pa,Ba,oa,va,Sa);case 19:return d.call(this,ga,da,Q,T,X,R,S,H,ea,ba,U,V,aa,pa,Ba,oa,va,Sa,Ta);case 20:return c.call(this,ga,da,Q,T,X,R,S,H,ea,ba,U,V,aa,pa,Ba,oa,va,Sa,Ta,$a);case 21:return b.call(this,ga,da,Q,T,X,R,S,H,ea,ba,U,V,aa,pa,Ba,oa,va,Sa,Ta,$a,Ha);case 22:return a.call(this,ga,da,Q,T,X,R,S,H,ea,ba,U,V,aa,pa,Ba,oa,va,Sa,Ta,$a,Ha,kb)}throw Error("Invalid arity: "+
arguments.length);};H.a=P;H.b=Y;H.c=G;H.u=K;H.D=E;H.$=B;H.sa=y;H.ta=x;H.da=r;H.ha=q;H.ia=p;H.ja=n;H.ka=k;H.la=l;H.ma=h;H.na=g;H.oa=f;H.pa=e;H.qa=d;H.ra=c;H.Zb=b;H.xb=a;return H}();m.apply=function(a,b){return this.call.apply(this,[this].concat(fb(b)))};m.j=function(){return this.g.j?this.g.j():this.g.call(null)};m.a=function(a){return this.g.a?this.g.a(a):this.g.call(null,a)};m.b=function(a,b){return this.g.b?this.g.b(a,b):this.g.call(null,a,b)};
m.c=function(a,b,c){return this.g.c?this.g.c(a,b,c):this.g.call(null,a,b,c)};m.u=function(a,b,c,d){return this.g.u?this.g.u(a,b,c,d):this.g.call(null,a,b,c,d)};m.D=function(a,b,c,d,e){return this.g.D?this.g.D(a,b,c,d,e):this.g.call(null,a,b,c,d,e)};m.$=function(a,b,c,d,e,f){return this.g.$?this.g.$(a,b,c,d,e,f):this.g.call(null,a,b,c,d,e,f)};m.sa=function(a,b,c,d,e,f,g){return this.g.sa?this.g.sa(a,b,c,d,e,f,g):this.g.call(null,a,b,c,d,e,f,g)};
m.ta=function(a,b,c,d,e,f,g,h){return this.g.ta?this.g.ta(a,b,c,d,e,f,g,h):this.g.call(null,a,b,c,d,e,f,g,h)};m.da=function(a,b,c,d,e,f,g,h,l){return this.g.da?this.g.da(a,b,c,d,e,f,g,h,l):this.g.call(null,a,b,c,d,e,f,g,h,l)};m.ha=function(a,b,c,d,e,f,g,h,l,k){return this.g.ha?this.g.ha(a,b,c,d,e,f,g,h,l,k):this.g.call(null,a,b,c,d,e,f,g,h,l,k)};m.ia=function(a,b,c,d,e,f,g,h,l,k,n){return this.g.ia?this.g.ia(a,b,c,d,e,f,g,h,l,k,n):this.g.call(null,a,b,c,d,e,f,g,h,l,k,n)};
m.ja=function(a,b,c,d,e,f,g,h,l,k,n,p){return this.g.ja?this.g.ja(a,b,c,d,e,f,g,h,l,k,n,p):this.g.call(null,a,b,c,d,e,f,g,h,l,k,n,p)};m.ka=function(a,b,c,d,e,f,g,h,l,k,n,p,q){return this.g.ka?this.g.ka(a,b,c,d,e,f,g,h,l,k,n,p,q):this.g.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q)};m.la=function(a,b,c,d,e,f,g,h,l,k,n,p,q,r){return this.g.la?this.g.la(a,b,c,d,e,f,g,h,l,k,n,p,q,r):this.g.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r)};
m.ma=function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x){return this.g.ma?this.g.ma(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x):this.g.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x)};m.na=function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y){return this.g.na?this.g.na(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y):this.g.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y)};m.oa=function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B){return this.g.oa?this.g.oa(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B):this.g.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B)};
m.pa=function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E){return this.g.pa?this.g.pa(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E):this.g.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E)};m.qa=function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K){return this.g.qa?this.g.qa(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K):this.g.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K)};
m.ra=function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G){return this.g.ra?this.g.ra(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G):this.g.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G)};m.Zb=function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G,Y){return fe.xb?fe.xb(this.g,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G,Y):fe.call(null,this.g,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G,Y)};function Sd(a,b){return"function"==ia(a)?new ee(a,b):null==a?null:$b(a,b)}
function ge(a){var b=null!=a;return(b?null!=a?a.i&131072||a.Jc||(a.i?0:bb(Yb,a)):bb(Yb,a):b)?Zb(a):null}function he(a){return null==a?!1:null!=a?a.i&4096||a.qd?!0:a.i?!1:bb(Qb,a):bb(Qb,a)}function ie(a){return null!=a?a.i&16777216||a.pd?!0:a.i?!1:bb(lc,a):bb(lc,a)}function je(a){return null==a?!1:null!=a?a.i&1024||a.Hc?!0:a.i?!1:bb(Jb,a):bb(Jb,a)}function ke(a){return null!=a?a.i&16384||a.rd?!0:a.i?!1:bb(Rb,a):bb(Rb,a)}function le(a){return null!=a?a.B&512||a.kd?!0:!1:!1}
function me(a){var b=[];ra(a,function(a,b){return function(a,c){return b.push(c)}}(a,b));return b}function ne(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var oe={};function pe(a){return null==a?!1:!1===a?!1:!0}function qe(a,b){return v.c(a,b,oe)===oe?!1:!0}
function Ud(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 2:return Td(arguments[0],arguments[1]);case 3:return Wd(arguments[0],arguments[1],arguments[2]);default:throw Error([u("Invalid arity: "),u(b.length)].join(""));}}function Td(a,b){var c=w(b);if(c){var d=z(c),c=A(c);return jb?jb(a,d,c):lb.call(null,a,d,c)}return a.j?a.j():a.call(null)}
function Wd(a,b,c){for(c=w(c);;)if(c){var d=z(c);b=a.b?a.b(b,d):a.call(null,b,d);c=A(c)}else return b}function lb(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 2:return re(arguments[0],arguments[1]);case 3:return jb(arguments[0],arguments[1],arguments[2]);default:throw Error([u("Invalid arity: "),u(b.length)].join(""));}}
function re(a,b){return null!=b&&(b.i&524288||b.Lc)?b.ua(null,a):Za(b)?Ad(b,a):"string"===typeof b?Ad(b,a):bb(ac,b)?bc.b(b,a):Td(a,b)}function jb(a,b,c){return null!=c&&(c.i&524288||c.Lc)?c.va(null,a,b):Za(c)?Bd(c,a,b):"string"===typeof c?Bd(c,a,b):bb(ac,c)?bc.c(c,a,b):Wd(a,b,c)}function se(a){return a}function te(a,b,c,d){a=a.a?a.a(b):a.call(null,b);c=jb(a,c,d);return a.a?a.a(c):a.call(null,c)}
var ue=function ue(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return ue.j();case 1:return ue.a(arguments[0]);case 2:return ue.b(arguments[0],arguments[1]);default:return ue.l(arguments[0],arguments[1],new dd(c.slice(2),0,null))}};ue.j=function(){return 0};ue.a=function(a){return a};ue.b=function(a,b){return a+b};ue.l=function(a,b,c){return jb(ue,a+b,c)};ue.C=function(a){var b=z(a),c=A(a);a=z(c);c=A(c);return ue.l(b,a,c)};ue.A=2;
var ve=function ve(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return ve.a(arguments[0]);case 2:return ve.b(arguments[0],arguments[1]);default:return ve.l(arguments[0],arguments[1],new dd(c.slice(2),0,null))}};ve.a=function(a){return-a};ve.b=function(a,b){return a-b};ve.l=function(a,b,c){return jb(ve,a-b,c)};ve.C=function(a){var b=z(a),c=A(a);a=z(c);c=A(c);return ve.l(b,a,c)};ve.A=2;function Be(a){return a-1}
var Ce=function Ce(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Ce.a(arguments[0]);case 2:return Ce.b(arguments[0],arguments[1]);default:return Ce.l(arguments[0],arguments[1],new dd(c.slice(2),0,null))}};Ce.a=function(a){return a};Ce.b=function(a,b){return a>b?a:b};Ce.l=function(a,b,c){return jb(Ce,a>b?a:b,c)};Ce.C=function(a){var b=z(a),c=A(a);a=z(c);c=A(c);return Ce.l(b,a,c)};Ce.A=2;
var De=function De(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return De.a(arguments[0]);case 2:return De.b(arguments[0],arguments[1]);default:return De.l(arguments[0],arguments[1],new dd(c.slice(2),0,null))}};De.a=function(a){return a};De.b=function(a,b){return a<b?a:b};De.l=function(a,b,c){return jb(De,a<b?a:b,c)};De.C=function(a){var b=z(a),c=A(a);a=z(c);c=A(c);return De.l(b,a,c)};De.A=2;
function Ee(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function Fe(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var u=function u(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return u.j();case 1:return u.a(arguments[0]);default:return u.l(arguments[0],new dd(c.slice(1),0,null))}};u.j=function(){return""};u.a=function(a){return null==a?"":""+a};
u.l=function(a,b){for(var c=new Ga(""+u(a)),d=b;;)if(t(d))c=c.append(""+u(z(d))),d=A(d);else return c.toString()};u.C=function(a){var b=z(a);a=A(a);return u.l(b,a)};u.A=1;function Od(a,b){var c;if(ie(b))if(Dd(a)&&Dd(b)&&D(a)!==D(b))c=!1;else a:{c=w(a);for(var d=w(b);;){if(null==c){c=null==d;break a}if(null!=d&&gd.b(z(c),z(d)))c=A(c),d=A(d);else{c=!1;break a}}}else c=null;return pe(c)}
function Ge(a){var b=0;for(a=w(a);;)if(a){var c=z(a),b=(b+($c(He.a?He.a(c):He.call(null,c))^$c(Ie.a?Ie.a(c):Ie.call(null,c))))%4503599627370496;a=A(a)}else return b}function Je(a,b,c,d,e){this.s=a;this.first=b;this.Ya=c;this.count=d;this.v=e;this.i=65937646;this.B=8192}m=Je.prototype;m.toString=function(){return Nc(this)};m.equiv=function(a){return this.w(null,a)};
m.indexOf=function(){var a=null,a=function(a,c){switch(arguments.length){case 1:return Fd(this,a,0);case 2:return Fd(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.a=function(a){return Fd(this,a,0)};a.b=function(a,c){return Fd(this,a,c)};return a}();
m.lastIndexOf=function(){function a(a){return Ld(this,a,this.count)}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return Ld(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=a;b.b=function(a,b){return Ld(this,a,b)};return b}();m.M=function(){return this.s};m.ya=function(){return 1===this.count?null:this.Ya};m.ba=function(){return this.count};m.R=function(){var a=this.v;return null!=a?a:this.v=a=rd(this)};m.w=function(a,b){return Od(this,b)};
m.ea=function(){return $b(fd,this.s)};m.ua=function(a,b){return Td(b,this)};m.va=function(a,b,c){return Wd(b,c,this)};m.wa=function(){return this.first};m.Ca=function(){return 1===this.count?fd:this.Ya};m.Y=function(){return this};m.P=function(a,b){return new Je(b,this.first,this.Ya,this.count,this.v)};m.aa=function(a,b){return new Je(this.s,b,this,this.count+1,null)};Je.prototype[eb]=function(){return pd(this)};function Ke(a){this.s=a;this.i=65937614;this.B=8192}m=Ke.prototype;m.toString=function(){return Nc(this)};
m.equiv=function(a){return this.w(null,a)};m.indexOf=function(){var a=null,a=function(a,c){switch(arguments.length){case 1:return Fd(this,a,0);case 2:return Fd(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.a=function(a){return Fd(this,a,0)};a.b=function(a,c){return Fd(this,a,c)};return a}();
m.lastIndexOf=function(){function a(a){return Ld(this,a,D(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return Ld(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=a;b.b=function(a,b){return Ld(this,a,b)};return b}();m.M=function(){return this.s};m.ya=function(){return null};m.ba=function(){return 0};m.R=function(){return sd};m.w=function(a,b){return(null!=b?b.i&33554432||b.nd||(b.i?0:bb(mc,b)):bb(mc,b))||ie(b)?null==w(b):!1};m.ea=function(){return this};
m.ua=function(a,b){return Td(b,this)};m.va=function(a,b,c){return Wd(b,c,this)};m.wa=function(){return null};m.Ca=function(){return fd};m.Y=function(){return null};m.P=function(a,b){return new Ke(b)};m.aa=function(a,b){return new Je(this.s,b,null,1,null)};var fd=new Ke(null);Ke.prototype[eb]=function(){return pd(this)};function Le(a){return(null!=a?a.i&134217728||a.od||(a.i?0:bb(nc,a)):bb(nc,a))?oc(a):jb(Zd,fd,a)}
function Me(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;a:{c=0<b.length?new dd(b.slice(0),0,null):null;if(c instanceof dd&&0===c.m)b=c.f;else b:for(b=[];;)if(null!=c)b.push(c.wa(null)),c=c.ya(null);else break b;for(var c=b.length,e=fd;;)if(0<c)d=c-1,e=e.aa(null,b[c-1]),c=d;else break a}return e}function Ne(a,b,c,d){this.s=a;this.first=b;this.Ya=c;this.v=d;this.i=65929452;this.B=8192}m=Ne.prototype;m.toString=function(){return Nc(this)};
m.equiv=function(a){return this.w(null,a)};m.indexOf=function(){var a=null,a=function(a,c){switch(arguments.length){case 1:return Fd(this,a,0);case 2:return Fd(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.a=function(a){return Fd(this,a,0)};a.b=function(a,c){return Fd(this,a,c)};return a}();
m.lastIndexOf=function(){function a(a){return Ld(this,a,D(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return Ld(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=a;b.b=function(a,b){return Ld(this,a,b)};return b}();m.M=function(){return this.s};m.ya=function(){return null==this.Ya?null:w(this.Ya)};m.R=function(){var a=this.v;return null!=a?a:this.v=a=rd(this)};m.w=function(a,b){return Od(this,b)};m.ea=function(){return Sd(fd,this.s)};
m.ua=function(a,b){return Td(b,this)};m.va=function(a,b,c){return Wd(b,c,this)};m.wa=function(){return this.first};m.Ca=function(){return null==this.Ya?fd:this.Ya};m.Y=function(){return this};m.P=function(a,b){return new Ne(b,this.first,this.Ya,this.v)};m.aa=function(a,b){return new Ne(null,b,this,null)};Ne.prototype[eb]=function(){return pd(this)};function Pd(a,b){var c=null==b;return(c?c:null!=b&&(b.i&64||b.I))?new Ne(null,a,b,null):new Ne(null,a,w(b),null)}
function I(a,b,c,d){this.ub=a;this.name=b;this.Ka=c;this.pb=d;this.i=2153775105;this.B=4096}m=I.prototype;m.toString=function(){return[u(":"),u(this.Ka)].join("")};m.equiv=function(a){return this.w(null,a)};m.w=function(a,b){return b instanceof I?this.Ka===b.Ka:!1};
m.call=function(){var a=null,a=function(a,c,d){switch(arguments.length){case 2:return v.b(c,this);case 3:return v.c(c,this,d)}throw Error("Invalid arity: "+arguments.length);};a.b=function(a,c){return v.b(c,this)};a.c=function(a,c,d){return v.c(c,this,d)};return a}();m.apply=function(a,b){return this.call.apply(this,[this].concat(fb(b)))};m.a=function(a){return v.b(a,this)};m.b=function(a,b){return v.c(a,this,b)};
m.R=function(){var a=this.pb;return null!=a?a:this.pb=a=ad(Wc(this.name),Zc(this.ub))+2654435769|0};m.zb=function(){return this.name};m.Ab=function(){return this.ub};m.U=function(a,b){return pc(b,[u(":"),u(this.Ka)].join(""))};function L(a,b){return a===b?!0:a instanceof I&&b instanceof I?a.Ka===b.Ka:!1}function Oe(a){if(null!=a&&(a.B&4096||a.Kc))return a.Ab(null);throw Error([u("Doesn't support namespace: "),u(a)].join(""));}
var Pe=function Pe(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Pe.a(arguments[0]);case 2:return Pe.b(arguments[0],arguments[1]);default:throw Error([u("Invalid arity: "),u(c.length)].join(""));}};Pe.a=function(a){if(a instanceof I)return a;if(a instanceof bd)return new I(Oe(a),Qe.a?Qe.a(a):Qe.call(null,a),a.cb,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
Pe.b=function(a,b){return new I(a,b,[u(t(a)?[u(a),u("/")].join(""):null),u(b)].join(""),null)};Pe.A=2;function Re(a,b,c,d){this.s=a;this.sb=b;this.F=c;this.v=d;this.i=32374988;this.B=1}m=Re.prototype;m.toString=function(){return Nc(this)};m.equiv=function(a){return this.w(null,a)};function Se(a){null!=a.sb&&(a.F=a.sb.j?a.sb.j():a.sb.call(null),a.sb=null);return a.F}
m.indexOf=function(){var a=null,a=function(a,c){switch(arguments.length){case 1:return Fd(this,a,0);case 2:return Fd(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.a=function(a){return Fd(this,a,0)};a.b=function(a,c){return Fd(this,a,c)};return a}();
m.lastIndexOf=function(){function a(a){return Ld(this,a,D(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return Ld(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=a;b.b=function(a,b){return Ld(this,a,b)};return b}();m.M=function(){return this.s};m.ya=function(){kc(this);return null==this.F?null:A(this.F)};m.R=function(){var a=this.v;return null!=a?a:this.v=a=rd(this)};m.w=function(a,b){return Od(this,b)};
m.ea=function(){return Sd(fd,this.s)};m.ua=function(a,b){return Td(b,this)};m.va=function(a,b,c){return Wd(b,c,this)};m.wa=function(){kc(this);return null==this.F?null:z(this.F)};m.Ca=function(){kc(this);return null!=this.F?ed(this.F):fd};m.Y=function(){Se(this);if(null==this.F)return null;for(var a=this.F;;)if(a instanceof Re)a=Se(a);else return this.F=a,w(this.F)};m.P=function(a,b){return new Re(b,this.sb,this.F,this.v)};m.aa=function(a,b){return Pd(b,this)};Re.prototype[eb]=function(){return pd(this)};
function Te(a,b){this.H=a;this.end=b;this.i=2;this.B=0}Te.prototype.add=function(a){this.H[this.end]=a;return this.end+=1};Te.prototype.J=function(){var a=new Ue(this.H,0,this.end);this.H=null;return a};Te.prototype.ba=function(){return this.end};function Ve(a){return new Te(Array(a),0)}function Ue(a,b,c){this.f=a;this.off=b;this.end=c;this.i=524306;this.B=0}m=Ue.prototype;m.ba=function(){return this.end-this.off};m.T=function(a,b){return this.f[this.off+b]};
m.Fa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.f[this.off+b]:c};m.nc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Ue(this.f,this.off+1,this.end)};m.ua=function(a,b){return Cd(this.f,b,this.f[this.off],this.off+1)};m.va=function(a,b,c){return Cd(this.f,b,c,this.off)};function jf(a,b,c,d){this.J=a;this.Ta=b;this.s=c;this.v=d;this.i=31850732;this.B=1536}m=jf.prototype;m.toString=function(){return Nc(this)};m.equiv=function(a){return this.w(null,a)};
m.indexOf=function(){var a=null,a=function(a,c){switch(arguments.length){case 1:return Fd(this,a,0);case 2:return Fd(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.a=function(a){return Fd(this,a,0)};a.b=function(a,c){return Fd(this,a,c)};return a}();
m.lastIndexOf=function(){function a(a){return Ld(this,a,D(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return Ld(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=a;b.b=function(a,b){return Ld(this,a,b)};return b}();m.M=function(){return this.s};m.ya=function(){if(1<nb(this.J))return new jf(Cc(this.J),this.Ta,this.s,null);var a=kc(this.Ta);return null==a?null:a};m.R=function(){var a=this.v;return null!=a?a:this.v=a=rd(this)};
m.w=function(a,b){return Od(this,b)};m.ea=function(){return Sd(fd,this.s)};m.wa=function(){return vb.b(this.J,0)};m.Ca=function(){return 1<nb(this.J)?new jf(Cc(this.J),this.Ta,this.s,null):null==this.Ta?fd:this.Ta};m.Y=function(){return this};m.Wb=function(){return this.J};m.Xb=function(){return null==this.Ta?fd:this.Ta};m.P=function(a,b){return new jf(this.J,this.Ta,b,this.v)};m.aa=function(a,b){return Pd(b,this)};m.Vb=function(){return null==this.Ta?null:this.Ta};jf.prototype[eb]=function(){return pd(this)};
function kf(a,b){return 0===nb(a)?b:new jf(a,b,null,null)}function lf(a,b){a.add(b)}function mf(a){for(var b=[];;)if(w(a))b.push(z(a)),a=A(a);else return b}function nf(a,b){if(Dd(b))return D(b);for(var c=0,d=w(b);;)if(null!=d&&c<a)c+=1,d=A(d);else return c}
var of=function of(b){return null==b?null:null==A(b)?w(z(b)):Pd(z(b),of(A(b)))},pf=function pf(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return pf.j();case 1:return pf.a(arguments[0]);case 2:return pf.b(arguments[0],arguments[1]);default:return pf.l(arguments[0],arguments[1],new dd(c.slice(2),0,null))}};pf.j=function(){return new Re(null,function(){return null},null,null)};
pf.a=function(a){return new Re(null,function(){return a},null,null)};pf.b=function(a,b){return new Re(null,function(){var c=w(a);return c?le(c)?kf(Dc(c),pf.b(Ec(c),b)):Pd(z(c),pf.b(ed(c),b)):b},null,null)};pf.l=function(a,b,c){return function e(a,b){return new Re(null,function(){var c=w(a);return c?le(c)?kf(Dc(c),e(Ec(c),b)):Pd(z(c),e(ed(c),b)):t(b)?e(z(b),A(b)):null},null,null)}(pf.b(a,b),c)};pf.C=function(a){var b=z(a),c=A(a);a=z(c);c=A(c);return pf.l(b,a,c)};pf.A=2;
var qf=function qf(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return qf.j();case 1:return qf.a(arguments[0]);case 2:return qf.b(arguments[0],arguments[1]);default:return qf.l(arguments[0],arguments[1],new dd(c.slice(2),0,null))}};qf.j=function(){return vc($d)};qf.a=function(a){return a};qf.b=function(a,b){return yc(a,b)};qf.l=function(a,b,c){for(;;)if(a=yc(a,b),t(c))b=z(c),c=A(c);else return a};
qf.C=function(a){var b=z(a),c=A(a);a=z(c);c=A(c);return qf.l(b,a,c)};qf.A=2;
function rf(a,b,c){var d=w(c);if(0===b)return a.j?a.j():a.call(null);c=yb(d);var e=zb(d);if(1===b)return a.a?a.a(c):a.a?a.a(c):a.call(null,c);var d=yb(e),f=zb(e);if(2===b)return a.b?a.b(c,d):a.b?a.b(c,d):a.call(null,c,d);var e=yb(f),g=zb(f);if(3===b)return a.c?a.c(c,d,e):a.c?a.c(c,d,e):a.call(null,c,d,e);var f=yb(g),h=zb(g);if(4===b)return a.u?a.u(c,d,e,f):a.u?a.u(c,d,e,f):a.call(null,c,d,e,f);var g=yb(h),l=zb(h);if(5===b)return a.D?a.D(c,d,e,f,g):a.D?a.D(c,d,e,f,g):a.call(null,c,d,e,f,g);var h=yb(l),
k=zb(l);if(6===b)return a.$?a.$(c,d,e,f,g,h):a.$?a.$(c,d,e,f,g,h):a.call(null,c,d,e,f,g,h);var l=yb(k),n=zb(k);if(7===b)return a.sa?a.sa(c,d,e,f,g,h,l):a.sa?a.sa(c,d,e,f,g,h,l):a.call(null,c,d,e,f,g,h,l);var k=yb(n),p=zb(n);if(8===b)return a.ta?a.ta(c,d,e,f,g,h,l,k):a.ta?a.ta(c,d,e,f,g,h,l,k):a.call(null,c,d,e,f,g,h,l,k);var n=yb(p),q=zb(p);if(9===b)return a.da?a.da(c,d,e,f,g,h,l,k,n):a.da?a.da(c,d,e,f,g,h,l,k,n):a.call(null,c,d,e,f,g,h,l,k,n);var p=yb(q),r=zb(q);if(10===b)return a.ha?a.ha(c,d,e,
f,g,h,l,k,n,p):a.ha?a.ha(c,d,e,f,g,h,l,k,n,p):a.call(null,c,d,e,f,g,h,l,k,n,p);var q=yb(r),x=zb(r);if(11===b)return a.ia?a.ia(c,d,e,f,g,h,l,k,n,p,q):a.ia?a.ia(c,d,e,f,g,h,l,k,n,p,q):a.call(null,c,d,e,f,g,h,l,k,n,p,q);var r=yb(x),y=zb(x);if(12===b)return a.ja?a.ja(c,d,e,f,g,h,l,k,n,p,q,r):a.ja?a.ja(c,d,e,f,g,h,l,k,n,p,q,r):a.call(null,c,d,e,f,g,h,l,k,n,p,q,r);var x=yb(y),B=zb(y);if(13===b)return a.ka?a.ka(c,d,e,f,g,h,l,k,n,p,q,r,x):a.ka?a.ka(c,d,e,f,g,h,l,k,n,p,q,r,x):a.call(null,c,d,e,f,g,h,l,k,n,
p,q,r,x);var y=yb(B),E=zb(B);if(14===b)return a.la?a.la(c,d,e,f,g,h,l,k,n,p,q,r,x,y):a.la?a.la(c,d,e,f,g,h,l,k,n,p,q,r,x,y):a.call(null,c,d,e,f,g,h,l,k,n,p,q,r,x,y);var B=yb(E),K=zb(E);if(15===b)return a.ma?a.ma(c,d,e,f,g,h,l,k,n,p,q,r,x,y,B):a.ma?a.ma(c,d,e,f,g,h,l,k,n,p,q,r,x,y,B):a.call(null,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B);var E=yb(K),G=zb(K);if(16===b)return a.na?a.na(c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E):a.na?a.na(c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E):a.call(null,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E);var K=
yb(G),Y=zb(G);if(17===b)return a.oa?a.oa(c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K):a.oa?a.oa(c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K):a.call(null,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K);var G=yb(Y),P=zb(Y);if(18===b)return a.pa?a.pa(c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G):a.pa?a.pa(c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G):a.call(null,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G);Y=yb(P);P=zb(P);if(19===b)return a.qa?a.qa(c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G,Y):a.qa?a.qa(c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G,Y):a.call(null,c,d,e,f,g,
h,l,k,n,p,q,r,x,y,B,E,K,G,Y);var H=yb(P);zb(P);if(20===b)return a.ra?a.ra(c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G,Y,H):a.ra?a.ra(c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G,Y,H):a.call(null,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G,Y,H);throw Error("Only up to 20 arguments supported on functions");}
function fe(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 2:return sf(arguments[0],arguments[1]);case 3:return tf(arguments[0],arguments[1],arguments[2]);case 4:b=arguments[0];c=Pd(arguments[1],Pd(arguments[2],arguments[3]));d=b.A;if(b.C)var e=nf(d+1,c),b=e<=d?rf(b,e,c):b.C(c);else b=b.apply(b,mf(c));return b;case 5:return uf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:return vf(arguments[0],arguments[1],arguments[2],
arguments[3],arguments[4],new dd(b.slice(5),0,null))}}function sf(a,b){var c=a.A;if(a.C){var d=nf(c+1,b);return d<=c?rf(a,d,b):a.C(b)}return a.apply(a,mf(b))}function tf(a,b,c){b=Pd(b,c);c=a.A;if(a.C){var d=nf(c+1,b);return d<=c?rf(a,d,b):a.C(b)}return a.apply(a,mf(b))}function uf(a,b,c,d,e){b=Pd(b,Pd(c,Pd(d,e)));c=a.A;return a.C?(d=nf(c+1,b),d<=c?rf(a,d,b):a.C(b)):a.apply(a,mf(b))}
function vf(a,b,c,d,e,f){b=Pd(b,Pd(c,Pd(d,Pd(e,of(f)))));c=a.A;return a.C?(d=nf(c+1,b),d<=c?rf(a,d,b):a.C(b)):a.apply(a,mf(b))}function wf(a){return w(a)?a:null}
var xf=function xf(){"undefined"===typeof Ja&&(Ja=function(a,c){this.bd=a;this.Yc=c;this.i=393216;this.B=0},Ja.prototype.P=function(a,c){return new Ja(this.bd,c)},Ja.prototype.M=function(){return this.Yc},Ja.prototype.xa=function(){return!1},Ja.prototype.next=function(){return Error("No such element")},Ja.prototype.remove=function(){return Error("Unsupported operation")},Ja.fc=function(){return new M(null,2,5,N,[Sd(yf,new Qa(null,1,[zf,Me(Af,Me($d))],null)),Ia.sd],null)},Ja.Eb=!0,Ja.gb="cljs.core/t_cljs$core31619",
Ja.Qb=function(a,c){return pc(c,"cljs.core/t_cljs$core31619")});return new Ja(xf,Bf)};function Cf(a,b){for(;;){if(null==w(b))return!0;var c;c=z(b);c=a.a?a.a(c):a.call(null,c);if(t(c)){c=a;var d=A(b);a=c;b=d}else return!1}}function Df(a,b){for(;;)if(w(b)){var c;c=z(b);c=a.a?a.a(c):a.call(null,c);if(t(c))return c;c=a;var d=A(b);a=c;b=d}else return null}
function Ef(){return function(){function a(a){if(0<arguments.length)for(var c=0,d=Array(arguments.length-0);c<d.length;)d[c]=arguments[c+0],++c;return!1}a.A=0;a.C=function(a){w(a);return!1};a.l=function(){return!1};return a}()}
var Ff=function Ff(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return Ff.j();case 1:return Ff.a(arguments[0]);case 2:return Ff.b(arguments[0],arguments[1]);case 3:return Ff.c(arguments[0],arguments[1],arguments[2]);default:return Ff.l(arguments[0],arguments[1],arguments[2],new dd(c.slice(3),0,null))}};Ff.j=function(){return se};Ff.a=function(a){return a};
Ff.b=function(a,b){return function(){function c(c,d,e){c=b.c?b.c(c,d,e):b.call(null,c,d,e);return a.a?a.a(c):a.call(null,c)}function d(c,d){var e=b.b?b.b(c,d):b.call(null,c,d);return a.a?a.a(e):a.call(null,e)}function e(c){c=b.a?b.a(c):b.call(null,c);return a.a?a.a(c):a.call(null,c)}function f(){var c=b.j?b.j():b.call(null);return a.a?a.a(c):a.call(null,c)}var g=null,h=function(){function c(a,b,e,f){var g=null;if(3<arguments.length){for(var g=0,h=Array(arguments.length-3);g<h.length;)h[g]=arguments[g+
3],++g;g=new dd(h,0)}return d.call(this,a,b,e,g)}function d(c,e,f,g){c=uf(b,c,e,f,g);return a.a?a.a(c):a.call(null,c)}c.A=3;c.C=function(a){var b=z(a);a=A(a);var c=z(a);a=A(a);var e=z(a);a=ed(a);return d(b,c,e,a)};c.l=d;return c}(),g=function(a,b,g,p){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,g);default:var q=null;if(3<arguments.length){for(var q=0,r=Array(arguments.length-3);q<r.length;)r[q]=arguments[q+
3],++q;q=new dd(r,0)}return h.l(a,b,g,q)}throw Error("Invalid arity: "+arguments.length);};g.A=3;g.C=h.C;g.j=f;g.a=e;g.b=d;g.c=c;g.l=h.l;return g}()};
Ff.c=function(a,b,c){return function(){function d(d,e,f){d=c.c?c.c(d,e,f):c.call(null,d,e,f);d=b.a?b.a(d):b.call(null,d);return a.a?a.a(d):a.call(null,d)}function e(d,e){var f;f=c.b?c.b(d,e):c.call(null,d,e);f=b.a?b.a(f):b.call(null,f);return a.a?a.a(f):a.call(null,f)}function f(d){d=c.a?c.a(d):c.call(null,d);d=b.a?b.a(d):b.call(null,d);return a.a?a.a(d):a.call(null,d)}function g(){var d;d=c.j?c.j():c.call(null);d=b.a?b.a(d):b.call(null,d);return a.a?a.a(d):a.call(null,d)}var h=null,l=function(){function d(a,
b,c,f){var g=null;if(3<arguments.length){for(var g=0,h=Array(arguments.length-3);g<h.length;)h[g]=arguments[g+3],++g;g=new dd(h,0)}return e.call(this,a,b,c,g)}function e(d,f,g,h){d=uf(c,d,f,g,h);d=b.a?b.a(d):b.call(null,d);return a.a?a.a(d):a.call(null,d)}d.A=3;d.C=function(a){var b=z(a);a=A(a);var c=z(a);a=A(a);var d=z(a);a=ed(a);return e(b,c,d,a)};d.l=e;return d}(),h=function(a,b,c,h){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,a);case 2:return e.call(this,a,b);
case 3:return d.call(this,a,b,c);default:var r=null;if(3<arguments.length){for(var r=0,x=Array(arguments.length-3);r<x.length;)x[r]=arguments[r+3],++r;r=new dd(x,0)}return l.l(a,b,c,r)}throw Error("Invalid arity: "+arguments.length);};h.A=3;h.C=l.C;h.j=g;h.a=f;h.b=e;h.c=d;h.l=l.l;return h}()};
Ff.l=function(a,b,c,d){return function(a){return function(){function b(a){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new dd(e,0)}return c.call(this,d)}function c(b){b=sf(z(a),b);for(var d=A(a);;)if(d)b=z(d).call(null,b),d=A(d);else return b}b.A=0;b.C=function(a){a=w(a);return c(a)};b.l=c;return b}()}(Le(Pd(a,Pd(b,Pd(c,d)))))};Ff.C=function(a){var b=z(a),c=A(a);a=z(c);var d=A(c),c=z(d),d=A(d);return Ff.l(b,a,c,d)};Ff.A=3;
function Gf(a,b,c,d){this.state=a;this.s=b;this.jd=c;this.Ac=d;this.B=16386;this.i=6455296}m=Gf.prototype;m.equiv=function(a){return this.w(null,a)};m.w=function(a,b){return this===b};m.Yb=function(){return this.state};m.M=function(){return this.s};
m.qc=function(a,b,c){a=w(this.Ac);for(var d=null,e=0,f=0;;)if(f<e){var g=d.T(null,f),h=F(g,0,null),g=F(g,1,null);g.u?g.u(h,this,b,c):g.call(null,h,this,b,c);f+=1}else if(a=w(a))le(a)?(d=Dc(a),a=Ec(a),h=d,e=D(d),d=h):(d=z(a),h=F(d,0,null),g=F(d,1,null),g.u?g.u(h,this,b,c):g.call(null,h,this,b,c),a=A(a),d=null,e=0),f=0;else return null};m.R=function(){return this[ka]||(this[ka]=++la)};
function Hf(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 1:return If(arguments[0]);default:return c=arguments[0],b=new dd(b.slice(1),0,null),d=null!=b&&(b.i&64||b.I)?sf(Jf,b):b,b=v.b(d,Va),d=v.b(d,Wf),new Gf(c,b,d,null)}}function If(a){return new Gf(a,null,null,null)}
function Xf(a,b){if(a instanceof Gf){var c=a.jd;if(null!=c&&!t(c.a?c.a(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.Ac&&uc(a,c,b);return b}return Jc(a,b)}
var Yf=function Yf(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Yf.b(arguments[0],arguments[1]);case 3:return Yf.c(arguments[0],arguments[1],arguments[2]);case 4:return Yf.u(arguments[0],arguments[1],arguments[2],arguments[3]);default:return Yf.l(arguments[0],arguments[1],arguments[2],arguments[3],new dd(c.slice(4),0,null))}};
Yf.b=function(a,b){var c;a instanceof Gf?(c=a.state,c=b.a?b.a(c):b.call(null,c),c=Xf(a,c)):c=Kc.b(a,b);return c};Yf.c=function(a,b,c){if(a instanceof Gf){var d=a.state;b=b.b?b.b(d,c):b.call(null,d,c);a=Xf(a,b)}else a=Kc.c(a,b,c);return a};Yf.u=function(a,b,c,d){if(a instanceof Gf){var e=a.state;b=b.c?b.c(e,c,d):b.call(null,e,c,d);a=Xf(a,b)}else a=Kc.u(a,b,c,d);return a};Yf.l=function(a,b,c,d,e){return a instanceof Gf?Xf(a,uf(b,a.state,c,d,e)):Kc.D(a,b,c,d,e)};
Yf.C=function(a){var b=z(a),c=A(a);a=z(c);var d=A(c),c=z(d),e=A(d),d=z(e),e=A(e);return Yf.l(b,a,c,d,e)};Yf.A=4;
var Zf=function Zf(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Zf.a(arguments[0]);case 2:return Zf.b(arguments[0],arguments[1]);case 3:return Zf.c(arguments[0],arguments[1],arguments[2]);case 4:return Zf.u(arguments[0],arguments[1],arguments[2],arguments[3]);default:return Zf.l(arguments[0],arguments[1],arguments[2],arguments[3],new dd(c.slice(4),0,null))}};
Zf.a=function(a){return function(b){return function(){function c(c,d){var e=a.a?a.a(d):a.call(null,d);return b.b?b.b(c,e):b.call(null,c,e)}function d(a){return b.a?b.a(a):b.call(null,a)}function e(){return b.j?b.j():b.call(null)}var f=null,g=function(){function c(a,b,e){var f=null;if(2<arguments.length){for(var f=0,g=Array(arguments.length-2);f<g.length;)g[f]=arguments[f+2],++f;f=new dd(g,0)}return d.call(this,a,b,f)}function d(c,e,f){e=tf(a,e,f);return b.b?b.b(c,e):b.call(null,c,e)}c.A=2;c.C=function(a){var b=
z(a);a=A(a);var c=z(a);a=ed(a);return d(b,c,a)};c.l=d;return c}(),f=function(a,b,f){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b);default:var n=null;if(2<arguments.length){for(var n=0,p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new dd(p,0)}return g.l(a,b,n)}throw Error("Invalid arity: "+arguments.length);};f.A=2;f.C=g.C;f.j=e;f.a=d;f.b=c;f.l=g.l;return f}()}};
Zf.b=function(a,b){return new Re(null,function(){var c=w(b);if(c){if(le(c)){for(var d=Dc(c),e=D(d),f=Ve(e),g=0;;)if(g<e)lf(f,function(){var b=vb.b(d,g);return a.a?a.a(b):a.call(null,b)}()),g+=1;else break;return kf(f.J(),Zf.b(a,Ec(c)))}return Pd(function(){var b=z(c);return a.a?a.a(b):a.call(null,b)}(),Zf.b(a,ed(c)))}return null},null,null)};
Zf.c=function(a,b,c){return new Re(null,function(){var d=w(b),e=w(c);if(d&&e){var f=Pd,g;g=z(d);var h=z(e);g=a.b?a.b(g,h):a.call(null,g,h);d=f(g,Zf.c(a,ed(d),ed(e)))}else d=null;return d},null,null)};Zf.u=function(a,b,c,d){return new Re(null,function(){var e=w(b),f=w(c),g=w(d);if(e&&f&&g){var h=Pd,l;l=z(e);var k=z(f),n=z(g);l=a.c?a.c(l,k,n):a.call(null,l,k,n);e=h(l,Zf.u(a,ed(e),ed(f),ed(g)))}else e=null;return e},null,null)};
Zf.l=function(a,b,c,d,e){var f=function h(a){return new Re(null,function(){var b=Zf.b(w,a);return Cf(se,b)?Pd(Zf.b(z,b),h(Zf.b(ed,b))):null},null,null)};return Zf.b(function(){return function(b){return sf(a,b)}}(f),f(Zd.l(e,d,Rd([c,b],0))))};Zf.C=function(a){var b=z(a),c=A(a);a=z(c);var d=A(c),c=z(d),e=A(d),d=z(e),e=A(e);return Zf.l(b,a,c,d,e)};Zf.A=4;
function $f(a,b){if("number"!==typeof a)throw Error("Assert failed: (number? n)");return new Re(null,function(){if(0<a){var c=w(b);return c?Pd(z(c),$f(a-1,ed(c))):null}return null},null,null)}function ag(a,b){if("number"!==typeof a)throw Error("Assert failed: (number? n)");return new Re(null,function(c){return function(){return c(a,b)}}(function(a,b){for(;;){var e=w(b);if(0<a&&e){var f=a-1,e=ed(e);a=f;b=e}else return e}}),null,null)}
var bg=function bg(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return bg.b(arguments[0],arguments[1]);default:return bg.l(arguments[0],arguments[1],new dd(c.slice(2),0,null))}};bg.b=function(a,b){return new Re(null,function(){var c=w(a),d=w(b);return c&&d?Pd(z(c),Pd(z(d),bg.b(ed(c),ed(d)))):null},null,null)};
bg.l=function(a,b,c){return new Re(null,function(){var d=Zf.b(w,Zd.l(c,b,Rd([a],0)));return Cf(se,d)?pf.b(Zf.b(z,d),sf(bg,Zf.b(ed,d))):null},null,null)};bg.C=function(a){var b=z(a),c=A(a);a=z(c);c=A(c);return bg.l(b,a,c)};bg.A=2;
function dg(a,b){return new Re(null,function(){var c=w(b);if(c){if(le(c)){for(var d=Dc(c),e=D(d),f=Ve(e),g=0;;)if(g<e){var h;h=vb.b(d,g);h=a.a?a.a(h):a.call(null,h);t(h)&&(h=vb.b(d,g),f.add(h));g+=1}else break;return kf(f.J(),dg(a,Ec(c)))}d=z(c);c=ed(c);return t(a.a?a.a(d):a.call(null,d))?Pd(d,dg(a,c)):dg(a,c)}return null},null,null)}
var eg=function eg(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return eg.b(arguments[0],arguments[1]);case 3:return eg.c(arguments[0],arguments[1],arguments[2]);default:throw Error([u("Invalid arity: "),u(c.length)].join(""));}};eg.b=function(a,b){return null!=a?null!=a&&(a.B&4||a.Dc)?Sd(zc(jb(yc,vc(a),b)),ge(a)):jb(rb,a,b):jb(Zd,fd,b)};eg.c=function(a,b,c){return null!=a&&(a.B&4||a.Dc)?Sd(zc(te(b,qf,vc(a),c)),ge(a)):te(b,Zd,a,c)};
eg.A=3;function fg(a,b){return zc(jb(function(b,d){return qf.b(b,a.a?a.a(d):a.call(null,d))},vc($d),b))}function gg(a,b,c){return new Re(null,function(){var d=w(c);if(d){var e=$f(a,d);return a===D(e)?Pd(e,gg(a,b,ag(b,d))):null}return null},null,null)}function hg(a,b){return jb(v,a,b)}
var ig=function ig(b,c,d){var e=w(c);c=z(e);return(e=A(e))?be.c(b,c,ig(v.b(b,c),e,d)):be.c(b,c,d)},jg=function jg(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return jg.c(arguments[0],arguments[1],arguments[2]);case 4:return jg.u(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return jg.D(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return jg.$(arguments[0],arguments[1],arguments[2],arguments[3],
arguments[4],arguments[5]);default:return jg.l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],new dd(c.slice(6),0,null))}};jg.c=function(a,b,c){b=w(b);var d=z(b);return(b=A(b))?be.c(a,d,jg.c(v.b(a,d),b,c)):be.c(a,d,function(){var b=v.b(a,d);return c.a?c.a(b):c.call(null,b)}())};jg.u=function(a,b,c,d){b=w(b);var e=z(b);return(b=A(b))?be.c(a,e,jg.u(v.b(a,e),b,c,d)):be.c(a,e,function(){var b=v.b(a,e);return c.b?c.b(b,d):c.call(null,b,d)}())};
jg.D=function(a,b,c,d,e){b=w(b);var f=z(b);return(b=A(b))?be.c(a,f,jg.D(v.b(a,f),b,c,d,e)):be.c(a,f,function(){var b=v.b(a,f);return c.c?c.c(b,d,e):c.call(null,b,d,e)}())};jg.$=function(a,b,c,d,e,f){b=w(b);var g=z(b);return(b=A(b))?be.c(a,g,jg.$(v.b(a,g),b,c,d,e,f)):be.c(a,g,function(){var b=v.b(a,g);return c.u?c.u(b,d,e,f):c.call(null,b,d,e,f)}())};jg.l=function(a,b,c,d,e,f,g){var h=w(b);b=z(h);return(h=A(h))?be.c(a,b,vf(jg,v.b(a,b),h,c,d,Rd([e,f,g],0))):be.c(a,b,vf(c,v.b(a,b),d,e,f,Rd([g],0)))};
jg.C=function(a){var b=z(a),c=A(a);a=z(c);var d=A(c),c=z(d),e=A(d),d=z(e),f=A(e),e=z(f),g=A(f),f=z(g),g=A(g);return jg.l(b,a,c,d,e,f,g)};jg.A=6;
var kg=function kg(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return kg.c(arguments[0],arguments[1],arguments[2]);case 4:return kg.u(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return kg.D(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return kg.$(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:return kg.l(arguments[0],arguments[1],arguments[2],arguments[3],
arguments[4],arguments[5],new dd(c.slice(6),0,null))}};kg.c=function(a,b,c){return be.c(a,b,function(){var d=v.b(a,b);return c.a?c.a(d):c.call(null,d)}())};kg.u=function(a,b,c,d){return be.c(a,b,function(){var e=v.b(a,b);return c.b?c.b(e,d):c.call(null,e,d)}())};kg.D=function(a,b,c,d,e){return be.c(a,b,function(){var f=v.b(a,b);return c.c?c.c(f,d,e):c.call(null,f,d,e)}())};kg.$=function(a,b,c,d,e,f){return be.c(a,b,function(){var g=v.b(a,b);return c.u?c.u(g,d,e,f):c.call(null,g,d,e,f)}())};
kg.l=function(a,b,c,d,e,f,g){return be.c(a,b,vf(c,v.b(a,b),d,e,f,Rd([g],0)))};kg.C=function(a){var b=z(a),c=A(a);a=z(c);var d=A(c),c=z(d),e=A(d),d=z(e),f=A(e),e=z(f),g=A(f),f=z(g),g=A(g);return kg.l(b,a,c,d,e,f,g)};kg.A=6;function lg(a,b){this.L=a;this.f=b}function mg(a){return new lg(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function ng(a){a=a.o;return 32>a?0:a-1>>>5<<5}
function og(a,b,c){for(;;){if(0===b)return c;var d=mg(a);d.f[0]=c;c=d;b-=5}}var pg=function pg(b,c,d,e){var f=new lg(d.L,fb(d.f)),g=b.o-1>>>c&31;5===c?f.f[g]=e:(d=d.f[g],b=null!=d?pg(b,c-5,d,e):og(null,c-5,e),f.f[g]=b);return f};function qg(a,b){throw Error([u("No item "),u(a),u(" in vector of length "),u(b)].join(""));}function rg(a,b){if(b>=ng(a))return a.K;for(var c=a.root,d=a.shift;;)if(0<d)var e=d-5,c=c.f[b>>>d&31],d=e;else return c.f}function sg(a,b){return 0<=b&&b<a.o?rg(a,b):qg(b,a.o)}
var tg=function tg(b,c,d,e,f){var g=new lg(d.L,fb(d.f));if(0===c)g.f[e&31]=f;else{var h=e>>>c&31;b=tg(b,c-5,d.f[h],e,f);g.f[h]=b}return g};function ug(a,b,c,d,e,f){this.m=a;this.Tb=b;this.f=c;this.Va=d;this.start=e;this.end=f}ug.prototype.xa=function(){return this.m<this.end};ug.prototype.next=function(){32===this.m-this.Tb&&(this.f=rg(this.Va,this.m),this.Tb+=32);var a=this.f[this.m&31];this.m+=1;return a};
function M(a,b,c,d,e,f){this.s=a;this.o=b;this.shift=c;this.root=d;this.K=e;this.v=f;this.i=167668511;this.B=8196}m=M.prototype;m.toString=function(){return Nc(this)};m.equiv=function(a){return this.w(null,a)};m.indexOf=function(){var a=null,a=function(a,c){switch(arguments.length){case 1:return Fd(this,a,0);case 2:return Fd(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.a=function(a){return Fd(this,a,0)};a.b=function(a,c){return Fd(this,a,c)};return a}();
m.lastIndexOf=function(){function a(a){return Ld(this,a,D(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return Ld(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=a;b.b=function(a,b){return Ld(this,a,b)};return b}();m.X=function(a,b){return Db.c(this,b,null)};m.O=function(a,b,c){return"number"===typeof b?vb.c(this,b,c):c};m.T=function(a,b){return sg(this,b)[b&31]};m.Fa=function(a,b,c){return 0<=b&&b<this.o?rg(this,b)[b&31]:c};
m.bc=function(a,b,c){if(0<=b&&b<this.o)return ng(this)<=b?(a=fb(this.K),a[b&31]=c,new M(this.s,this.o,this.shift,this.root,a,null)):new M(this.s,this.o,this.shift,tg(this,this.shift,this.root,b,c),this.K,null);if(b===this.o)return rb(this,c);throw Error([u("Index "),u(b),u(" out of bounds  [0,"),u(this.o),u("]")].join(""));};m.Ia=function(){var a=this.o;return new ug(0,0,0<D(this)?rg(this,0):null,this,0,a)};m.M=function(){return this.s};m.ba=function(){return this.o};
m.$b=function(){return vb.b(this,0)};m.ac=function(){return vb.b(this,1)};m.Ob=function(){return 0<this.o?new Nd(this,this.o-1,null):null};m.R=function(){var a=this.v;return null!=a?a:this.v=a=rd(this)};m.w=function(a,b){if(b instanceof M)if(this.o===D(b))for(var c=Lc(this),d=Lc(b);;)if(t(c.xa())){var e=c.next(),f=d.next();if(!gd.b(e,f))return!1}else return!0;else return!1;else return Od(this,b)};
m.qb=function(){return new vg(this.o,this.shift,wg.a?wg.a(this.root):wg.call(null,this.root),xg.a?xg.a(this.K):xg.call(null,this.K))};m.ea=function(){return Sd($d,this.s)};m.ua=function(a,b){return yd(this,b)};m.va=function(a,b,c){a=0;for(var d=c;;)if(a<this.o){var e=rg(this,a);c=e.length;a:for(var f=0;;)if(f<c)var g=e[f],d=b.b?b.b(d,g):b.call(null,d,g),f=f+1;else{e=d;break a}a+=c;d=e}else return d};
m.fb=function(a,b,c){if("number"===typeof b)return Sb(this,b,c);throw Error("Vector's key for assoc must be a number.");};m.Y=function(){if(0===this.o)return null;if(32>=this.o)return new dd(this.K,0,null);var a;a:{a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.f[0];else{a=a.f;break a}}return Hg?Hg(this,a,0,0):Ig.call(null,this,a,0,0)};m.P=function(a,b){return new M(b,this.o,this.shift,this.root,this.K,this.v)};
m.aa=function(a,b){if(32>this.o-ng(this)){for(var c=this.K.length,d=Array(c+1),e=0;;)if(e<c)d[e]=this.K[e],e+=1;else break;d[c]=b;return new M(this.s,this.o+1,this.shift,this.root,d,null)}c=(d=this.o>>>5>1<<this.shift)?this.shift+5:this.shift;d?(d=mg(null),d.f[0]=this.root,e=og(null,this.shift,new lg(null,this.K)),d.f[1]=e):d=pg(this,this.shift,this.root,new lg(null,this.K));return new M(this.s,this.o+1,c,d,[b],null)};
m.call=function(){var a=null,a=function(a,c,d){switch(arguments.length){case 2:return this.T(null,c);case 3:return this.Fa(null,c,d)}throw Error("Invalid arity: "+arguments.length);};a.b=function(a,c){return this.T(null,c)};a.c=function(a,c,d){return this.Fa(null,c,d)};return a}();m.apply=function(a,b){return this.call.apply(this,[this].concat(fb(b)))};m.a=function(a){return this.T(null,a)};m.b=function(a,b){return this.Fa(null,a,b)};
var N=new lg(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),$d=new M(null,0,5,N,[],sd);function Jg(a){var b=a.length;if(32>b)return new M(null,b,5,N,a,null);for(var c=32,d=(new M(null,32,5,N,a.slice(0,32),null)).qb(null);;)if(c<b)var e=c+1,d=qf.b(d,a[c]),c=e;else return zc(d)}M.prototype[eb]=function(){return pd(this)};function Kg(a){return Za(a)?Jg(a):zc(jb(yc,vc($d),a))}
function Lg(a,b,c,d,e,f){this.Ga=a;this.node=b;this.m=c;this.off=d;this.s=e;this.v=f;this.i=32375020;this.B=1536}m=Lg.prototype;m.toString=function(){return Nc(this)};m.equiv=function(a){return this.w(null,a)};m.indexOf=function(){var a=null,a=function(a,c){switch(arguments.length){case 1:return Fd(this,a,0);case 2:return Fd(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.a=function(a){return Fd(this,a,0)};a.b=function(a,c){return Fd(this,a,c)};return a}();
m.lastIndexOf=function(){function a(a){return Ld(this,a,D(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return Ld(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=a;b.b=function(a,b){return Ld(this,a,b)};return b}();m.M=function(){return this.s};m.ya=function(){if(this.off+1<this.node.length){var a;a=this.Ga;var b=this.node,c=this.m,d=this.off+1;a=Hg?Hg(a,b,c,d):Ig.call(null,a,b,c,d);return null==a?null:a}return Gc(this)};
m.R=function(){var a=this.v;return null!=a?a:this.v=a=rd(this)};m.w=function(a,b){return Od(this,b)};m.ea=function(){return Sd($d,this.s)};m.ua=function(a,b){var c;c=this.Ga;var d=this.m+this.off,e=D(this.Ga);c=Mg?Mg(c,d,e):Ng.call(null,c,d,e);return yd(c,b)};m.va=function(a,b,c){a=this.Ga;var d=this.m+this.off,e=D(this.Ga);a=Mg?Mg(a,d,e):Ng.call(null,a,d,e);return zd(a,b,c)};m.wa=function(){return this.node[this.off]};
m.Ca=function(){if(this.off+1<this.node.length){var a;a=this.Ga;var b=this.node,c=this.m,d=this.off+1;a=Hg?Hg(a,b,c,d):Ig.call(null,a,b,c,d);return null==a?fd:a}return Ec(this)};m.Y=function(){return this};m.Wb=function(){var a=this.node;return new Ue(a,this.off,a.length)};m.Xb=function(){var a=this.m+this.node.length;if(a<nb(this.Ga)){var b=this.Ga,c=rg(this.Ga,a);return Hg?Hg(b,c,a,0):Ig.call(null,b,c,a,0)}return fd};
m.P=function(a,b){return Og?Og(this.Ga,this.node,this.m,this.off,b):Ig.call(null,this.Ga,this.node,this.m,this.off,b)};m.aa=function(a,b){return Pd(b,this)};m.Vb=function(){var a=this.m+this.node.length;if(a<nb(this.Ga)){var b=this.Ga,c=rg(this.Ga,a);return Hg?Hg(b,c,a,0):Ig.call(null,b,c,a,0)}return null};Lg.prototype[eb]=function(){return pd(this)};
function Ig(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 3:return b=arguments[0],c=arguments[1],d=arguments[2],new Lg(b,sg(b,c),c,d,null,null);case 4:return Hg(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Og(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([u("Invalid arity: "),u(b.length)].join(""));}}function Hg(a,b,c,d){return new Lg(a,b,c,d,null,null)}
function Og(a,b,c,d,e){return new Lg(a,b,c,d,e,null)}function Pg(a,b,c,d,e){this.s=a;this.Va=b;this.start=c;this.end=d;this.v=e;this.i=167666463;this.B=8192}m=Pg.prototype;m.toString=function(){return Nc(this)};m.equiv=function(a){return this.w(null,a)};
m.indexOf=function(){var a=null,a=function(a,c){switch(arguments.length){case 1:return Fd(this,a,0);case 2:return Fd(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.a=function(a){return Fd(this,a,0)};a.b=function(a,c){return Fd(this,a,c)};return a}();
m.lastIndexOf=function(){function a(a){return Ld(this,a,D(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return Ld(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=a;b.b=function(a,b){return Ld(this,a,b)};return b}();m.X=function(a,b){return Db.c(this,b,null)};m.O=function(a,b,c){return"number"===typeof b?vb.c(this,b,c):c};m.T=function(a,b){return 0>b||this.end<=this.start+b?qg(b,this.end-this.start):vb.b(this.Va,this.start+b)};
m.Fa=function(a,b,c){return 0>b||this.end<=this.start+b?c:vb.c(this.Va,this.start+b,c)};m.bc=function(a,b,c){var d=this.start+b;a=this.s;c=be.c(this.Va,d,c);b=this.start;var e=this.end,d=d+1,d=e>d?e:d;return Rg.D?Rg.D(a,c,b,d,null):Rg.call(null,a,c,b,d,null)};m.M=function(){return this.s};m.ba=function(){return this.end-this.start};m.Ob=function(){return this.start!==this.end?new Nd(this,this.end-this.start-1,null):null};m.R=function(){var a=this.v;return null!=a?a:this.v=a=rd(this)};
m.w=function(a,b){return Od(this,b)};m.ea=function(){return Sd($d,this.s)};m.ua=function(a,b){return yd(this,b)};m.va=function(a,b,c){return zd(this,b,c)};m.fb=function(a,b,c){if("number"===typeof b)return Sb(this,b,c);throw Error("Subvec's key for assoc must be a number.");};m.Y=function(){var a=this;return function(b){return function d(e){return e===a.end?null:Pd(vb.b(a.Va,e),new Re(null,function(){return function(){return d(e+1)}}(b),null,null))}}(this)(a.start)};
m.P=function(a,b){return Rg.D?Rg.D(b,this.Va,this.start,this.end,this.v):Rg.call(null,b,this.Va,this.start,this.end,this.v)};m.aa=function(a,b){var c=this.s,d=Sb(this.Va,this.end,b),e=this.start,f=this.end+1;return Rg.D?Rg.D(c,d,e,f,null):Rg.call(null,c,d,e,f,null)};
m.call=function(){var a=null,a=function(a,c,d){switch(arguments.length){case 2:return this.T(null,c);case 3:return this.Fa(null,c,d)}throw Error("Invalid arity: "+arguments.length);};a.b=function(a,c){return this.T(null,c)};a.c=function(a,c,d){return this.Fa(null,c,d)};return a}();m.apply=function(a,b){return this.call.apply(this,[this].concat(fb(b)))};m.a=function(a){return this.T(null,a)};m.b=function(a,b){return this.Fa(null,a,b)};Pg.prototype[eb]=function(){return pd(this)};
function Rg(a,b,c,d,e){for(;;)if(b instanceof Pg)c=b.start+c,d=b.start+d,b=b.Va;else{var f=D(b);if(0>c||0>d||c>f||d>f)throw Error("Index out of bounds");return new Pg(a,b,c,d,e)}}function Ng(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 2:return b=arguments[0],Mg(b,arguments[1],D(b));case 3:return Mg(arguments[0],arguments[1],arguments[2]);default:throw Error([u("Invalid arity: "),u(b.length)].join(""));}}
function Mg(a,b,c){return Rg(null,a,b,c,null)}function Sg(a,b){return a===b.L?b:new lg(a,fb(b.f))}function wg(a){return new lg({},fb(a.f))}function xg(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];ne(a,0,b,0,a.length);return b}var Tg=function Tg(b,c,d,e){d=Sg(b.root.L,d);var f=b.o-1>>>c&31;if(5===c)b=e;else{var g=d.f[f];b=null!=g?Tg(b,c-5,g,e):og(b.root.L,c-5,e)}d.f[f]=b;return d};
function vg(a,b,c,d){this.o=a;this.shift=b;this.root=c;this.K=d;this.B=88;this.i=275}m=vg.prototype;
m.Cb=function(a,b){if(this.root.L){if(32>this.o-ng(this))this.K[this.o&31]=b;else{var c=new lg(this.root.L,this.K),d=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];d[0]=b;this.K=d;if(this.o>>>5>1<<this.shift){var d=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],e=this.shift+
5;d[0]=this.root;d[1]=og(this.root.L,this.shift,c);this.root=new lg(this.root.L,d);this.shift=e}else this.root=Tg(this,this.shift,this.root,c)}this.o+=1;return this}throw Error("conj! after persistent!");};m.Db=function(){if(this.root.L){this.root.L=null;var a=this.o-ng(this),b=Array(a);ne(this.K,0,b,0,a);return new M(null,this.o,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
m.Bb=function(a,b,c){if("number"===typeof b)return Bc(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
m.pc=function(a,b,c){var d=this;if(d.root.L){if(0<=b&&b<d.o)return ng(this)<=b?d.K[b&31]=c:(a=function(){return function f(a,h){var l=Sg(d.root.L,h);if(0===a)l.f[b&31]=c;else{var k=b>>>a&31,n=f(a-5,l.f[k]);l.f[k]=n}return l}}(this).call(null,d.shift,d.root),d.root=a),this;if(b===d.o)return yc(this,c);throw Error([u("Index "),u(b),u(" out of bounds for TransientVector of length"),u(d.o)].join(""));}throw Error("assoc! after persistent!");};
m.ba=function(){if(this.root.L)return this.o;throw Error("count after persistent!");};m.T=function(a,b){if(this.root.L)return sg(this,b)[b&31];throw Error("nth after persistent!");};m.Fa=function(a,b,c){return 0<=b&&b<this.o?vb.b(this,b):c};m.X=function(a,b){return Db.c(this,b,null)};m.O=function(a,b,c){return"number"===typeof b?vb.c(this,b,c):c};
m.call=function(){var a=null,a=function(a,c,d){switch(arguments.length){case 2:return this.X(null,c);case 3:return this.O(null,c,d)}throw Error("Invalid arity: "+arguments.length);};a.b=function(a,c){return this.X(null,c)};a.c=function(a,c,d){return this.O(null,c,d)};return a}();m.apply=function(a,b){return this.call.apply(this,[this].concat(fb(b)))};m.a=function(a){return this.X(null,a)};m.b=function(a,b){return this.O(null,a,b)};function Ug(){this.i=2097152;this.B=0}
Ug.prototype.equiv=function(a){return this.w(null,a)};Ug.prototype.w=function(){return!1};var Vg=new Ug;function Wg(a,b){return pe(je(b)?D(a)===D(b)?Cf(function(a){return gd.b(v.c(b,z(a),Vg),Xd(a))},a):null:null)}function Xg(a,b,c,d,e){this.m=a;this.ed=b;this.kc=c;this.Uc=d;this.wc=e}Xg.prototype.xa=function(){var a=this.m<this.kc;return a?a:this.wc.xa()};Xg.prototype.next=function(){if(this.m<this.kc){var a=Jd(this.Uc,this.m);this.m+=1;return new M(null,2,5,N,[a,Db.b(this.ed,a)],null)}return this.wc.next()};
Xg.prototype.remove=function(){return Error("Unsupported operation")};function Yg(a){this.F=a}Yg.prototype.next=function(){if(null!=this.F){var a=z(this.F),b=F(a,0,null),a=F(a,1,null);this.F=A(this.F);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Zg(a){this.F=a}Zg.prototype.next=function(){if(null!=this.F){var a=z(this.F);this.F=A(this.F);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function $g(a,b){var c;if(b instanceof I)a:{c=a.length;for(var d=b.Ka,e=0;;){if(c<=e){c=-1;break a}if(a[e]instanceof I&&d===a[e].Ka){c=e;break a}e+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){c=-1;break a}if(b===a[d]){c=d;break a}d+=2}else if(b instanceof bd)a:for(c=a.length,d=b.cb,e=0;;){if(c<=e){c=-1;break a}if(a[e]instanceof bd&&d===a[e].cb){c=e;break a}e+=2}else if(null==b)a:for(c=a.length,d=0;;){if(c<=d){c=-1;break a}if(null==a[d]){c=d;break a}d+=2}else a:for(c=
a.length,d=0;;){if(c<=d){c=-1;break a}if(gd.b(b,a[d])){c=d;break a}d+=2}return c}function ah(a,b,c){this.f=a;this.m=b;this.Ba=c;this.i=32374990;this.B=0}m=ah.prototype;m.toString=function(){return Nc(this)};m.equiv=function(a){return this.w(null,a)};
m.indexOf=function(){var a=null,a=function(a,c){switch(arguments.length){case 1:return Fd(this,a,0);case 2:return Fd(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.a=function(a){return Fd(this,a,0)};a.b=function(a,c){return Fd(this,a,c)};return a}();
m.lastIndexOf=function(){function a(a){return Ld(this,a,D(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return Ld(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=a;b.b=function(a,b){return Ld(this,a,b)};return b}();m.M=function(){return this.Ba};m.ya=function(){return this.m<this.f.length-2?new ah(this.f,this.m+2,this.Ba):null};m.ba=function(){return(this.f.length-this.m)/2};m.R=function(){return rd(this)};
m.w=function(a,b){return Od(this,b)};m.ea=function(){return Sd(fd,this.Ba)};m.ua=function(a,b){return Td(b,this)};m.va=function(a,b,c){return Wd(b,c,this)};m.wa=function(){return new M(null,2,5,N,[this.f[this.m],this.f[this.m+1]],null)};m.Ca=function(){return this.m<this.f.length-2?new ah(this.f,this.m+2,this.Ba):fd};m.Y=function(){return this};m.P=function(a,b){return new ah(this.f,this.m,b)};m.aa=function(a,b){return Pd(b,this)};ah.prototype[eb]=function(){return pd(this)};
function bh(a,b,c){this.f=a;this.m=b;this.o=c}bh.prototype.xa=function(){return this.m<this.o};bh.prototype.next=function(){var a=new M(null,2,5,N,[this.f[this.m],this.f[this.m+1]],null);this.m+=2;return a};function Qa(a,b,c,d){this.s=a;this.o=b;this.f=c;this.v=d;this.i=16647951;this.B=8196}m=Qa.prototype;m.toString=function(){return Nc(this)};m.equiv=function(a){return this.w(null,a)};m.keys=function(){return pd(ch.a?ch.a(this):ch.call(null,this))};m.entries=function(){return new Yg(w(w(this)))};
m.values=function(){return pd(dh.a?dh.a(this):dh.call(null,this))};m.has=function(a){return qe(this,a)};m.get=function(a,b){return this.O(null,a,b)};m.forEach=function(a){for(var b=w(this),c=null,d=0,e=0;;)if(e<d){var f=c.T(null,e),g=F(f,0,null),f=F(f,1,null);a.b?a.b(f,g):a.call(null,f,g);e+=1}else if(b=w(b))le(b)?(c=Dc(b),b=Ec(b),g=c,d=D(c),c=g):(c=z(b),g=F(c,0,null),f=F(c,1,null),a.b?a.b(f,g):a.call(null,f,g),b=A(b),c=null,d=0),e=0;else return null};m.X=function(a,b){return Db.c(this,b,null)};
m.O=function(a,b,c){a=$g(this.f,b);return-1===a?c:this.f[a+1]};m.Ia=function(){return new bh(this.f,0,2*this.o)};m.M=function(){return this.s};m.ba=function(){return this.o};m.R=function(){var a=this.v;return null!=a?a:this.v=a=td(this)};m.w=function(a,b){if(null!=b&&(b.i&1024||b.Hc)){var c=this.f.length;if(this.o===b.ba(null))for(var d=0;;)if(d<c){var e=b.O(null,this.f[d],oe);if(e!==oe)if(gd.b(this.f[d+1],e))d+=2;else return!1;else return!1}else return!0;else return!1}else return Wg(this,b)};
m.qb=function(){return new eh({},this.f.length,fb(this.f))};m.ea=function(){return $b(Bf,this.s)};m.ua=function(a,b){return Td(b,this)};m.va=function(a,b,c){return Wd(b,c,this)};m.yb=function(a,b){if(0<=$g(this.f,b)){var c=this.f.length,d=c-2;if(0===d)return ob(this);for(var d=Array(d),e=0,f=0;;){if(e>=c)return new Qa(this.s,this.o-1,d,null);gd.b(b,this.f[e])||(d[f]=this.f[e],d[f+1]=this.f[e+1],f+=2);e+=2}}else return this};
m.fb=function(a,b,c){a=$g(this.f,b);if(-1===a){if(this.o<fh){a=this.f;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new Qa(this.s,this.o+1,e,null)}return $b(Fb(eg.b(gh,this),b,c),this.s)}if(c===this.f[a+1])return this;b=fb(this.f);b[a+1]=c;return new Qa(this.s,this.o,b,null)};m.Ub=function(a,b){return-1!==$g(this.f,b)};m.Y=function(){var a=this.f;return 0<=a.length-2?new ah(a,0,null):null};m.P=function(a,b){return new Qa(b,this.o,this.f,this.v)};
m.aa=function(a,b){if(ke(b))return Fb(this,vb.b(b,0),vb.b(b,1));for(var c=this,d=w(b);;){if(null==d)return c;var e=z(d);if(ke(e))c=Fb(c,vb.b(e,0),vb.b(e,1)),d=A(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
m.call=function(){var a=null,a=function(a,c,d){switch(arguments.length){case 2:return this.X(null,c);case 3:return this.O(null,c,d)}throw Error("Invalid arity: "+arguments.length);};a.b=function(a,c){return this.X(null,c)};a.c=function(a,c,d){return this.O(null,c,d)};return a}();m.apply=function(a,b){return this.call.apply(this,[this].concat(fb(b)))};m.a=function(a){return this.X(null,a)};m.b=function(a,b){return this.O(null,a,b)};var Bf=new Qa(null,0,[],ud),fh=8;Qa.prototype[eb]=function(){return pd(this)};
function eh(a,b,c){this.rb=a;this.kb=b;this.f=c;this.i=258;this.B=56}m=eh.prototype;m.ba=function(){if(t(this.rb))return Ee(this.kb);throw Error("count after persistent!");};m.X=function(a,b){return Db.c(this,b,null)};m.O=function(a,b,c){if(t(this.rb))return a=$g(this.f,b),-1===a?c:this.f[a+1];throw Error("lookup after persistent!");};
m.Cb=function(a,b){if(t(this.rb)){if(null!=b?b.i&2048||b.Ic||(b.i?0:bb(Lb,b)):bb(Lb,b))return Ac(this,He.a?He.a(b):He.call(null,b),Ie.a?Ie.a(b):Ie.call(null,b));for(var c=w(b),d=this;;){var e=z(c);if(t(e))c=A(c),d=Ac(d,He.a?He.a(e):He.call(null,e),Ie.a?Ie.a(e):Ie.call(null,e));else return d}}else throw Error("conj! after persistent!");};m.Db=function(){if(t(this.rb))return this.rb=!1,new Qa(null,Ee(this.kb),this.f,null);throw Error("persistent! called twice");};
m.Bb=function(a,b,c){if(t(this.rb)){a=$g(this.f,b);if(-1===a){if(this.kb+2<=2*fh)return this.kb+=2,this.f.push(b),this.f.push(c),this;a=hh.b?hh.b(this.kb,this.f):hh.call(null,this.kb,this.f);return Ac(a,b,c)}c!==this.f[a+1]&&(this.f[a+1]=c);return this}throw Error("assoc! after persistent!");};function hh(a,b){for(var c=vc(gh),d=0;;)if(d<a)c=Ac(c,b[d],b[d+1]),d+=2;else return c}function ih(){this.ca=!1}function jh(a,b){return a===b?!0:L(a,b)?!0:gd.b(a,b)}
function kh(a,b,c){a=fb(a);a[b]=c;return a}function lh(a,b){var c=Array(a.length-2);ne(a,0,c,0,2*b);ne(a,2*(b+1),c,2*b,c.length-2*b);return c}function mh(a,b,c,d){a=a.hb(b);a.f[c]=d;return a}function nh(a,b,c,d){this.f=a;this.m=b;this.Kb=c;this.Oa=d}nh.prototype.advance=function(){for(var a=this.f.length;;)if(this.m<a){var b=this.f[this.m],c=this.f[this.m+1];null!=b?b=this.Kb=new M(null,2,5,N,[b,c],null):null!=c?(b=Lc(c),b=b.xa()?this.Oa=b:!1):b=!1;this.m+=2;if(b)return!0}else return!1};
nh.prototype.xa=function(){var a=null!=this.Kb;return a?a:(a=null!=this.Oa)?a:this.advance()};nh.prototype.next=function(){if(null!=this.Kb){var a=this.Kb;this.Kb=null;return a}if(null!=this.Oa)return a=this.Oa.next(),this.Oa.xa()||(this.Oa=null),a;if(this.advance())return this.next();throw Error("No such element");};nh.prototype.remove=function(){return Error("Unsupported operation")};function oh(a,b,c){this.L=a;this.V=b;this.f=c}m=oh.prototype;
m.hb=function(a){if(a===this.L)return this;var b=Fe(this.V),c=Array(0>b?4:2*(b+1));ne(this.f,0,c,0,2*b);return new oh(a,this.V,c)};m.Hb=function(){return ph?ph(this.f):qh.call(null,this.f)};m.$a=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.V&e))return d;var f=Fe(this.V&e-1),e=this.f[2*f],f=this.f[2*f+1];return null==e?f.$a(a+5,b,c,d):jh(c,e)?f:d};
m.Na=function(a,b,c,d,e,f){var g=1<<(c>>>b&31),h=Fe(this.V&g-1);if(0===(this.V&g)){var l=Fe(this.V);if(2*l<this.f.length){a=this.hb(a);b=a.f;f.ca=!0;a:for(c=2*(l-h),f=2*h+(c-1),l=2*(h+1)+(c-1);;){if(0===c)break a;b[l]=b[f];--l;--c;--f}b[2*h]=d;b[2*h+1]=e;a.V|=g;return a}if(16<=l){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[c>>>b&31]=rh.Na(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0!==
(this.V>>>d&1)&&(h[d]=null!=this.f[e]?rh.Na(a,b+5,$c(this.f[e]),this.f[e],this.f[e+1],f):this.f[e+1],e+=2),d+=1;else break;return new sh(a,l+1,h)}b=Array(2*(l+4));ne(this.f,0,b,0,2*h);b[2*h]=d;b[2*h+1]=e;ne(this.f,2*h,b,2*(h+1),2*(l-h));f.ca=!0;a=this.hb(a);a.f=b;a.V|=g;return a}l=this.f[2*h];g=this.f[2*h+1];if(null==l)return l=g.Na(a,b+5,c,d,e,f),l===g?this:mh(this,a,2*h+1,l);if(jh(d,l))return e===g?this:mh(this,a,2*h+1,e);f.ca=!0;f=b+5;d=th?th(a,f,l,g,c,d,e):uh.call(null,a,f,l,g,c,d,e);e=2*h;h=
2*h+1;a=this.hb(a);a.f[e]=null;a.f[h]=d;return a};
m.Ma=function(a,b,c,d,e){var f=1<<(b>>>a&31),g=Fe(this.V&f-1);if(0===(this.V&f)){var h=Fe(this.V);if(16<=h){g=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];g[b>>>a&31]=rh.Ma(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0!==(this.V>>>c&1)&&(g[c]=null!=this.f[d]?rh.Ma(a+5,$c(this.f[d]),this.f[d],this.f[d+1],e):this.f[d+1],d+=2),c+=1;else break;return new sh(null,h+1,g)}a=Array(2*(h+1));ne(this.f,
0,a,0,2*g);a[2*g]=c;a[2*g+1]=d;ne(this.f,2*g,a,2*(g+1),2*(h-g));e.ca=!0;return new oh(null,this.V|f,a)}var l=this.f[2*g],f=this.f[2*g+1];if(null==l)return h=f.Ma(a+5,b,c,d,e),h===f?this:new oh(null,this.V,kh(this.f,2*g+1,h));if(jh(c,l))return d===f?this:new oh(null,this.V,kh(this.f,2*g+1,d));e.ca=!0;e=this.V;h=this.f;a+=5;a=vh?vh(a,l,f,b,c,d):uh.call(null,a,l,f,b,c,d);c=2*g;g=2*g+1;d=fb(h);d[c]=null;d[g]=a;return new oh(null,e,d)};
m.Ib=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.V&d))return this;var e=Fe(this.V&d-1),f=this.f[2*e],g=this.f[2*e+1];return null==f?(a=g.Ib(a+5,b,c),a===g?this:null!=a?new oh(null,this.V,kh(this.f,2*e+1,a)):this.V===d?null:new oh(null,this.V^d,lh(this.f,e))):jh(c,f)?new oh(null,this.V^d,lh(this.f,e)):this};m.Ia=function(){return new nh(this.f,0,null,null)};var rh=new oh(null,0,[]);function wh(a,b,c){this.f=a;this.m=b;this.Oa=c}
wh.prototype.xa=function(){for(var a=this.f.length;;){if(null!=this.Oa&&this.Oa.xa())return!0;if(this.m<a){var b=this.f[this.m];this.m+=1;null!=b&&(this.Oa=Lc(b))}else return!1}};wh.prototype.next=function(){if(this.xa())return this.Oa.next();throw Error("No such element");};wh.prototype.remove=function(){return Error("Unsupported operation")};function sh(a,b,c){this.L=a;this.o=b;this.f=c}m=sh.prototype;m.hb=function(a){return a===this.L?this:new sh(a,this.o,fb(this.f))};
m.Hb=function(){return xh?xh(this.f):yh.call(null,this.f)};m.$a=function(a,b,c,d){var e=this.f[b>>>a&31];return null!=e?e.$a(a+5,b,c,d):d};m.Na=function(a,b,c,d,e,f){var g=c>>>b&31,h=this.f[g];if(null==h)return a=mh(this,a,g,rh.Na(a,b+5,c,d,e,f)),a.o+=1,a;b=h.Na(a,b+5,c,d,e,f);return b===h?this:mh(this,a,g,b)};
m.Ma=function(a,b,c,d,e){var f=b>>>a&31,g=this.f[f];if(null==g)return new sh(null,this.o+1,kh(this.f,f,rh.Ma(a+5,b,c,d,e)));a=g.Ma(a+5,b,c,d,e);return a===g?this:new sh(null,this.o,kh(this.f,f,a))};
m.Ib=function(a,b,c){var d=b>>>a&31,e=this.f[d];if(null!=e){a=e.Ib(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.o)a:{e=this.f;a=e.length;b=Array(2*(this.o-1));c=0;for(var f=1,g=0;;)if(c<a)c!==d&&null!=e[c]&&(b[f]=e[c],f+=2,g|=1<<c),c+=1;else{d=new oh(null,g,b);break a}}else d=new sh(null,this.o-1,kh(this.f,d,a));else d=new sh(null,this.o,kh(this.f,d,a));return d}return this};m.Ia=function(){return new wh(this.f,0,null)};
function zh(a,b,c){b*=2;for(var d=0;;)if(d<b){if(jh(c,a[d]))return d;d+=2}else return-1}function Ah(a,b,c,d){this.L=a;this.Wa=b;this.o=c;this.f=d}m=Ah.prototype;m.hb=function(a){if(a===this.L)return this;var b=Array(2*(this.o+1));ne(this.f,0,b,0,2*this.o);return new Ah(a,this.Wa,this.o,b)};m.Hb=function(){return ph?ph(this.f):qh.call(null,this.f)};m.$a=function(a,b,c,d){a=zh(this.f,this.o,c);return 0>a?d:jh(c,this.f[a])?this.f[a+1]:d};
m.Na=function(a,b,c,d,e,f){if(c===this.Wa){b=zh(this.f,this.o,d);if(-1===b){if(this.f.length>2*this.o)return b=2*this.o,c=2*this.o+1,a=this.hb(a),a.f[b]=d,a.f[c]=e,f.ca=!0,a.o+=1,a;c=this.f.length;b=Array(c+2);ne(this.f,0,b,0,c);b[c]=d;b[c+1]=e;f.ca=!0;d=this.o+1;a===this.L?(this.f=b,this.o=d,a=this):a=new Ah(this.L,this.Wa,d,b);return a}return this.f[b+1]===e?this:mh(this,a,b+1,e)}return(new oh(a,1<<(this.Wa>>>b&31),[null,this,null,null])).Na(a,b,c,d,e,f)};
m.Ma=function(a,b,c,d,e){return b===this.Wa?(a=zh(this.f,this.o,c),-1===a?(a=2*this.o,b=Array(a+2),ne(this.f,0,b,0,a),b[a]=c,b[a+1]=d,e.ca=!0,new Ah(null,this.Wa,this.o+1,b)):gd.b(this.f[a],d)?this:new Ah(null,this.Wa,this.o,kh(this.f,a+1,d))):(new oh(null,1<<(this.Wa>>>a&31),[null,this])).Ma(a,b,c,d,e)};m.Ib=function(a,b,c){a=zh(this.f,this.o,c);return-1===a?this:1===this.o?null:new Ah(null,this.Wa,this.o-1,lh(this.f,Ee(a)))};m.Ia=function(){return new nh(this.f,0,null,null)};
function uh(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 6:return vh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return th(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error([u("Invalid arity: "),u(b.length)].join(""));}}
function vh(a,b,c,d,e,f){var g=$c(b);if(g===d)return new Ah(null,g,2,[b,c,e,f]);var h=new ih;return rh.Ma(a,g,b,c,h).Ma(a,d,e,f,h)}function th(a,b,c,d,e,f,g){var h=$c(c);if(h===e)return new Ah(null,h,2,[c,d,f,g]);var l=new ih;return rh.Na(a,b,h,c,d,l).Na(a,b,e,f,g,l)}function Bh(a,b,c,d,e){this.s=a;this.ab=b;this.m=c;this.F=d;this.v=e;this.i=32374860;this.B=0}m=Bh.prototype;m.toString=function(){return Nc(this)};m.equiv=function(a){return this.w(null,a)};
m.indexOf=function(){var a=null,a=function(a,c){switch(arguments.length){case 1:return Fd(this,a,0);case 2:return Fd(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.a=function(a){return Fd(this,a,0)};a.b=function(a,c){return Fd(this,a,c)};return a}();
m.lastIndexOf=function(){function a(a){return Ld(this,a,D(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return Ld(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=a;b.b=function(a,b){return Ld(this,a,b)};return b}();m.M=function(){return this.s};m.R=function(){var a=this.v;return null!=a?a:this.v=a=rd(this)};m.w=function(a,b){return Od(this,b)};m.ea=function(){return Sd(fd,this.s)};m.ua=function(a,b){return Td(b,this)};
m.va=function(a,b,c){return Wd(b,c,this)};m.wa=function(){return null==this.F?new M(null,2,5,N,[this.ab[this.m],this.ab[this.m+1]],null):z(this.F)};m.Ca=function(){var a=this,b=null==a.F?function(){var b=a.ab,d=a.m+2;return Ch?Ch(b,d,null):qh.call(null,b,d,null)}():function(){var b=a.ab,d=a.m,e=A(a.F);return Ch?Ch(b,d,e):qh.call(null,b,d,e)}();return null!=b?b:fd};m.Y=function(){return this};m.P=function(a,b){return new Bh(b,this.ab,this.m,this.F,this.v)};m.aa=function(a,b){return Pd(b,this)};
Bh.prototype[eb]=function(){return pd(this)};function qh(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 1:return ph(arguments[0]);case 3:return Ch(arguments[0],arguments[1],arguments[2]);default:throw Error([u("Invalid arity: "),u(b.length)].join(""));}}function ph(a){return Ch(a,0,null)}
function Ch(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Bh(null,a,b,null,null);var d=a[b+1];if(t(d)&&(d=d.Hb(),t(d)))return new Bh(null,a,b+2,d,null);b+=2}else return null;else return new Bh(null,a,b,c,null)}function Dh(a,b,c,d,e){this.s=a;this.ab=b;this.m=c;this.F=d;this.v=e;this.i=32374860;this.B=0}m=Dh.prototype;m.toString=function(){return Nc(this)};m.equiv=function(a){return this.w(null,a)};
m.indexOf=function(){var a=null,a=function(a,c){switch(arguments.length){case 1:return Fd(this,a,0);case 2:return Fd(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.a=function(a){return Fd(this,a,0)};a.b=function(a,c){return Fd(this,a,c)};return a}();
m.lastIndexOf=function(){function a(a){return Ld(this,a,D(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return Ld(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=a;b.b=function(a,b){return Ld(this,a,b)};return b}();m.M=function(){return this.s};m.R=function(){var a=this.v;return null!=a?a:this.v=a=rd(this)};m.w=function(a,b){return Od(this,b)};m.ea=function(){return Sd(fd,this.s)};m.ua=function(a,b){return Td(b,this)};
m.va=function(a,b,c){return Wd(b,c,this)};m.wa=function(){return z(this.F)};m.Ca=function(){var a;a=this.ab;var b=this.m,c=A(this.F);a=Eh?Eh(null,a,b,c):yh.call(null,null,a,b,c);return null!=a?a:fd};m.Y=function(){return this};m.P=function(a,b){return new Dh(b,this.ab,this.m,this.F,this.v)};m.aa=function(a,b){return Pd(b,this)};Dh.prototype[eb]=function(){return pd(this)};
function yh(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 1:return xh(arguments[0]);case 4:return Eh(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([u("Invalid arity: "),u(b.length)].join(""));}}function xh(a){return Eh(null,a,0,null)}function Eh(a,b,c,d){if(null==d)for(d=b.length;;)if(c<d){var e=b[c];if(t(e)&&(e=e.Hb(),t(e)))return new Dh(a,b,c+1,e,null);c+=1}else return null;else return new Dh(a,b,c,d,null)}
function Fh(a,b,c){this.Ea=a;this.zc=b;this.ic=c}Fh.prototype.xa=function(){return this.ic&&this.zc.xa()};Fh.prototype.next=function(){if(this.ic)return this.zc.next();this.ic=!0;return this.Ea};Fh.prototype.remove=function(){return Error("Unsupported operation")};function Gh(a,b,c,d,e,f){this.s=a;this.o=b;this.root=c;this.za=d;this.Ea=e;this.v=f;this.i=16123663;this.B=8196}m=Gh.prototype;m.toString=function(){return Nc(this)};m.equiv=function(a){return this.w(null,a)};
m.keys=function(){return pd(ch.a?ch.a(this):ch.call(null,this))};m.entries=function(){return new Yg(w(w(this)))};m.values=function(){return pd(dh.a?dh.a(this):dh.call(null,this))};m.has=function(a){return qe(this,a)};m.get=function(a,b){return this.O(null,a,b)};
m.forEach=function(a){for(var b=w(this),c=null,d=0,e=0;;)if(e<d){var f=c.T(null,e),g=F(f,0,null),f=F(f,1,null);a.b?a.b(f,g):a.call(null,f,g);e+=1}else if(b=w(b))le(b)?(c=Dc(b),b=Ec(b),g=c,d=D(c),c=g):(c=z(b),g=F(c,0,null),f=F(c,1,null),a.b?a.b(f,g):a.call(null,f,g),b=A(b),c=null,d=0),e=0;else return null};m.X=function(a,b){return Db.c(this,b,null)};m.O=function(a,b,c){return null==b?this.za?this.Ea:c:null==this.root?c:this.root.$a(0,$c(b),b,c)};
m.Ia=function(){var a=this.root?Lc(this.root):xf;return this.za?new Fh(this.Ea,a,!1):a};m.M=function(){return this.s};m.ba=function(){return this.o};m.R=function(){var a=this.v;return null!=a?a:this.v=a=td(this)};m.w=function(a,b){return Wg(this,b)};m.qb=function(){return new Hh({},this.root,this.o,this.za,this.Ea)};m.ea=function(){return $b(gh,this.s)};
m.yb=function(a,b){if(null==b)return this.za?new Gh(this.s,this.o-1,this.root,!1,null,null):this;if(null==this.root)return this;var c=this.root.Ib(0,$c(b),b);return c===this.root?this:new Gh(this.s,this.o-1,c,this.za,this.Ea,null)};m.fb=function(a,b,c){if(null==b)return this.za&&c===this.Ea?this:new Gh(this.s,this.za?this.o:this.o+1,this.root,!0,c,null);a=new ih;b=(null==this.root?rh:this.root).Ma(0,$c(b),b,c,a);return b===this.root?this:new Gh(this.s,a.ca?this.o+1:this.o,b,this.za,this.Ea,null)};
m.Ub=function(a,b){return null==b?this.za:null==this.root?!1:this.root.$a(0,$c(b),b,oe)!==oe};m.Y=function(){if(0<this.o){var a=null!=this.root?this.root.Hb():null;return this.za?Pd(new M(null,2,5,N,[null,this.Ea],null),a):a}return null};m.P=function(a,b){return new Gh(b,this.o,this.root,this.za,this.Ea,this.v)};
m.aa=function(a,b){if(ke(b))return Fb(this,vb.b(b,0),vb.b(b,1));for(var c=this,d=w(b);;){if(null==d)return c;var e=z(d);if(ke(e))c=Fb(c,vb.b(e,0),vb.b(e,1)),d=A(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
m.call=function(){var a=null,a=function(a,c,d){switch(arguments.length){case 2:return this.X(null,c);case 3:return this.O(null,c,d)}throw Error("Invalid arity: "+arguments.length);};a.b=function(a,c){return this.X(null,c)};a.c=function(a,c,d){return this.O(null,c,d)};return a}();m.apply=function(a,b){return this.call.apply(this,[this].concat(fb(b)))};m.a=function(a){return this.X(null,a)};m.b=function(a,b){return this.O(null,a,b)};var gh=new Gh(null,0,null,!1,null,ud);
function ce(a,b){for(var c=a.length,d=0,e=vc(gh);;)if(d<c)var f=d+1,e=e.Bb(null,a[d],b[d]),d=f;else return zc(e)}Gh.prototype[eb]=function(){return pd(this)};function Hh(a,b,c,d,e){this.L=a;this.root=b;this.count=c;this.za=d;this.Ea=e;this.i=258;this.B=56}function Ih(a,b,c){if(a.L){if(null==b)a.Ea!==c&&(a.Ea=c),a.za||(a.count+=1,a.za=!0);else{var d=new ih;b=(null==a.root?rh:a.root).Na(a.L,0,$c(b),b,c,d);b!==a.root&&(a.root=b);d.ca&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}
m=Hh.prototype;m.ba=function(){if(this.L)return this.count;throw Error("count after persistent!");};m.X=function(a,b){return null==b?this.za?this.Ea:null:null==this.root?null:this.root.$a(0,$c(b),b)};m.O=function(a,b,c){return null==b?this.za?this.Ea:c:null==this.root?c:this.root.$a(0,$c(b),b,c)};
m.Cb=function(a,b){var c;a:if(this.L)if(null!=b?b.i&2048||b.Ic||(b.i?0:bb(Lb,b)):bb(Lb,b))c=Ih(this,He.a?He.a(b):He.call(null,b),Ie.a?Ie.a(b):Ie.call(null,b));else{c=w(b);for(var d=this;;){var e=z(c);if(t(e))c=A(c),d=Ih(d,He.a?He.a(e):He.call(null,e),Ie.a?Ie.a(e):Ie.call(null,e));else{c=d;break a}}}else throw Error("conj! after persistent");return c};m.Db=function(){var a;if(this.L)this.L=null,a=new Gh(null,this.count,this.root,this.za,this.Ea,null);else throw Error("persistent! called twice");return a};
m.Bb=function(a,b,c){return Ih(this,b,c)};var Jf=function Jf(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Jf.l(0<c.length?new dd(c.slice(0),0,null):null)};Jf.l=function(a){for(var b=w(a),c=vc(gh);;)if(b){a=A(A(b));var d=z(b),b=Xd(b),c=Ac(c,d,b),b=a}else return zc(c)};Jf.A=0;Jf.C=function(a){return Jf.l(w(a))};function Jh(a,b){this.G=a;this.Ba=b;this.i=32374988;this.B=0}m=Jh.prototype;m.toString=function(){return Nc(this)};
m.equiv=function(a){return this.w(null,a)};m.indexOf=function(){var a=null,a=function(a,c){switch(arguments.length){case 1:return Fd(this,a,0);case 2:return Fd(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.a=function(a){return Fd(this,a,0)};a.b=function(a,c){return Fd(this,a,c)};return a}();
m.lastIndexOf=function(){function a(a){return Ld(this,a,D(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return Ld(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=a;b.b=function(a,b){return Ld(this,a,b)};return b}();m.M=function(){return this.Ba};m.ya=function(){var a=(null!=this.G?this.G.i&128||this.G.Nb||(this.G.i?0:bb(Ab,this.G)):bb(Ab,this.G))?this.G.ya(null):A(this.G);return null==a?null:new Jh(a,this.Ba)};m.R=function(){return rd(this)};
m.w=function(a,b){return Od(this,b)};m.ea=function(){return Sd(fd,this.Ba)};m.ua=function(a,b){return Td(b,this)};m.va=function(a,b,c){return Wd(b,c,this)};m.wa=function(){return this.G.wa(null).$b()};m.Ca=function(){var a=(null!=this.G?this.G.i&128||this.G.Nb||(this.G.i?0:bb(Ab,this.G)):bb(Ab,this.G))?this.G.ya(null):A(this.G);return null!=a?new Jh(a,this.Ba):fd};m.Y=function(){return this};m.P=function(a,b){return new Jh(this.G,b)};m.aa=function(a,b){return Pd(b,this)};Jh.prototype[eb]=function(){return pd(this)};
function ch(a){return(a=w(a))?new Jh(a,null):null}function He(a){return Mb(a)}function Kh(a,b){this.G=a;this.Ba=b;this.i=32374988;this.B=0}m=Kh.prototype;m.toString=function(){return Nc(this)};m.equiv=function(a){return this.w(null,a)};m.indexOf=function(){var a=null,a=function(a,c){switch(arguments.length){case 1:return Fd(this,a,0);case 2:return Fd(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.a=function(a){return Fd(this,a,0)};a.b=function(a,c){return Fd(this,a,c)};return a}();
m.lastIndexOf=function(){function a(a){return Ld(this,a,D(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return Ld(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=a;b.b=function(a,b){return Ld(this,a,b)};return b}();m.M=function(){return this.Ba};m.ya=function(){var a=(null!=this.G?this.G.i&128||this.G.Nb||(this.G.i?0:bb(Ab,this.G)):bb(Ab,this.G))?this.G.ya(null):A(this.G);return null==a?null:new Kh(a,this.Ba)};m.R=function(){return rd(this)};
m.w=function(a,b){return Od(this,b)};m.ea=function(){return Sd(fd,this.Ba)};m.ua=function(a,b){return Td(b,this)};m.va=function(a,b,c){return Wd(b,c,this)};m.wa=function(){return this.G.wa(null).ac()};m.Ca=function(){var a=(null!=this.G?this.G.i&128||this.G.Nb||(this.G.i?0:bb(Ab,this.G)):bb(Ab,this.G))?this.G.ya(null):A(this.G);return null!=a?new Kh(a,this.Ba):fd};m.Y=function(){return this};m.P=function(a,b){return new Kh(this.G,b)};m.aa=function(a,b){return Pd(b,this)};Kh.prototype[eb]=function(){return pd(this)};
function dh(a){return(a=w(a))?new Kh(a,null):null}function Ie(a){return Pb(a)}var Lh=function Lh(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Lh.l(0<c.length?new dd(c.slice(0),0,null):null)};Lh.l=function(a){return t(Df(se,a))?re(function(a,c){return Zd.b(t(a)?a:Bf,c)},a):null};Lh.A=0;Lh.C=function(a){return Lh.l(w(a))};function Mh(a){this.hc=a}Mh.prototype.xa=function(){return this.hc.xa()};
Mh.prototype.next=function(){if(this.hc.xa())return this.hc.next().K[0];throw Error("No such element");};Mh.prototype.remove=function(){return Error("Unsupported operation")};function Nh(a,b,c){this.s=a;this.ib=b;this.v=c;this.i=15077647;this.B=8196}m=Nh.prototype;m.toString=function(){return Nc(this)};m.equiv=function(a){return this.w(null,a)};m.keys=function(){return pd(w(this))};m.entries=function(){return new Zg(w(w(this)))};m.values=function(){return pd(w(this))};
m.has=function(a){return qe(this,a)};m.forEach=function(a){for(var b=w(this),c=null,d=0,e=0;;)if(e<d){var f=c.T(null,e),g=F(f,0,null),f=F(f,1,null);a.b?a.b(f,g):a.call(null,f,g);e+=1}else if(b=w(b))le(b)?(c=Dc(b),b=Ec(b),g=c,d=D(c),c=g):(c=z(b),g=F(c,0,null),f=F(c,1,null),a.b?a.b(f,g):a.call(null,f,g),b=A(b),c=null,d=0),e=0;else return null};m.X=function(a,b){return Db.c(this,b,null)};m.O=function(a,b,c){return Eb(this.ib,b)?b:c};m.Ia=function(){return new Mh(Lc(this.ib))};m.M=function(){return this.s};
m.ba=function(){return nb(this.ib)};m.R=function(){var a=this.v;return null!=a?a:this.v=a=td(this)};m.w=function(a,b){return he(b)&&D(this)===D(b)&&Cf(function(a){return function(b){return qe(a,b)}}(this),b)};m.qb=function(){return new Oh(vc(this.ib))};m.ea=function(){return Sd(Ph,this.s)};m.Y=function(){return ch(this.ib)};m.P=function(a,b){return new Nh(b,this.ib,this.v)};m.aa=function(a,b){return new Nh(this.s,be.c(this.ib,b,null),null)};
m.call=function(){var a=null,a=function(a,c,d){switch(arguments.length){case 2:return this.X(null,c);case 3:return this.O(null,c,d)}throw Error("Invalid arity: "+arguments.length);};a.b=function(a,c){return this.X(null,c)};a.c=function(a,c,d){return this.O(null,c,d)};return a}();m.apply=function(a,b){return this.call.apply(this,[this].concat(fb(b)))};m.a=function(a){return this.X(null,a)};m.b=function(a,b){return this.O(null,a,b)};var Ph=new Nh(null,Bf,ud);Nh.prototype[eb]=function(){return pd(this)};
function Oh(a){this.Za=a;this.B=136;this.i=259}m=Oh.prototype;m.Cb=function(a,b){this.Za=Ac(this.Za,b,null);return this};m.Db=function(){return new Nh(null,zc(this.Za),null)};m.ba=function(){return D(this.Za)};m.X=function(a,b){return Db.c(this,b,null)};m.O=function(a,b,c){return Db.c(this.Za,b,oe)===oe?c:b};
m.call=function(){function a(a,b,c){return Db.c(this.Za,b,oe)===oe?c:b}function b(a,b){return Db.c(this.Za,b,oe)===oe?null:b}var c=null,c=function(c,e,f){switch(arguments.length){case 2:return b.call(this,0,e);case 3:return a.call(this,0,e,f)}throw Error("Invalid arity: "+arguments.length);};c.b=b;c.c=a;return c}();m.apply=function(a,b){return this.call.apply(this,[this].concat(fb(b)))};m.a=function(a){return Db.c(this.Za,a,oe)===oe?null:a};m.b=function(a,b){return Db.c(this.Za,a,oe)===oe?b:a};
function Qe(a){if(null!=a&&(a.B&4096||a.Kc))return a.zb(null);if("string"===typeof a)return a;throw Error([u("Doesn't support name: "),u(a)].join(""));}function Qh(a,b,c){this.m=a;this.end=b;this.step=c}Qh.prototype.xa=function(){return 0<this.step?this.m<this.end:this.m>this.end};Qh.prototype.next=function(){var a=this.m;this.m+=this.step;return a};function Rh(a,b,c,d,e){this.s=a;this.start=b;this.end=c;this.step=d;this.v=e;this.i=32375006;this.B=8192}m=Rh.prototype;m.toString=function(){return Nc(this)};
m.equiv=function(a){return this.w(null,a)};m.indexOf=function(){var a=null,a=function(a,c){switch(arguments.length){case 1:return Fd(this,a,0);case 2:return Fd(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.a=function(a){return Fd(this,a,0)};a.b=function(a,c){return Fd(this,a,c)};return a}();
m.lastIndexOf=function(){function a(a){return Ld(this,a,D(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return Ld(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=a;b.b=function(a,b){return Ld(this,a,b)};return b}();m.T=function(a,b){if(b<nb(this))return this.start+b*this.step;if(this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};
m.Fa=function(a,b,c){return b<nb(this)?this.start+b*this.step:this.start>this.end&&0===this.step?this.start:c};m.Ia=function(){return new Qh(this.start,this.end,this.step)};m.M=function(){return this.s};m.ya=function(){return 0<this.step?this.start+this.step<this.end?new Rh(this.s,this.start+this.step,this.end,this.step,null):null:this.start+this.step>this.end?new Rh(this.s,this.start+this.step,this.end,this.step,null):null};m.ba=function(){return ab(kc(this))?0:Math.ceil((this.end-this.start)/this.step)};
m.R=function(){var a=this.v;return null!=a?a:this.v=a=rd(this)};m.w=function(a,b){return Od(this,b)};m.ea=function(){return Sd(fd,this.s)};m.ua=function(a,b){return yd(this,b)};m.va=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end)c=b.b?b.b(c,a):b.call(null,c,a),a+=this.step;else return c};m.wa=function(){return null==kc(this)?null:this.start};m.Ca=function(){return null!=kc(this)?new Rh(this.s,this.start+this.step,this.end,this.step,null):fd};
m.Y=function(){return 0<this.step?this.start<this.end?this:null:0>this.step?this.start>this.end?this:null:this.start===this.end?null:this};m.P=function(a,b){return new Rh(b,this.start,this.end,this.step,this.v)};m.aa=function(a,b){return Pd(b,this)};Rh.prototype[eb]=function(){return pd(this)};function Sh(a,b){return new Rh(null,a,b,1,null)}function Th(a){a:for(var b=a;;)if(w(b))b=A(b);else break a;return a}
function Uh(a,b,c,d,e,f,g){var h=Na;Na=null==Na?null:Na-1;try{if(null!=Na&&0>Na)return pc(a,"#");pc(a,c);if(0===Ya.a(f))w(g)&&pc(a,function(){var a=Vh.a(f);return t(a)?a:"..."}());else{if(w(g)){var l=z(g);b.c?b.c(l,a,f):b.call(null,l,a,f)}for(var k=A(g),n=Ya.a(f)-1;;)if(!k||null!=n&&0===n){w(k)&&0===n&&(pc(a,d),pc(a,function(){var a=Vh.a(f);return t(a)?a:"..."}()));break}else{pc(a,d);var p=z(k);c=a;g=f;b.c?b.c(p,c,g):b.call(null,p,c,g);var q=A(k);c=n-1;k=q;n=c}}return pc(a,e)}finally{Na=h}}
function Wh(a,b){for(var c=w(b),d=null,e=0,f=0;;)if(f<e){var g=d.T(null,f);pc(a,g);f+=1}else if(c=w(c))d=c,le(d)?(c=Dc(d),e=Ec(d),d=c,g=D(c),c=e,e=g):(g=z(d),pc(a,g),c=A(d),d=null,e=0),f=0;else return null}var Xh={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Yh(a){return[u('"'),u(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(a){return Xh[a]})),u('"')].join("")}
function ji(a,b){var c=pe(v.b(a,Va));return c?(c=null!=b?b.i&131072||b.Jc?!0:!1:!1)?null!=ge(b):c:c}
function ki(a,b,c){if(null==a)return pc(b,"nil");if(ji(c,a)){pc(b,"^");var d=ge(a);li.c?li.c(d,b,c):li.call(null,d,b,c);pc(b," ")}if(a.Eb)return a.Qb(a,b,c);if(null!=a&&(a.i&2147483648||a.fa))return a.U(null,b,c);if(!0===a||!1===a||"number"===typeof a)return pc(b,""+u(a));if(null!=a&&a.constructor===Object)return pc(b,"#js "),d=Zf.b(function(b){return new M(null,2,5,N,[Pe.a(b),a[b]],null)},me(a)),mi.u?mi.u(d,li,b,c):mi.call(null,d,li,b,c);if(Za(a))return Uh(b,li,"#js ["," ","]",c,a);if("string"==
typeof a)return t(Ua.a(c))?pc(b,Yh(a)):pc(b,a);if("function"==ia(a)){var e=a.name;c=t(function(){var a=null==e;return a?a:/^[\s\xa0]*$/.test(e)}())?"Function":e;return Wh(b,Rd(["#object[",c,' "',""+u(a),'"]'],0))}if(a instanceof Date)return c=function(a,b){for(var c=""+u(a);;)if(D(c)<b)c=[u("0"),u(c)].join("");else return c},Wh(b,Rd(['#inst "',""+u(a.getUTCFullYear()),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),
".",c(a.getUTCMilliseconds(),3),"-",'00:00"'],0));if(a instanceof RegExp)return Wh(b,Rd(['#"',a.source,'"'],0));if(t(a.constructor.gb))return Wh(b,Rd(["#object[",a.constructor.gb.replace(RegExp("/","g"),"."),"]"],0));e=a.constructor.name;c=t(function(){var a=null==e;return a?a:/^[\s\xa0]*$/.test(e)}())?"Object":e;return Wh(b,Rd(["#object[",c," ",""+u(a),"]"],0))}function li(a,b,c){var d=ni.a(c);return t(d)?(c=be.c(c,oi,ki),d.c?d.c(a,b,c):d.call(null,a,b,c)):ki(a,b,c)}
function pi(a,b){var c;if(null==a||ab(w(a)))c="";else{c=u;var d=new Ga;a:{var e=new Mc(d);li(z(a),e,b);for(var f=w(A(a)),g=null,h=0,l=0;;)if(l<h){var k=g.T(null,l);pc(e," ");li(k,e,b);l+=1}else if(f=w(f))g=f,le(g)?(f=Dc(g),h=Ec(g),g=f,k=D(f),f=h,h=k):(k=z(g),pc(e," "),li(k,e,b),f=A(g),g=null,h=0),l=0;else break a}c=""+c(d)}return c}
function mi(a,b,c,d){return Uh(c,function(a,c,d){var h=Mb(a);b.c?b.c(h,c,d):b.call(null,h,c,d);pc(c," ");a=Pb(a);return b.c?b.c(a,c,d):b.call(null,a,c,d)},"{",", ","}",d,w(a))}dd.prototype.fa=!0;dd.prototype.U=function(a,b,c){return Uh(b,li,"("," ",")",c,this)};Re.prototype.fa=!0;Re.prototype.U=function(a,b,c){return Uh(b,li,"("," ",")",c,this)};Bh.prototype.fa=!0;Bh.prototype.U=function(a,b,c){return Uh(b,li,"("," ",")",c,this)};ah.prototype.fa=!0;
ah.prototype.U=function(a,b,c){return Uh(b,li,"("," ",")",c,this)};Lg.prototype.fa=!0;Lg.prototype.U=function(a,b,c){return Uh(b,li,"("," ",")",c,this)};Ne.prototype.fa=!0;Ne.prototype.U=function(a,b,c){return Uh(b,li,"("," ",")",c,this)};Nd.prototype.fa=!0;Nd.prototype.U=function(a,b,c){return Uh(b,li,"("," ",")",c,this)};Gh.prototype.fa=!0;Gh.prototype.U=function(a,b,c){return mi(this,li,b,c)};Dh.prototype.fa=!0;Dh.prototype.U=function(a,b,c){return Uh(b,li,"("," ",")",c,this)};
Pg.prototype.fa=!0;Pg.prototype.U=function(a,b,c){return Uh(b,li,"["," ","]",c,this)};Nh.prototype.fa=!0;Nh.prototype.U=function(a,b,c){return Uh(b,li,"#{"," ","}",c,this)};jf.prototype.fa=!0;jf.prototype.U=function(a,b,c){return Uh(b,li,"("," ",")",c,this)};Gf.prototype.fa=!0;Gf.prototype.U=function(a,b,c){pc(b,"#object [cljs.core.Atom ");li(new Qa(null,1,[qi,this.state],null),b,c);return pc(b,"]")};Kh.prototype.fa=!0;Kh.prototype.U=function(a,b,c){return Uh(b,li,"("," ",")",c,this)};
M.prototype.fa=!0;M.prototype.U=function(a,b,c){return Uh(b,li,"["," ","]",c,this)};Ke.prototype.fa=!0;Ke.prototype.U=function(a,b){return pc(b,"()")};Qa.prototype.fa=!0;Qa.prototype.U=function(a,b,c){return mi(this,li,b,c)};Rh.prototype.fa=!0;Rh.prototype.U=function(a,b,c){return Uh(b,li,"("," ",")",c,this)};Jh.prototype.fa=!0;Jh.prototype.U=function(a,b,c){return Uh(b,li,"("," ",")",c,this)};Je.prototype.fa=!0;Je.prototype.U=function(a,b,c){return Uh(b,li,"("," ",")",c,this)};var ri=null;
function si(){null==ri&&(ri=If?If(0):Hf.call(null,0));return cd.a([u("G__"),u(Yf.b(ri,wd))].join(""))}function ti(){}var ui=function ui(b){if(null!=b&&null!=b.Fc)return b.Fc(b);var c=ui[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=ui._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("IEncodeJS.-clj-\x3ejs",b);};
function vi(a){return(null!=a?a.Ec||(a.Sc?0:bb(ti,a)):bb(ti,a))?ui(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof bd?wi.a?wi.a(a):wi.call(null,a):pi(Rd([a],0),Pa())}
var wi=function wi(b){if(null==b)return null;if(null!=b?b.Ec||(b.Sc?0:bb(ti,b)):bb(ti,b))return ui(b);if(b instanceof I)return Qe(b);if(b instanceof bd)return""+u(b);if(je(b)){var c={};b=w(b);for(var d=null,e=0,f=0;;)if(f<e){var g=d.T(null,f),h=F(g,0,null),g=F(g,1,null);c[vi(h)]=wi(g);f+=1}else if(b=w(b))le(b)?(e=Dc(b),b=Ec(b),d=e,e=D(e)):(e=z(b),d=F(e,0,null),e=F(e,1,null),c[vi(d)]=wi(e),b=A(b),d=null,e=0),f=0;else break;return c}if(null==b?0:null!=b?b.i&8||b.ld||(b.i?0:bb(pb,b)):bb(pb,b)){c=[];
b=w(Zf.b(wi,b));d=null;for(f=e=0;;)if(f<e)h=d.T(null,f),c.push(h),f+=1;else if(b=w(b))d=b,le(d)?(b=Dc(d),f=Ec(d),d=b,e=D(b),b=f):(b=z(d),c.push(b),b=A(d),d=null,e=0),f=0;else break;return c}return b};function xi(a){return Jd(a,Math.floor(Math.random()*D(a)))}var yi=null;function zi(){if(null==yi){var a=new Qa(null,3,[Ai,Bf,Bi,Bf,Ci,Bf],null);yi=If?If(a):Hf.call(null,a)}return yi}
function Di(a,b,c){var d=gd.b(b,c);if(!d&&!(d=qe(Ci.a(a).call(null,b),c))&&(d=ke(c))&&(d=ke(b)))if(d=D(c)===D(b))for(var d=!0,e=0;;)if(d&&e!==D(c))d=Di(a,b.a?b.a(e):b.call(null,e),c.a?c.a(e):c.call(null,e)),e+=1;else return d;else return d;else return d}function Ei(a){var b;b=zi();b=C.a?C.a(b):C.call(null,b);return wf(v.b(Ai.a(b),a))}function Fi(a,b,c,d){Yf.b(a,function(){return C.a?C.a(b):C.call(null,b)});Yf.b(c,function(){return C.a?C.a(d):C.call(null,d)})}
var Gi=function Gi(b,c,d){var e=(C.a?C.a(d):C.call(null,d)).call(null,b),e=t(t(e)?e.a?e.a(c):e.call(null,c):e)?!0:null;if(t(e))return e;e=function(){for(var a=Ei(c);;)if(0<D(a))Gi(b,z(a),d),a=ed(a);else return null}();if(t(e))return e;e=function(){for(var a=Ei(b);;)if(0<D(a))Gi(z(a),c,d),a=ed(a);else return null}();return t(e)?e:!1};function Hi(a,b,c){c=Gi(a,b,c);if(t(c))a=c;else{c=Di;var d;d=zi();d=C.a?C.a(d):C.call(null,d);a=c(d,a,b)}return a}
var Ii=function Ii(b,c,d,e,f,g,h){var l=jb(function(a,e){var g=F(e,0,null);F(e,1,null);if(Di(C.a?C.a(d):C.call(null,d),c,g)){var h;h=(h=null==a)?h:Hi(g,z(a),f);h=t(h)?e:a;if(!t(Hi(z(h),g,f)))throw Error([u("Multiple methods in multimethod '"),u(b),u("' match dispatch value: "),u(c),u(" -\x3e "),u(g),u(" and "),u(z(h)),u(", and neither is preferred")].join(""));return h}return a},null,C.a?C.a(e):C.call(null,e));if(t(l)){if(gd.b(C.a?C.a(h):C.call(null,h),C.a?C.a(d):C.call(null,d)))return Yf.u(g,be,
c,Xd(l)),Xd(l);Fi(g,e,h,d);return Ii(b,c,d,e,f,g,h)}return null};function Ji(a,b){throw Error([u("No method in multimethod '"),u(a),u("' for dispatch value: "),u(b)].join(""));}function Ki(a,b,c,d,e,f,g,h){this.name=a;this.h=b;this.Tc=c;this.Gb=d;this.tb=e;this.dd=f;this.Jb=g;this.wb=h;this.i=4194305;this.B=4352}m=Ki.prototype;
m.call=function(){function a(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E,H,K){a=this;var Y=vf(a.h,b,c,d,e,Rd([f,g,h,l,k,n,p,q,r,G,x,y,P,B,E,H,K],0)),ub=Li(this,Y);t(ub)||Ji(a.name,Y);return vf(ub,b,c,d,e,Rd([f,g,h,l,k,n,p,q,r,G,x,y,P,B,E,H,K],0))}function b(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E,H){a=this;var K=a.h.ra?a.h.ra(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E,H):a.h.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E,H),Y=Li(this,K);t(Y)||Ji(a.name,K);return Y.ra?Y.ra(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,
P,B,E,H):Y.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E,H)}function c(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E){a=this;var H=a.h.qa?a.h.qa(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E):a.h.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E),K=Li(this,H);t(K)||Ji(a.name,H);return K.qa?K.qa(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E):K.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,E)}function d(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B){a=this;var E=a.h.pa?a.h.pa(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B):a.h.call(null,b,
c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B),H=Li(this,E);t(H)||Ji(a.name,E);return H.pa?H.pa(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B):H.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B)}function e(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P){a=this;var B=a.h.oa?a.h.oa(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P):a.h.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P),E=Li(this,B);t(E)||Ji(a.name,B);return E.oa?E.oa(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P):E.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P)}function f(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,
x,y){a=this;var P=a.h.na?a.h.na(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y):a.h.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y),B=Li(this,P);t(B)||Ji(a.name,P);return B.na?B.na(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y):B.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y)}function g(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x){a=this;var y=a.h.ma?a.h.ma(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x):a.h.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x),P=Li(this,y);t(P)||Ji(a.name,y);return P.ma?P.ma(b,c,d,e,f,g,h,l,k,n,p,q,r,G,x):P.call(null,b,c,d,e,f,g,h,l,k,n,p,q,
r,G,x)}function h(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G){a=this;var x=a.h.la?a.h.la(b,c,d,e,f,g,h,l,k,n,p,q,r,G):a.h.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G),y=Li(this,x);t(y)||Ji(a.name,x);return y.la?y.la(b,c,d,e,f,g,h,l,k,n,p,q,r,G):y.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r,G)}function l(a,b,c,d,e,f,g,h,l,k,n,p,q,r){a=this;var G=a.h.ka?a.h.ka(b,c,d,e,f,g,h,l,k,n,p,q,r):a.h.call(null,b,c,d,e,f,g,h,l,k,n,p,q,r),x=Li(this,G);t(x)||Ji(a.name,G);return x.ka?x.ka(b,c,d,e,f,g,h,l,k,n,p,q,r):x.call(null,b,c,d,e,f,g,
h,l,k,n,p,q,r)}function k(a,b,c,d,e,f,g,h,l,k,n,p,q){a=this;var r=a.h.ja?a.h.ja(b,c,d,e,f,g,h,l,k,n,p,q):a.h.call(null,b,c,d,e,f,g,h,l,k,n,p,q),G=Li(this,r);t(G)||Ji(a.name,r);return G.ja?G.ja(b,c,d,e,f,g,h,l,k,n,p,q):G.call(null,b,c,d,e,f,g,h,l,k,n,p,q)}function n(a,b,c,d,e,f,g,h,l,k,n,p){a=this;var q=a.h.ia?a.h.ia(b,c,d,e,f,g,h,l,k,n,p):a.h.call(null,b,c,d,e,f,g,h,l,k,n,p),r=Li(this,q);t(r)||Ji(a.name,q);return r.ia?r.ia(b,c,d,e,f,g,h,l,k,n,p):r.call(null,b,c,d,e,f,g,h,l,k,n,p)}function p(a,b,c,
d,e,f,g,h,l,k,n){a=this;var p=a.h.ha?a.h.ha(b,c,d,e,f,g,h,l,k,n):a.h.call(null,b,c,d,e,f,g,h,l,k,n),q=Li(this,p);t(q)||Ji(a.name,p);return q.ha?q.ha(b,c,d,e,f,g,h,l,k,n):q.call(null,b,c,d,e,f,g,h,l,k,n)}function q(a,b,c,d,e,f,g,h,l,k){a=this;var n=a.h.da?a.h.da(b,c,d,e,f,g,h,l,k):a.h.call(null,b,c,d,e,f,g,h,l,k),p=Li(this,n);t(p)||Ji(a.name,n);return p.da?p.da(b,c,d,e,f,g,h,l,k):p.call(null,b,c,d,e,f,g,h,l,k)}function r(a,b,c,d,e,f,g,h,l){a=this;var k=a.h.ta?a.h.ta(b,c,d,e,f,g,h,l):a.h.call(null,
b,c,d,e,f,g,h,l),n=Li(this,k);t(n)||Ji(a.name,k);return n.ta?n.ta(b,c,d,e,f,g,h,l):n.call(null,b,c,d,e,f,g,h,l)}function x(a,b,c,d,e,f,g,h){a=this;var l=a.h.sa?a.h.sa(b,c,d,e,f,g,h):a.h.call(null,b,c,d,e,f,g,h),k=Li(this,l);t(k)||Ji(a.name,l);return k.sa?k.sa(b,c,d,e,f,g,h):k.call(null,b,c,d,e,f,g,h)}function y(a,b,c,d,e,f,g){a=this;var h=a.h.$?a.h.$(b,c,d,e,f,g):a.h.call(null,b,c,d,e,f,g),l=Li(this,h);t(l)||Ji(a.name,h);return l.$?l.$(b,c,d,e,f,g):l.call(null,b,c,d,e,f,g)}function B(a,b,c,d,e,f){a=
this;var g=a.h.D?a.h.D(b,c,d,e,f):a.h.call(null,b,c,d,e,f),h=Li(this,g);t(h)||Ji(a.name,g);return h.D?h.D(b,c,d,e,f):h.call(null,b,c,d,e,f)}function E(a,b,c,d,e){a=this;var f=a.h.u?a.h.u(b,c,d,e):a.h.call(null,b,c,d,e),g=Li(this,f);t(g)||Ji(a.name,f);return g.u?g.u(b,c,d,e):g.call(null,b,c,d,e)}function K(a,b,c,d){a=this;var e=a.h.c?a.h.c(b,c,d):a.h.call(null,b,c,d),f=Li(this,e);t(f)||Ji(a.name,e);return f.c?f.c(b,c,d):f.call(null,b,c,d)}function G(a,b,c){a=this;var d=a.h.b?a.h.b(b,c):a.h.call(null,
b,c),e=Li(this,d);t(e)||Ji(a.name,d);return e.b?e.b(b,c):e.call(null,b,c)}function Y(a,b){a=this;var c=a.h.a?a.h.a(b):a.h.call(null,b),d=Li(this,c);t(d)||Ji(a.name,c);return d.a?d.a(b):d.call(null,b)}function P(a){a=this;var b=a.h.j?a.h.j():a.h.call(null),c=Li(this,b);t(c)||Ji(a.name,b);return c.j?c.j():c.call(null)}var H=null,H=function(H,da,Q,T,X,R,S,ca,ea,ba,U,V,aa,pa,Ba,oa,va,Sa,Ta,$a,Ha,kb){switch(arguments.length){case 1:return P.call(this,H);case 2:return Y.call(this,H,da);case 3:return G.call(this,
H,da,Q);case 4:return K.call(this,H,da,Q,T);case 5:return E.call(this,H,da,Q,T,X);case 6:return B.call(this,H,da,Q,T,X,R);case 7:return y.call(this,H,da,Q,T,X,R,S);case 8:return x.call(this,H,da,Q,T,X,R,S,ca);case 9:return r.call(this,H,da,Q,T,X,R,S,ca,ea);case 10:return q.call(this,H,da,Q,T,X,R,S,ca,ea,ba);case 11:return p.call(this,H,da,Q,T,X,R,S,ca,ea,ba,U);case 12:return n.call(this,H,da,Q,T,X,R,S,ca,ea,ba,U,V);case 13:return k.call(this,H,da,Q,T,X,R,S,ca,ea,ba,U,V,aa);case 14:return l.call(this,
H,da,Q,T,X,R,S,ca,ea,ba,U,V,aa,pa);case 15:return h.call(this,H,da,Q,T,X,R,S,ca,ea,ba,U,V,aa,pa,Ba);case 16:return g.call(this,H,da,Q,T,X,R,S,ca,ea,ba,U,V,aa,pa,Ba,oa);case 17:return f.call(this,H,da,Q,T,X,R,S,ca,ea,ba,U,V,aa,pa,Ba,oa,va);case 18:return e.call(this,H,da,Q,T,X,R,S,ca,ea,ba,U,V,aa,pa,Ba,oa,va,Sa);case 19:return d.call(this,H,da,Q,T,X,R,S,ca,ea,ba,U,V,aa,pa,Ba,oa,va,Sa,Ta);case 20:return c.call(this,H,da,Q,T,X,R,S,ca,ea,ba,U,V,aa,pa,Ba,oa,va,Sa,Ta,$a);case 21:return b.call(this,H,da,
Q,T,X,R,S,ca,ea,ba,U,V,aa,pa,Ba,oa,va,Sa,Ta,$a,Ha);case 22:return a.call(this,H,da,Q,T,X,R,S,ca,ea,ba,U,V,aa,pa,Ba,oa,va,Sa,Ta,$a,Ha,kb)}throw Error("Invalid arity: "+arguments.length);};H.a=P;H.b=Y;H.c=G;H.u=K;H.D=E;H.$=B;H.sa=y;H.ta=x;H.da=r;H.ha=q;H.ia=p;H.ja=n;H.ka=k;H.la=l;H.ma=h;H.na=g;H.oa=f;H.pa=e;H.qa=d;H.ra=c;H.Zb=b;H.xb=a;return H}();m.apply=function(a,b){return this.call.apply(this,[this].concat(fb(b)))};
m.j=function(){var a=this.h.j?this.h.j():this.h.call(null),b=Li(this,a);t(b)||Ji(this.name,a);return b.j?b.j():b.call(null)};m.a=function(a){var b=this.h.a?this.h.a(a):this.h.call(null,a),c=Li(this,b);t(c)||Ji(this.name,b);return c.a?c.a(a):c.call(null,a)};m.b=function(a,b){var c=this.h.b?this.h.b(a,b):this.h.call(null,a,b),d=Li(this,c);t(d)||Ji(this.name,c);return d.b?d.b(a,b):d.call(null,a,b)};
m.c=function(a,b,c){var d=this.h.c?this.h.c(a,b,c):this.h.call(null,a,b,c),e=Li(this,d);t(e)||Ji(this.name,d);return e.c?e.c(a,b,c):e.call(null,a,b,c)};m.u=function(a,b,c,d){var e=this.h.u?this.h.u(a,b,c,d):this.h.call(null,a,b,c,d),f=Li(this,e);t(f)||Ji(this.name,e);return f.u?f.u(a,b,c,d):f.call(null,a,b,c,d)};m.D=function(a,b,c,d,e){var f=this.h.D?this.h.D(a,b,c,d,e):this.h.call(null,a,b,c,d,e),g=Li(this,f);t(g)||Ji(this.name,f);return g.D?g.D(a,b,c,d,e):g.call(null,a,b,c,d,e)};
m.$=function(a,b,c,d,e,f){var g=this.h.$?this.h.$(a,b,c,d,e,f):this.h.call(null,a,b,c,d,e,f),h=Li(this,g);t(h)||Ji(this.name,g);return h.$?h.$(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};m.sa=function(a,b,c,d,e,f,g){var h=this.h.sa?this.h.sa(a,b,c,d,e,f,g):this.h.call(null,a,b,c,d,e,f,g),l=Li(this,h);t(l)||Ji(this.name,h);return l.sa?l.sa(a,b,c,d,e,f,g):l.call(null,a,b,c,d,e,f,g)};
m.ta=function(a,b,c,d,e,f,g,h){var l=this.h.ta?this.h.ta(a,b,c,d,e,f,g,h):this.h.call(null,a,b,c,d,e,f,g,h),k=Li(this,l);t(k)||Ji(this.name,l);return k.ta?k.ta(a,b,c,d,e,f,g,h):k.call(null,a,b,c,d,e,f,g,h)};m.da=function(a,b,c,d,e,f,g,h,l){var k=this.h.da?this.h.da(a,b,c,d,e,f,g,h,l):this.h.call(null,a,b,c,d,e,f,g,h,l),n=Li(this,k);t(n)||Ji(this.name,k);return n.da?n.da(a,b,c,d,e,f,g,h,l):n.call(null,a,b,c,d,e,f,g,h,l)};
m.ha=function(a,b,c,d,e,f,g,h,l,k){var n=this.h.ha?this.h.ha(a,b,c,d,e,f,g,h,l,k):this.h.call(null,a,b,c,d,e,f,g,h,l,k),p=Li(this,n);t(p)||Ji(this.name,n);return p.ha?p.ha(a,b,c,d,e,f,g,h,l,k):p.call(null,a,b,c,d,e,f,g,h,l,k)};m.ia=function(a,b,c,d,e,f,g,h,l,k,n){var p=this.h.ia?this.h.ia(a,b,c,d,e,f,g,h,l,k,n):this.h.call(null,a,b,c,d,e,f,g,h,l,k,n),q=Li(this,p);t(q)||Ji(this.name,p);return q.ia?q.ia(a,b,c,d,e,f,g,h,l,k,n):q.call(null,a,b,c,d,e,f,g,h,l,k,n)};
m.ja=function(a,b,c,d,e,f,g,h,l,k,n,p){var q=this.h.ja?this.h.ja(a,b,c,d,e,f,g,h,l,k,n,p):this.h.call(null,a,b,c,d,e,f,g,h,l,k,n,p),r=Li(this,q);t(r)||Ji(this.name,q);return r.ja?r.ja(a,b,c,d,e,f,g,h,l,k,n,p):r.call(null,a,b,c,d,e,f,g,h,l,k,n,p)};m.ka=function(a,b,c,d,e,f,g,h,l,k,n,p,q){var r=this.h.ka?this.h.ka(a,b,c,d,e,f,g,h,l,k,n,p,q):this.h.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q),x=Li(this,r);t(x)||Ji(this.name,r);return x.ka?x.ka(a,b,c,d,e,f,g,h,l,k,n,p,q):x.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q)};
m.la=function(a,b,c,d,e,f,g,h,l,k,n,p,q,r){var x=this.h.la?this.h.la(a,b,c,d,e,f,g,h,l,k,n,p,q,r):this.h.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r),y=Li(this,x);t(y)||Ji(this.name,x);return y.la?y.la(a,b,c,d,e,f,g,h,l,k,n,p,q,r):y.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r)};
m.ma=function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x){var y=this.h.ma?this.h.ma(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x):this.h.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x),B=Li(this,y);t(B)||Ji(this.name,y);return B.ma?B.ma(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x):B.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x)};
m.na=function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y){var B=this.h.na?this.h.na(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y):this.h.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y),E=Li(this,B);t(E)||Ji(this.name,B);return E.na?E.na(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y):E.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y)};
m.oa=function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B){var E=this.h.oa?this.h.oa(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B):this.h.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B),K=Li(this,E);t(K)||Ji(this.name,E);return K.oa?K.oa(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B):K.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B)};
m.pa=function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E){var K=this.h.pa?this.h.pa(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E):this.h.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E),G=Li(this,K);t(G)||Ji(this.name,K);return G.pa?G.pa(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E):G.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E)};
m.qa=function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K){var G=this.h.qa?this.h.qa(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K):this.h.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K),Y=Li(this,G);t(Y)||Ji(this.name,G);return Y.qa?Y.qa(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K):Y.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K)};
m.ra=function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G){var Y=this.h.ra?this.h.ra(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G):this.h.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G),P=Li(this,Y);t(P)||Ji(this.name,Y);return P.ra?P.ra(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G):P.call(null,a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G)};
m.Zb=function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G,Y){var P=vf(this.h,a,b,c,d,Rd([e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G,Y],0)),H=Li(this,P);t(H)||Ji(this.name,P);return vf(H,a,b,c,d,Rd([e,f,g,h,l,k,n,p,q,r,x,y,B,E,K,G,Y],0))};function Mi(a,b,c){Yf.u(a.tb,be,b,c);Fi(a.Jb,a.tb,a.wb,a.Gb)}
function Li(a,b){gd.b(C.a?C.a(a.wb):C.call(null,a.wb),C.a?C.a(a.Gb):C.call(null,a.Gb))||Fi(a.Jb,a.tb,a.wb,a.Gb);var c=(C.a?C.a(a.Jb):C.call(null,a.Jb)).call(null,b);if(t(c))return c;c=Ii(a.name,b,a.Gb,a.tb,a.dd,a.Jb,a.wb);return t(c)?c:(C.a?C.a(a.tb):C.call(null,a.tb)).call(null,a.Tc)}m.zb=function(){return Hc(this.name)};m.Ab=function(){return Ic(this.name)};m.R=function(){return this[ka]||(this[ka]=++la)};var Ni=new I(null,"y","y",-1757859776),Oi=new I(null,"fire","fire",-144730624),Pi=new I(null,"shift","shift",997140064),Qi=new I(null,"dleft","dleft",-905011424),Ri=new I(null,"mouseup","mouseup",350619456),Si=new I(null,"tl2","tl2",738340704),Ti=new I(null,"dpad-up","dpad-up",-581516384),Ui=new I(null,"lose-low","lose-low",-1815682815),Vi=new I(null,"particle-opts","particle-opts",230885857),Wi=new I(null,"passable?","passable?",1012306625),Xi=new I(null,"tiling","tiling",-1693991967),Yi=new I(null,
"nearest","nearest",1176353890),Zi=new I(null,"down","down",1565245570),$i=new I(null,"children","children",-940561982),aj=new I(null,"origins","origins",-1970258462),bj=new I(null,"fullscreen-fn","fullscreen-fn",1444163170),cj=new I(null,"mass","mass",-2138950046),dj=new I(null,"r","r",-471384190),ej=new I(null,"space","space",348133475),fj=new I(null,"dright","dright",142530659),gj=new I(null,"home","home",-74557309),hj=new I(null,"xbox","xbox",568763555),ij=new I(null,"touchmove","touchmove",1885249923),
jj=new I(null,"heart","heart",1848849955),kj=new I(null,"insert","insert",1286475395),lj=new I(null,"f8","f8",-2141475484),mj=new I(null,"hash","hash",-13781596),nj=new I(null,"rotation","rotation",-1728051644),Va=new I(null,"meta","meta",1499536964),oj=new I(null,"stage","stage",1843544772),pj=new I(null,"lose-high","lose-high",631817988),qj=new I(null,"f1","f1",1714532389),rj=new I(null,"left-dpad","left-dpad",-636533659),sj=new I(null,"bumper-right","bumper-right",-1259439995),tj=new bd(null,"blockable",
"blockable",-28395259,null),Wa=new I(null,"dup","dup",556298533),uj=new I(null,"buttonmode","buttonmode",-1800695483),vj=new I(null,"running?","running?",-257884763),wj=new I(null,"f10","f10",627525541),xj=new I(null,"lion","lion",1707241445),yj=new I(null,"hit","hit",1909257382),zj=new I(null,"A","A",-1688942394),Aj=new I(null,"tl","tl",-35265210),Bj=new I(null,"private","private",-558947994),Cj=new I(null,"render-fn","render-fn",398796518),Dj=new I(null,"alt","alt",-3214426),Ej=new I(null,"trigger-right",
"trigger-right",840073158),Fj=new I(null,"enemy4","enemy4",1402118247),Gj=new I(null,"startup","startup",1974425703),Hj=new I(null,"scale","scale",-230427353),Ij=new I(null,"kerning","kerning",702175623),Jj=new I(null,"top","top",-1856271961),Kj=new I(null,"esc","esc",-1671924121),Lj=new I(null,"right-dpad","right-dpad",1479486183),Mj=new I(null,"itr2","itr2",1058277287),Wf=new I(null,"validator","validator",-1966190681),Nj=new I(null,"highlight","highlight",-800930873),Oj=new I(null,"fade-out","fade-out",
-1200160760),Pj=new I(null,"default","default",-1987822328),Qj=new I(null,"finally-block","finally-block",832982472),Rj=new I(null,"walldec1","walldec1",1703852712),Sj=new I(null,"tr2","tr2",59205833),Tj=new I(null,"die2","die2",1564139177),Uj=new I(null,"comma","comma",1699024745),Vj=new I(null,"t2","t2",-748855222),Wj=new I(null,"tr","tr",-1424774646),Xj=new I(null,"bl","bl",8157834),Yj=new I(null,"space-padding","space-padding",-1788019062),Zj=new I(null,"minus-v-edge","minus-v-edge",855862186),
ak=new I(null,"numlock","numlock",-1383996470),bk=new I(null,"ddown","ddown",-1732626293),jk=new I(null,"width","width",-384071477),kk=new I(null,"start","start",-355208981),lk=new I(null,"background","background",-863952629),mk=new I(null,"lowlight-width","lowlight-width",-984309493),nk=new I(null,"left-trigger","left-trigger",-1587109429),ok=new I(null,"max-speed","max-speed",-997417461),pk=new I(null,"f5","f5",1587057387),qk=new I(null,"pageup","pageup",1714543403),rk=new I(null,"enemy3","enemy3",
-1943092309),sk=new I(null,"pos","pos",-864607220),qi=new I(null,"val","val",128701612),O=new I(null,"recur","recur",-437573268),tk=new I(null,"B","B",-1422503380),uk=new I(null,"catch-block","catch-block",1175212748),vk=new I(null,"delete","delete",-1768633620),wk=new I(null,"switch1","switch1",510541644),xk=new I(null,"duration","duration",1444101068),yk=new I(null,"enemy2","enemy2",1098466701),oi=new I(null,"fallback-impl","fallback-impl",-1501286995),zk=new I(null,"xoffset","xoffset",-583124371),
Ak=new I(null,"sword","sword",-1447473555),Ra=new I(null,"flush-on-newline","flush-on-newline",-151457939),Bk=new I(null,"ibl2","ibl2",777338926),Ck=new I(null,"/","/",1282502798),Dk=new I(null,"dpad-down","dpad-down",976289230),Fk=new I(null,"enemy1","enemy1",-921641202),Gk=new I(null,"yoffset","yoffset",-1944748114),Ik=new I(null,"bottom-right","bottom-right",956401646),Jk=new I(null,"dpad-left","dpad-left",770792559),Kk=new I(null,"l","l",1395893423),Lk=new I(null,"up","up",-269712113),Bi=new I(null,
"descendants","descendants",1824886031),Mk=new I(null,"canvas","canvas",-1798817489),Nk=new I(null,"renderer","renderer",336841071),Ok=new I(null,"font","font",-1506159249),Pk=new I(null,"size","size",1098693007),Qk=new I(null,"title","title",636505583),Rk=new I(null,"ibr2","ibr2",-102474769),Sk=new I(null,"tint","tint",-1286736913),Tk=new I(null,"center","center",-748944368),Uk=new I(null,"down-dpad","down-dpad",355273744),Vk=new I(null,"enter","enter",1792452624),Ci=new I(null,"ancestors","ancestors",
-776045424),Wk=new I(null,"small","small",2133478704),Xk=new I(null,"backtick","backtick",44770640),Yk=new I(null,"bottom-left","bottom-left",1607421488),Zk=new I(null,"rb","rb",1673817808),Ua=new I(null,"readably","readably",1129599760),$k=new bd(null,"box","box",-1123515375,null),Vh=new I(null,"more-marker","more-marker",-14717935),al=new I(null,"world","world",-418292623),bl=new I(null,"enemy","enemy",-956472047),cl=new I(null,"z","z",-789527183),dl=new I(null,"divider","divider",1265972657),el=
new I(null,"f11","f11",-1417398799),fl=new I(null,"right-bumper","right-bumper",102520465),gl=new I(null,"swoosh","swoosh",642245265),hl=new I(null,"door","door",-956406127),il=new I(null,"hearts","hearts",-701365391),jl=new I(null,"particle","particle",-1614503951),kl=new I(null,"texture-map","texture-map",246399026),ll=new I(null,"mousemove","mousemove",-1077794734),ml=new I(null,"right-trigger","right-trigger",-1735119790),nl=new I(null,"border-width","border-width",-1512605390),ol=new I(null,
"damage","damage",970520018),pl=new I(null,"h-edge","h-edge",361728594),ql=new I(null,"walldec3","walldec3",-1561933166),rl=new I(null,"chest","chest",2066810546),sl=new I(null,"border-colour","border-colour",-173895822),tl=new I(null,"itl2","itl2",82387858),ul=new I(null,"lb","lb",-690221037),vl=new I(null,"layer","layer",-1601820589),wl=new I(null,"tilemap","tilemap",407449043),xl=new I(null,".",".",335144435),yl=new I(null,"lose2","lose2",-1279954413),zl=new I(null,"f3","f3",1954829043),Al=new bd(null,
"val","val",1769233139,null),Bl=new I(null,"quote","quote",-262615245),Cl=new I(null,"ui","ui",-469653645),Dl=new I(null,"tiling-width","tiling-width",-97440781),El=new I(null,"touchstart","touchstart",369858804),Ya=new I(null,"print-length","print-length",1931866356),Fl=new I(null,"ibl1","ibl1",971760916),Gl=new I(null,"empty-colour","empty-colour",-1488420524),Hl=new I(null,"rubble4","rubble4",-279774860),Il=new I(null,"f2","f2",396168596),Jl=new I(null,"Y","Y",-560717356),Kl=new I(null,"back",
"back",-417520012),Ll=new I(null,"control","control",1892578036),Ml=new I(null,"max-force","max-force",-983508172),Nl=new I(null,"score","score",-1963588780),Ol=new I(null,"rt","rt",623480692),Pl=new I(null,"yhandle","yhandle",608395252),Ql=new I(null,"catch-exception","catch-exception",-1997306795),Rl=new I(null,"v-edge","v-edge",1520206005),Sl=new I(null,"hurt-low","hurt-low",-1277791051),Tl=new I(null,"squareleft","squareleft",-1212370731),Ul=new I(null,"itr1","itr1",-262287115),Vl=new I(null,
"dpad-right","dpad-right",-519676523),Wl=new I(null,"touchup","touchup",890910229),Ai=new I(null,"parents","parents",-2027538891),Xl=new I(null,"scrolllock","scrolllock",-960203019),Yl=new I(null,"specr","specr",1354208117),Zl=new I(null,"walldec4","walldec4",1899284405),$l=new I(null,"tile-size","tile-size",441420757),am=new I(null,"prev","prev",-1597069226),bm=new I(null,"tiling-height","tiling-height",-1474681674),cm=new I(null,"f12","f12",853352790),dm=new I(null,"capslock","capslock",442493366),
em=new I(null,"continue-block","continue-block",-1852047850),fm=new I(null,"b","b",1482224470),gm=new I(null,"rubble3","rubble3",-1991962730),hm=new I(null,"top-text","top-text",-2128423946),im=new I(null,"alpha","alpha",-1574982441),jm=new I(null,"translate","translate",1336199447),km=new I(null,"right","right",-452581833),lm=new I(null,"health","health",-295520649),mm=new I(null,"expand-fn","expand-fn",492373783),nm=new I(null,"trigger-left","trigger-left",1924771607),om=new I(null,"default-layer",
"default-layer",385967031),pm=new I(null,"layers","layers",1944875032),qm=new I(null,"pagedown","pagedown",-2069718984),rm=new I(null,"position","position",-2011731912),sm=new I(null,"player","player",-97687400),tm=new I(null,"portcullis","portcullis",801919160),um=new I(null,"highlight-width","highlight-width",1191874776),vm=new I(null,"image","image",-58725096),wm=new I(null,"lowlight","lowlight",2143243768),xm=new I(null,"pause","pause",-2095325672),ym=new I(null,"br","br",934104792),zm=new I(null,
"backspace","backspace",-696007848),Am=new I(null,"itl1","itl1",1720072056),Bm=new I(null,"f7","f7",356150168),Cm=new I(null,"X","X",1705996313),Dm=new I(null,"x","x",2099068185),Em=new I(null,"effect","effect",347343289),Fm=new I(null,"bumper-left","bumper-left",316788185),Gm=new I(null,"audio","audio",1819127321),Hm=new I(null,"engine","engine",1459054265),Im=new I(null,"anchor","anchor",1549638489),Jm=new I(null,"tiles2","tiles2",-1848084615),Km=new I(null,"linear","linear",872268697),Lm=new I(null,
"touchupoutside","touchupoutside",2132569017),Mm=new I(null,"blip1","blip1",925689849),Nm=new I(null,"lowlight-offset","lowlight-offset",-612034438),Om=new I(null,"enemies","enemies",2114285722),Pm=new I(null,"draw-border","draw-border",-1950022342),Qm=new I(null,"left-bumper","left-bumper",2056098138),Sm=new I(null,"vel","vel",-110770822),Af=new bd(null,"quote","quote",1377916282,null),Tm=new I(null,"above","above",-1286866470),Um=new I(null,"f9","f9",704633338),Vm=new I(null,"end","end",-268185958),
Wm=new I(null,"full-colour","full-colour",50761434),Xm=new I(null,"mousedown","mousedown",1391242074),zf=new I(null,"arglists","arglists",1661989754),yf=new bd(null,"nil-iter","nil-iter",1101030523,null),Ym=new I(null,"walldec2","walldec2",1149440155),Zm=new I(null,"visible","visible",-1024216805),$m=new I(null,"hierarchy","hierarchy",-1053470341),an=new I(null,"rubble1","rubble1",2066741755),bn=new I(null,"tab","tab",-559583621),ni=new I(null,"alt-impl","alt-impl",670969595),cn=new I(null,"backdrop",
"backdrop",-1291357381),dn=new I(null,"bg","bg",-206688421),en=new I(null,"specl","specl",673838939),fn=new I(null,"lt","lt",421989243),gn=new bd(null,"fn-handler","fn-handler",648785851,null),hn=new I(null,"prevent-defaults","prevent-defaults",977810460),jn=new I(null,"tr1","tr1",996217980),kn=new I(null,"t1","t1",24972444),ln=new I(null,"rubble2","rubble2",1353189564),mn=new I(null,"f6","f6",2103080604),nn=new I(null,"auto","auto",-566279492),on=new I(null,"mouseupoutside","mouseupoutside",190065436),
pn=new I(null,"f4","f4",990968764),qn=new I(null,"expand","expand",595248157),rn=new I(null,"below","below",-926774883),sn=new I(null,"texture","texture",-266291651),tn=new I(null,"floor","floor",1882041021),un=new I(null,"ibr1","ibr1",-1536706819),vn=new I(null,"touchdown","touchdown",425229502),wn=new I(null,"fullscreen-button","fullscreen-button",1597770110),xn=new I(null,"resize-fn","resize-fn",2017140158),yn=new I(null,"char","char",-641587586),zn=new I(null,"a","a",-2123407586),An=new I(null,
"highlight-offset","highlight-offset",-1920235650),Bn=new I(null,"backslash","backslash",1790786526),Cn=new I(null,"height","height",1025178622),Dn=new I(null,"tl1","tl1",1047182431),wo=new I(null,"minus-h-edge","minus-h-edge",498490559),xo=new I(null,"left","left",-399115937),yo=new I(null,"squareright","squareright",1890515359),zo=new I(null,"up-dpad","up-dpad",-1769393697),Ao=new I(null,"fade-in","fade-in",999370239),Bo=new I(null,"text","text",-1790561697),Co=new I(null,"to","to",192099007),Do=
new I(null,"xhandle","xhandle",373504767),Eo=new bd(null,"f","f",43394975,null);if("undefined"===typeof Fo)var Fo=If?If(Bf):Hf.call(null,Bf);function Go(){var a=Rd([8],0),a=F(a,0,null);return Yf.u(Fo,be,Pj,new Qa(null,2,[mj,Bf,dl,t(a)?a:64],null))}function Ho(a,b){return Kg(Zf.b(function(b){return Math.floor(b/a)},b))}var Io=function Io(b,c){var d=w(c),e=z(d);if(d=A(d)){var f=v.b(b,e);return t(f)?(d=Io(f,d),w(d)?be.c(b,e,d):de.b(b,e)):b}return de.b(b,e)};
function Jo(a,b,c,d){a=null!=a&&(a.i&64||a.I)?sf(Jf,a):a;v.b(a,mj);v.b(a,dl);return jg.D(a,new M(null,2,5,N,[mj,d],null),be,b,c)}function Ko(a,b,c){a=null!=a&&(a.i&64||a.I)?sf(Jf,a):a;v.b(a,mj);var d=v.b(a,dl);return Jo(a,b,c,Ho(d,c))}function Lo(a,b,c){a=null!=a&&(a.i&64||a.I)?sf(Jf,a):a;v.b(a,mj);v.b(a,dl);return jg.D(a,new M(null,1,5,N,[mj],null),Io,new M(null,1,5,N,[c],null),b)}function Mo(a,b,c){a=null!=a&&(a.i&64||a.I)?sf(Jf,a):a;v.b(a,mj);var d=v.b(a,dl);return Lo(a,b,Ho(d,c))}
function No(a,b,c,d){a=null!=a&&(a.i&64||a.I)?sf(Jf,a):a;v.b(a,mj);var e=v.b(a,dl);c=Ho(e,c);e=Ho(e,d);return gd.b(c,e)?ig(a,new M(null,3,5,N,[mj,c,b],null),d):Jo(Lo(a,b,c),b,d,e)}
function Oo(a,b){for(var c=w(a),d=z(c),e=A(c),f=w(b),g=z(f),h=A(f),l=fd,k=a,n=b;;){var p=l,q=k,r=w(q),x=z(r),y=A(r),B=x,E=y,K=n,G=w(K),Y=z(G),P=A(G),H=Y,ga=P;if(t(function(){var a=B;return t(a)?H:a}())){if(w(p))var da=function(){return function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,H,E,K,Y,Q,da,T,ga,wb,xb,Xa,Nb){return function id(jd){return new Re(null,function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,H,E,K,Y,R,Q,X,da,S,U,T,ba){return function(){for(var ga=jd;;){var V=w(ga);if(V){var aa=V,ca=z(aa);
if(V=w(function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,H,E,K,Y,R,Q,X,da,S,U,T,ba,ga,V,aa,ca){return function hf(ea){return new Re(null,function(a,b,c,d,e){return function(){for(;;){var a=w(ea);if(a){if(le(a)){var b=Dc(a),c=D(b),d=Ve(c);a:for(var f=0;;)if(f<c){var g=vb.b(b,f),g=Zd.b(e,g);d.add(g);f+=1}else{b=!0;break a}return b?kf(d.J(),hf(Ec(a))):kf(d.J(),null)}d=z(a);return Pd(Zd.b(e,d),hf(ed(a)))}return null}}}(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,H,E,K,Y,R,Q,X,da,S,U,T,ba,ga,V,aa,ca),null,null)}}(ga,
a,b,c,ca,aa,V,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,H,E,K,Y,R,Q,X,da,S,U,T,ba)(Sh(l,G+1))))return pf.b(V,id(ed(ga)));ga=ed(ga)}else return null}}}(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,H,E,K,Y,Q,da,T,ga,wb,xb,Xa,Nb),null,null)}}(l,k,n,p,q,r,x,y,B,E,K,G,Y,P,H,ga,fd,a,a,c,d,e,d,e,b,b,f,g,h,g,h)(p)}(),Q=E,T=ga;else da=function(){return function(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,H,E,K,Y,Q,da,T,ga,wb,xb,Xa,Nb){return function id(jd){return new Re(null,function(){return function(){for(;;){var a=w(jd);if(a){if(le(a)){var b=
Dc(a),c=D(b),d=Ve(c);a:for(var e=0;;)if(e<c){var f=vb.b(b,e);d.add(new M(null,1,5,N,[f],null));e+=1}else{b=!0;break a}return b?kf(d.J(),id(Ec(a))):kf(d.J(),null)}d=z(a);return Pd(new M(null,1,5,N,[d],null),id(ed(a)))}return null}}}(a,b,c,d,e,f,g,h,l,k,n,p,q,r,G,x,y,P,B,H,E,K,Y,Q,da,T,ga,wb,xb,Xa,Nb),null,null)}}(l,k,n,p,q,r,x,y,B,E,K,G,Y,P,H,ga,fd,a,a,c,d,e,d,e,b,b,f,g,h,g,h)(Sh(B,H+1))}(),Q=E,T=ga;l=da;k=Q;n=T}else return p}}
function Po(a,b,c){var d=null!=a&&(a.i&64||a.I)?sf(Jf,a):a,e=v.b(d,mj),f=v.b(d,dl);return sf(Lh,function(){return function(a,b,c,d,e){return function q(f){return new Re(null,function(a,b,c,d){return function(){for(;;){var a=w(f);if(a){if(le(a)){var b=Dc(a),c=D(b),e=Ve(c);a:for(var g=0;;)if(g<c){var h=vb.b(b,g),h=d.a?d.a(h):d.call(null,h);e.add(h);g+=1}else{b=!0;break a}return b?kf(e.J(),q(Ec(a))):kf(e.J(),null)}e=z(a);return Pd(d.a?d.a(e):d.call(null,e),q(ed(a)))}return null}}}(a,b,c,d,e),null,null)}}(a,
d,d,e,f)(Oo(b,c))}())}function Qo(a,b,c){var d=null!=a&&(a.i&64||a.I)?sf(Jf,a):a,e=v.b(d,mj),f=v.b(d,dl),g=Ho(f,b),h=Ho(f,c);return eg.b(Bf,dg(function(){return function(a){F(a,0,null);a=F(a,1,null);a:{var d=w(a);z(d);A(d);d=w(b);z(d);A(d);d=w(c);z(d);A(d);for(var e=!0,f=b,g=c;;){d=w(a);a=z(d);var h=A(d),d=a;a=h;var h=w(f),f=z(h),h=A(h),x=w(g),g=z(x),x=A(x),y=g,g=x;if(e&&w(h)&&w(g))d=e&&f<=d&&d<=y,f=h,e=d;else break a}}return e}}(g,h,a,d,d,e,f),Po(d,g,h)))}
function Ro(a,b){return Yf.l(Fo,jg,new M(null,1,5,N,[Pj],null),Ko,Rd([a,b],0))}function So(a,b,c){return Yf.l(Fo,jg,new M(null,1,5,N,[Pj],null),No,Rd([a,b,c],0))};var To,Uo=function Uo(b,c){if(null!=b&&null!=b.dc)return b.dc(0,c);var d=Uo[ia(null==b?null:b)];if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);d=Uo._;if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);throw cb("ReadPort.take!",b);},Vo=function Vo(b,c,d){if(null!=b&&null!=b.ec)return b.ec(0,c,d);var e=Vo[ia(null==b?null:b)];if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);e=Vo._;if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);throw cb("WritePort.put!",b);},Wo=function Wo(b){if(null!=b&&null!=
b.Pb)return b.Pb();var c=Wo[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=Wo._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("Channel.close!",b);},Xo=function Xo(b){if(null!=b&&null!=b.uc)return!0;var c=Xo[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=Xo._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("Handler.active?",b);},Yo=function Yo(b){if(null!=b&&null!=b.vc)return b.Ja;var c=Yo[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,
b);c=Yo._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("Handler.commit",b);},Zo=function Zo(b,c){if(null!=b&&null!=b.tc)return b.tc(0,c);var d=Zo[ia(null==b?null:b)];if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);d=Zo._;if(null!=d)return d.b?d.b(b,c):d.call(null,b,c);throw cb("Buffer.add!*",b);},$o=function $o(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return $o.a(arguments[0]);case 2:return $o.b(arguments[0],arguments[1]);
default:throw Error([u("Invalid arity: "),u(c.length)].join(""));}};$o.a=function(a){return a};$o.b=function(a,b){if(null==b)throw Error("Assert failed: (not (nil? itm))");return Zo(a,b)};$o.A=2;function ap(a,b,c,d,e){for(var f=0;;)if(f<e)c[d+f]=a[b+f],f+=1;else break}function bp(a,b,c,d){this.head=a;this.K=b;this.length=c;this.f=d}bp.prototype.pop=function(){if(0===this.length)return null;var a=this.f[this.K];this.f[this.K]=null;this.K=(this.K+1)%this.f.length;--this.length;return a};bp.prototype.unshift=function(a){this.f[this.head]=a;this.head=(this.head+1)%this.f.length;this.length+=1;return null};function cp(a,b){a.length+1===a.f.length&&a.resize();a.unshift(b)}
bp.prototype.resize=function(){var a=Array(2*this.f.length);return this.K<this.head?(ap(this.f,this.K,a,0,this.length),this.K=0,this.head=this.length,this.f=a):this.K>this.head?(ap(this.f,this.K,a,0,this.f.length-this.K),ap(this.f,0,a,this.f.length-this.K,this.head),this.K=0,this.head=this.length,this.f=a):this.K===this.head?(this.head=this.K=0,this.f=a):null};function dp(a,b){for(var c=a.length,d=0;;)if(d<c){var e=a.pop();(b.a?b.a(e):b.call(null,e))&&a.unshift(e);d+=1}else break}
function ep(a){if(!(0<a))throw Error([u("Assert failed: "),u("Can't create a ring buffer of size 0"),u("\n"),u("(\x3e n 0)")].join(""));return new bp(0,0,0,Array(a))}function fp(a,b){this.H=a;this.n=b;this.i=2;this.B=0}function gp(a){return a.H.length===a.n}fp.prototype.tc=function(a,b){cp(this.H,b);return this};fp.prototype.ba=function(){return this.H.length};if("undefined"===typeof hp)var hp={};var ip;a:{var jp=fa.navigator;if(jp){var kp=jp.userAgent;if(kp){ip=kp;break a}}ip=""};var lp;
function mp(){var a=fa.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==ip.indexOf("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=qa(function(a){if(("*"==d||a.origin==
d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==ip.indexOf("Trident")&&-1==ip.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.mc;c.mc=null;a()}};return function(a){d.next={mc:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=
document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){fa.setTimeout(a,0)}};var np=ep(32),op=!1,pp=!1;function qp(){op=!0;pp=!1;for(var a=0;;){var b=np.pop();if(null!=b&&(b.j?b.j():b.call(null),1024>a)){a+=1;continue}break}op=!1;return 0<np.length?rp.j?rp.j():rp.call(null):null}function rp(){var a=pp;if(t(t(a)?op:a))return null;pp=!0;"function"!=ia(fa.setImmediate)||fa.Window&&fa.Window.prototype&&-1==ip.indexOf("Edge")&&fa.Window.prototype.setImmediate==fa.setImmediate?(lp||(lp=mp()),lp(qp)):fa.setImmediate(qp)}function sp(a){cp(np,a);return rp()}
function tp(a,b){setTimeout(a,b)};var up,vp=function vp(b){"undefined"===typeof up&&(up=function(a,b,e){this.Bc=a;this.ca=b;this.Zc=e;this.i=425984;this.B=0},up.prototype.P=function(a,b){return new up(this.Bc,this.ca,b)},up.prototype.M=function(){return this.Zc},up.prototype.Yb=function(){return this.ca},up.fc=function(){return new M(null,3,5,N,[Sd($k,new Qa(null,1,[zf,Me(Af,Me(new M(null,1,5,N,[Al],null)))],null)),Al,Ia.td],null)},up.Eb=!0,up.gb="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels33694",up.Qb=function(a,
b){return pc(b,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels33694")});return new up(vp,b,Bf)};function wp(a,b){this.Fb=a;this.ca=b}function xp(a){return Xo(a.Fb)}var yp=function yp(b){if(null!=b&&null!=b.sc)return b.sc();var c=yp[ia(null==b?null:b)];if(null!=c)return c.a?c.a(b):c.call(null,b);c=yp._;if(null!=c)return c.a?c.a(b):c.call(null,b);throw cb("MMC.abort",b);};function zp(a,b,c,d,e,f,g){this.mb=a;this.Sb=b;this.bb=c;this.Rb=d;this.H=e;this.closed=f;this.Ha=g}
zp.prototype.sc=function(){for(;;){var a=this.bb.pop();if(null!=a){var b=a.Fb;sp(function(a){return function(){return a.a?a.a(!0):a.call(null,!0)}}(b.Ja,b,a.ca,a,this))}break}dp(this.bb,Ef());return Wo(this)};
zp.prototype.ec=function(a,b,c){var d=this;if(null==b)throw Error([u("Assert failed: "),u("Can't put nil in on a channel"),u("\n"),u("(not (nil? val))")].join(""));if(a=d.closed)return vp(!a);if(t(function(){var a=d.H;return t(a)?ab(gp(d.H)):a}())){for(c=xd(d.Ha.b?d.Ha.b(d.H,b):d.Ha.call(null,d.H,b));;){if(0<d.mb.length&&0<D(d.H)){var e=d.mb.pop(),f=e.Ja,g=d.H.H.pop();sp(function(a,b){return function(){return a.a?a.a(b):a.call(null,b)}}(f,g,e,c,a,this))}break}c&&yp(this);return vp(!0)}e=function(){for(;;){var a=
d.mb.pop();if(t(a)){if(t(!0))return a}else return null}}();if(t(e))return c=Yo(e),sp(function(a){return function(){return a.a?a.a(b):a.call(null,b)}}(c,e,a,this)),vp(!0);64<d.Rb?(d.Rb=0,dp(d.bb,xp)):d.Rb+=1;if(t(c.cc(null))){if(!(1024>d.bb.length))throw Error([u("Assert failed: "),u([u("No more than "),u(1024),u(" pending puts are allowed on a single channel."),u(" Consider using a windowed buffer.")].join("")),u("\n"),u("(\x3c (.-length puts) impl/MAX-QUEUE-SIZE)")].join(""));cp(d.bb,new wp(c,b))}return null};
zp.prototype.dc=function(a,b){var c=this;if(null!=c.H&&0<D(c.H)){for(var d=b.Ja,e=vp(c.H.H.pop());;){if(!t(gp(c.H))){var f=c.bb.pop();if(null!=f){var g=f.Fb,h=f.ca;sp(function(a){return function(){return a.a?a.a(!0):a.call(null,!0)}}(g.Ja,g,h,f,d,e,this));xd(c.Ha.b?c.Ha.b(c.H,h):c.Ha.call(null,c.H,h))&&yp(this);continue}}break}return e}d=function(){for(;;){var a=c.bb.pop();if(t(a)){if(Xo(a.Fb))return a}else return null}}();if(t(d))return e=Yo(d.Fb),sp(function(a){return function(){return a.a?a.a(!0):
a.call(null,!0)}}(e,d,this)),vp(d.ca);if(t(c.closed))return t(c.H)&&(c.Ha.a?c.Ha.a(c.H):c.Ha.call(null,c.H)),t(t(!0)?b.Ja:!0)?(d=function(){var a=c.H;return t(a)?0<D(c.H):a}(),d=t(d)?c.H.H.pop():null,vp(d)):null;64<c.Sb?(c.Sb=0,dp(c.mb,Xo)):c.Sb+=1;if(t(b.cc(null))){if(!(1024>c.mb.length))throw Error([u("Assert failed: "),u([u("No more than "),u(1024),u(" pending takes are allowed on a single channel.")].join("")),u("\n"),u("(\x3c (.-length takes) impl/MAX-QUEUE-SIZE)")].join(""));cp(c.mb,b)}return null};
zp.prototype.Pb=function(){var a=this;if(!a.closed)for(a.closed=!0,t(function(){var b=a.H;return t(b)?0===a.bb.length:b}())&&(a.Ha.a?a.Ha.a(a.H):a.Ha.call(null,a.H));;){var b=a.mb.pop();if(null==b)break;else{var c=b.Ja,d=t(function(){var b=a.H;return t(b)?0<D(a.H):b}())?a.H.H.pop():null;sp(function(a,b){return function(){return a.a?a.a(b):a.call(null,b)}}(c,d,b,this))}}return null};function Ap(a){console.log(a);return null}
function Bp(a,b){var c=(t(null)?null:Ap).call(null,b);return null==c?a:$o.b(a,c)}
function Cp(a){return new zp(ep(32),0,ep(32),0,a,!1,function(){return function(a){return function(){function c(c,d){try{return a.b?a.b(c,d):a.call(null,c,d)}catch(e){return Bp(c,e)}}function d(c){try{return a.a?a.a(c):a.call(null,c)}catch(d){return Bp(c,d)}}var e=null,e=function(a,b){switch(arguments.length){case 1:return d.call(this,a);case 2:return c.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};e.a=d;e.b=c;return e}()}(t(null)?null.a?null.a($o):null.call(null,$o):$o)}())};var Dp,Ep=function Ep(b){"undefined"===typeof Dp&&(Dp=function(a,b,e){this.Vc=a;this.Ja=b;this.$c=e;this.i=393216;this.B=0},Dp.prototype.P=function(a,b){return new Dp(this.Vc,this.Ja,b)},Dp.prototype.M=function(){return this.$c},Dp.prototype.uc=function(){return!0},Dp.prototype.cc=function(){return!0},Dp.prototype.vc=function(){return this.Ja},Dp.fc=function(){return new M(null,3,5,N,[Sd(gn,new Qa(null,2,[Bj,!0,zf,Me(Af,Me(new M(null,1,5,N,[Eo],null)))],null)),Eo,Ia.ud],null)},Dp.Eb=!0,Dp.gb="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers33726",
Dp.Qb=function(a,b){return pc(b,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers33726")});return new Dp(Ep,b,Bf)};function Fp(a){try{return a[0].call(null,a)}catch(b){throw b instanceof Object&&a[6].Pb(),b;}}function Gp(a,b,c){c=c.dc(0,Ep(function(c){a[2]=c;a[1]=b;return Fp(a)}));return t(c)?(a[2]=C.a?C.a(c):C.call(null,c),a[1]=b,O):null}function Hp(a,b){var c=a[6];null!=b&&c.ec(0,b,Ep(function(){return function(){return null}}(c)));c.Pb();return c}
function Ip(a,b,c,d,e,f,g,h){this.Pa=a;this.Qa=b;this.Sa=c;this.Ra=d;this.Ua=e;this.Aa=f;this.Z=g;this.v=h;this.i=2229667594;this.B=8192}m=Ip.prototype;m.X=function(a,b){return Db.c(this,b,null)};m.O=function(a,b,c){switch(b instanceof I?b.Ka:null){case "catch-block":return this.Pa;case "catch-exception":return this.Qa;case "finally-block":return this.Sa;case "continue-block":return this.Ra;case "prev":return this.Ua;default:return v.c(this.Z,b,c)}};
m.U=function(a,b,c){return Uh(b,function(){return function(a){return Uh(b,li,""," ","",c,a)}}(this),"#cljs.core.async.impl.ioc-helpers.ExceptionFrame{",", ","}",c,pf.b(new M(null,5,5,N,[new M(null,2,5,N,[uk,this.Pa],null),new M(null,2,5,N,[Ql,this.Qa],null),new M(null,2,5,N,[Qj,this.Sa],null),new M(null,2,5,N,[em,this.Ra],null),new M(null,2,5,N,[am,this.Ua],null)],null),this.Z))};m.Ia=function(){return new Xg(0,this,5,new M(null,5,5,N,[uk,Ql,Qj,em,am],null),Lc(this.Z))};m.M=function(){return this.Aa};
m.ba=function(){return 5+D(this.Z)};m.R=function(){var a=this.v;return null!=a?a:this.v=a=Ge(this)};m.w=function(a,b){var c;c=t(b)?(c=this.constructor===b.constructor)?Wg(this,b):c:b;return t(c)?!0:!1};m.yb=function(a,b){return qe(new Nh(null,new Qa(null,5,[Qj,null,uk,null,Ql,null,am,null,em,null],null),null),b)?de.b(Sd(eg.b(Bf,this),this.Aa),b):new Ip(this.Pa,this.Qa,this.Sa,this.Ra,this.Ua,this.Aa,wf(de.b(this.Z,b)),null)};
m.fb=function(a,b,c){return t(L.b?L.b(uk,b):L.call(null,uk,b))?new Ip(c,this.Qa,this.Sa,this.Ra,this.Ua,this.Aa,this.Z,null):t(L.b?L.b(Ql,b):L.call(null,Ql,b))?new Ip(this.Pa,c,this.Sa,this.Ra,this.Ua,this.Aa,this.Z,null):t(L.b?L.b(Qj,b):L.call(null,Qj,b))?new Ip(this.Pa,this.Qa,c,this.Ra,this.Ua,this.Aa,this.Z,null):t(L.b?L.b(em,b):L.call(null,em,b))?new Ip(this.Pa,this.Qa,this.Sa,c,this.Ua,this.Aa,this.Z,null):t(L.b?L.b(am,b):L.call(null,am,b))?new Ip(this.Pa,this.Qa,this.Sa,this.Ra,c,this.Aa,this.Z,
null):new Ip(this.Pa,this.Qa,this.Sa,this.Ra,this.Ua,this.Aa,be.c(this.Z,b,c),null)};m.Y=function(){return w(pf.b(new M(null,5,5,N,[new M(null,2,5,N,[uk,this.Pa],null),new M(null,2,5,N,[Ql,this.Qa],null),new M(null,2,5,N,[Qj,this.Sa],null),new M(null,2,5,N,[em,this.Ra],null),new M(null,2,5,N,[am,this.Ua],null)],null),this.Z))};m.P=function(a,b){return new Ip(this.Pa,this.Qa,this.Sa,this.Ra,this.Ua,b,this.Z,this.v)};m.aa=function(a,b){return ke(b)?Fb(this,vb.b(b,0),vb.b(b,1)):jb(rb,this,b)};
function Jp(a,b,c){a[4]=new Ip(null,null,b,c,a[4],null,null,null);return a}
function Kp(a){for(;;){var b=a[4],c=uk.a(b),d=Ql.a(b),e=a[5];if(t(function(){var a=e;return t(a)?ab(b):a}()))throw e;if(t(function(){var a=e;return t(a)?(a=c,t(a)?gd.b(Pj,d)||e instanceof d:a):a}())){a[1]=c;a[2]=e;a[5]=null;a[4]=be.l(b,uk,null,Rd([Ql,null],0));break}if(t(function(){var a=e;return t(a)?ab(c)&&ab(Qj.a(b)):a}()))a[4]=am.a(b);else{if(t(function(){var a=e;return t(a)?(a=ab(c))?Qj.a(b):a:a}())){a[1]=Qj.a(b);a[4]=be.c(b,Qj,null);break}if(t(function(){var a=ab(e);return a?Qj.a(b):a}())){a[1]=
Qj.a(b);a[4]=be.c(b,Qj,null);break}if(ab(e)&&ab(Qj.a(b))){a[1]=em.a(b);a[4]=am.a(b);break}throw Error("No matching clause");}}};function Lp(a,b,c){this.key=a;this.ca=b;this.forward=c;this.i=2155872256;this.B=0}Lp.prototype.Y=function(){var a=this.key;return rb(rb(fd,this.ca),a)};Lp.prototype.U=function(a,b,c){return Uh(b,li,"["," ","]",c,this)};function Mp(a,b,c){c=Array(c+1);for(var d=0;;)if(d<c.length)c[d]=null,d+=1;else break;return new Lp(a,b,c)}function Np(a,b,c,d){for(;;){if(0>c)return a;a:for(;;){var e=a.forward[c];if(t(e))if(e.key<b)a=e;else break a;else break a}null!=d&&(d[c]=a);--c}}
function Op(a,b){this.jb=a;this.level=b;this.i=2155872256;this.B=0}Op.prototype.put=function(a,b){var c=Array(15),d=Np(this.jb,a,this.level,c).forward[0];if(null!=d&&d.key===a)return d.ca=b;a:for(d=0;;)if(.5>Math.random()&&15>d)d+=1;else break a;if(d>this.level){for(var e=this.level+1;;)if(e<=d+1)c[e]=this.jb,e+=1;else break;this.level=d}for(d=Mp(a,b,Array(d));;)return 0<=this.level?(c=c[0].forward,d.forward[0]=c[0],c[0]=d):null};
Op.prototype.remove=function(a){var b=Array(15),c=Np(this.jb,a,this.level,b).forward[0];if(null!=c&&c.key===a){for(a=0;;)if(a<=this.level){var d=b[a].forward;d[a]===c&&(d[a]=c.forward[a]);a+=1}else break;for(;;)if(0<this.level&&null==this.jb.forward[this.level])--this.level;else return null}else return null};function Pp(a){for(var b=Qp,c=b.jb,d=b.level;;){if(0>d)return c===b.jb?null:c;var e;a:for(e=c;;){e=e.forward[d];if(null==e){e=null;break a}if(e.key>=a)break a}null!=e?(--d,c=e):--d}}
Op.prototype.Y=function(){return function(a){return function c(d){return new Re(null,function(){return function(){return null==d?null:Pd(new M(null,2,5,N,[d.key,d.ca],null),c(d.forward[0]))}}(a),null,null)}}(this)(this.jb.forward[0])};Op.prototype.U=function(a,b,c){return Uh(b,function(){return function(a){return Uh(b,li,""," ","",c,a)}}(this),"{",", ","}",c,this)};var Qp=new Op(Mp(null,null,0),0);
function Rp(a){var b=(new Date).valueOf()+a,c=Pp(b),d=t(t(c)?c.key<b+10:c)?c.ca:null;if(t(d))return d;var e=Cp(null);Qp.put(b,e);tp(function(a,b,c){return function(){Qp.remove(c);return Wo(a)}}(e,d,b,c),a);return e};function Sp(a){"undefined"===typeof To&&(To=function(a,c,d){this.Ja=a;this.lc=c;this.ad=d;this.i=393216;this.B=0},To.prototype.P=function(a,c){return new To(this.Ja,this.lc,c)},To.prototype.M=function(){return this.ad},To.prototype.uc=function(){return!0},To.prototype.cc=function(){return this.lc},To.prototype.vc=function(){return this.Ja},To.fc=function(){return new M(null,3,5,N,[Eo,tj,Ia.vd],null)},To.Eb=!0,To.gb="cljs.core.async/t_cljs$core$async33829",To.Qb=function(a,c){return pc(c,"cljs.core.async/t_cljs$core$async33829")});
return new To(a,!0,Bf)}function Tp(a){a=gd.b(a,0)?null:a;if(t(null)&&!t(a))throw Error([u("Assert failed: "),u("buffer must be supplied when transducer is"),u("\n"),u("buf-or-n")].join(""));a="number"===typeof a?new fp(ep(a),a):a;return Cp(a)}function Up(a,b){return Vp(a,b)}function Vp(a,b){var c=Uo(a,Sp(b));if(t(c)){var d=C.a?C.a(c):C.call(null,c);t(!0)?b.a?b.a(d):b.call(null,d):sp(function(a){return function(){return b.a?b.a(a):b.call(null,a)}}(d,c))}return null}var Wp=Sp(function(){return null});
function Xp(a,b){var c=Vo(a,b,Wp);return t(c)?C.a?C.a(c):C.call(null,c):!0};if("undefined"===typeof Yp)var Yp=function(){var a=If?If(Bf):Hf.call(null,Bf),b=If?If(Bf):Hf.call(null,Bf),c=If?If(Bf):Hf.call(null,Bf),d=If?If(Bf):Hf.call(null,Bf),e=v.c(Bf,$m,zi());return new Ki(cd.b("infinitelives.utils.resources","load"),function(){return function(a){return Yd(a.split(".")).toLowerCase()}}(a,b,c,d,e),Pj,e,a,b,c,d)}();
if("undefined"===typeof Zp)var Zp=function(){var a=If?If(Bf):Hf.call(null,Bf),b=If?If(Bf):Hf.call(null,Bf),c=If?If(Bf):Hf.call(null,Bf),d=If?If(Bf):Hf.call(null,Bf),e=v.c(Bf,$m,zi());return new Ki(cd.b("infinitelives.utils.resources","register!"),function(){return function(a){return Yd(a.split(".")).toLowerCase()}}(a,b,c,d,e),Pj,e,a,b,c,d)}();
function $p(a,b){var c=Tp(null),d=D(a);Th(Zf.b(function(a,b){return function(c){return Up(Yp.a?Yp.a(c):Yp.call(null,c),function(a){return function(b){return Xp(a,b)}}(a,b))}}(c,d),a));var e=Tp(1);sp(function(a,c,d){return function(){var e=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=a(c);if(!L(e,O)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,Kp(c),d=O;else throw f;}if(!L(d,O))return d}}function c(){var a=[null,null,null,null,null,null,null,
null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.a=b;return d}()}(function(a,c,d){return function(a){var e=a[1];if(7===e)return e=a[7],e=e<d,a[8]=a[2],a[1]=t(e)?8:9,O;if(1===e)return e=gh,a[9]=e,a[7]=1,a[2]=null,a[1]=2,O;if(4===e){var e=a[9],f=a[10],g=a[11],g=a[2],f=F(g,0,null),g=F(g,1,null),h=Zp.b?Zp.b(f,g):Zp.call(null,f,g),h=be.c(e,
f,h);a[12]=h;a[10]=g;a[11]=f;a[1]=t(b)?5:6;return O}return 6===e?(a[2]=null,a[1]=7,O):3===e?Hp(a,a[2]):2===e?Gp(a,4,c):9===e?(h=a[12],a[2]=h,a[1]=10,O):5===e?(f=a[10],g=a[11],e=a[7],e=b.u?b.u(e,d,g,f):b.call(null,e,d,g,f),a[2]=e,a[1]=7,O):10===e?(a[2]=a[2],a[1]=3,O):8===e?(h=a[12],e=a[7],a[9]=h,a[7]=e+1,a[2]=null,a[1]=2,O):null}}(a,c,d),a,c,d)}(),k=function(){var b=e.j?e.j():e.call(null);b[6]=a;return b}();return Fp(k)}}(e,c,d));return e};var aq=t(window.AudioContext)?new window.AudioContext:new window.webkitAudioContext;if("undefined"===typeof bq)var bq=If?If(Bf):Hf.call(null,Bf);function cq(a){var b=new XMLHttpRequest,c=Tp(null);b.open("GET",a,!0);b.responseType="arraybuffer";b.onload=function(b,c){return function(){return aq.decodeAudioData(b.response,function(b,c){return function(b){return Xp(c,new M(null,2,5,N,[a,b],null))}}(b,c))}}(b,c);b.send();return c}Mi(Yp,"ogg",function(a){return cq(a)});Mi(Yp,"mp3",function(a){return cq(a)});
Mi(Yp,"wav",function(a){return cq(a)});function dq(a,b){Yf.u(bq,be,Pe.a(z(Yd(a.split("/")).split("."))),b);return new Qa(null,1,[Gm,b],null)}Mi(Zp,"ogg",function(a,b){return dq(a,b)});Mi(Zp,"mp3",function(a,b){return dq(a,b)});Mi(Zp,"wav",function(a,b){return dq(a,b)});
function eq(a,b){var c=Rd([!1],0),d=F(c,0,null),c=aq.createBufferSource(),e=aq.createGain();c.loop=t(d)?!0:!1;a instanceof I?(d=C.a?C.a(bq):C.call(null,bq),d=a.a?a.a(d):a.call(null,d)):d=a;c.buffer=d;c.connect(e);e.connect(aq.destination);e.gain.value=b;c.start(0);return new M(null,2,5,N,[c,e],null)};if("undefined"===typeof fq)var fq=!0;var gq=If?If(Bf):Hf.call(null,Bf);if("undefined"===typeof hq){var hq,iq=new Qa(null,1,[hn,!0],null);hq=If?If(iq):Hf.call(null,iq)}
var lq=Lh.l(Rd([ce([Pi,Zi,ej,gj,kj,lj,qj,wj,Dj,Kj,Uj,ak,pk,qk,vk,Ck,Lk,Vk,Xk,el,xl,zl,Bl,Il,Ll,Tl,Xl,cm,dm,km,qm,xm,zm,Bm,Um,Vm,bn,mn,pn,Bn,xo,yo],[16,40,32,36,45,119,112,121,18,27,188,144,116,33,46,191,38,13,192,122,190,114,222,113,17,219,145,123,20,39,34,19,8,118,120,35,9,117,115,220,37,221]),function jq(b){return new Re(null,function(){for(;;){var a=w(b);if(a){if(le(a)){var d=Dc(a),e=D(d),f=Ve(e);a:for(var g=0;;)if(g<e){var h=vb.b(d,g),h=new M(null,2,5,N,[Pe.a(""+u(h)),h.charCodeAt(0)-32],null);
f.add(h);g+=1}else{d=!0;break a}return d?kf(f.J(),jq(Ec(a))):kf(f.J(),null)}f=z(a);return Pd(new M(null,2,5,N,[Pe.a(""+u(f)),f.charCodeAt(0)-32],null),jq(ed(a)))}return null}},null,null)}("0123456789abcdefghijklmnopqrstuvwxyz"),function kq(b){return new Re(null,function(){for(;;){var a=w(b);if(a){if(le(a)){var d=Dc(a),e=D(d),f=Ve(e);a:for(var g=0;;)if(g<e){var h=vb.b(d,g);f.add(new M(null,2,5,N,[h,h.charCodeAt(0)-32],null));g+=1}else{d=!0;break a}return d?kf(f.J(),kq(Ec(a))):kf(f.J(),null)}f=z(a);
return Pd(new M(null,2,5,N,[f,f.charCodeAt(0)-32],null),kq(ed(a)))}return null}},null,null)}("0123456789abcdefghijklmnopqrstuvwxyz,.;'[]-\x3d`/\\")],0));function mq(a){return(C.a?C.a(gq):C.call(null,gq)).call(null,lq.a?lq.a(a):lq.call(null,a))}
var nq=t(window.requestAnimationFrame)?function(a){return window.requestAnimationFrame(a)}:t(window.webkitRequestAnimationFrame)?function(a){return window.webkitRequestAnimationFrame(a)}:t(window.mozRequestAnimationFrame)?function(a){return window.mozRequestAnimationFrame(a)}:t(window.oRequestAnimationFrame)?function(a){return window.oRequestAnimationFrame(a)}:t(window.msRequestAnimationFrame)?function(a){return window.msRequestAnimationFrame(a)}:function(a){return window.setTimeout(a,1E3/60)};
function oq(){var a=Tp(null),b=function(a){return function(){return Wo(a)}}(a);nq.a?nq.a(b):nq.call(null,b);return a}
function pq(){var a=Tp(1);sp(function(a){return function(){var c=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var f=a(c);if(!L(f,O)){d=f;break a}}}catch(g){if(g instanceof Object)c[5]=g,Kp(c),d=O;else throw g;}if(!L(d,O))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+
arguments.length);};d.j=c;d.a=b;return d}()}(function(){return function(a){var b=a[1];if(1===b)return a[7]=600,a[2]=null,a[1]=2,O;if(2===b)return b=a[7],a[1]=t(0<b)?4:5,O;if(3===b)return Hp(a,a[2]);if(4===b)return b=oq(),Gp(a,7,b);if(5===b)return a[2]=null,a[1]=6,O;if(6===b)return a[2]=a[2],a[1]=3,O;if(7===b){var b=a[7],c=a[2];a[7]=b-1;a[8]=c;a[2]=null;a[1]=2;return O}return null}}(a),a)}(),d=function(){var d=c.j?c.j():c.call(null);d[6]=a;return d}();return Fp(d)}}(a));return a}
var qq=If?If(Ph):Hf.call(null,Ph);function rq(){var a=Tp(null);Yf.c(qq,Zd,a);return a}
var sq=If?If(Ph):Hf.call(null,Ph),tq=function tq(){nq.a?nq.a(tq):nq.call(null,tq);for(var b=w(C.a?C.a(sq):C.call(null,sq)),c=null,d=0,e=0;;)if(e<d){var f=c.T(null,e);Xp(f,!0);e+=1}else if(b=w(b))c=b,le(c)?(b=Dc(c),d=Ec(c),c=b,f=D(b),b=d,d=f):(f=z(c),Xp(f,!0),b=A(c),c=null,d=0),e=0;else return null},uq=t(navigator.getGamepads)?function(){return navigator.getGamepads.apply(navigator,$d)}:t(navigator.wegkitGetGamepads)?function(){return navigator.webkitGetGamepads.apply(navigator,$d)}:function(){return fd};
If||Hf.call(null,null);If||Hf.call(null,null);If||Hf.call(null,null);If||Hf.call(null,null);If||Hf.call(null,$d);If||Hf.call(null,!1);window.addEventListener("keydown",function(a){Yf.b(gq,function(b){return be.c(b,a.keyCode,!0)});return t(function(){if(t(fq)){var b=a.ctrlKey;return t(b)?a.shiftKey:b}return fq}())?!1:t(hn.a(C.a?C.a(hq):C.call(null,hq)))?a.preventDefault():!1});
window.addEventListener("keyup",function(a){Yf.b(gq,function(b){return de.b(b,a.keyCode)});return t(hn.a(C.a?C.a(hq):C.call(null,hq)))?a.preventDefault():!0});nq.a?nq.a(tq):nq.call(null,tq);window.addEventListener("resize",function(){for(var a=new M(null,2,5,N,[window.innerWidth,window.innerHeight],null),b=w(C.a?C.a(qq):C.call(null,qq)),c=null,d=0,e=0;;)if(e<d){var f=c.T(null,e);Xp(f,a);e+=1}else if(b=w(b))c=b,le(c)?(b=Dc(c),d=Ec(c),c=b,f=D(b),b=d,d=f):(f=z(c),Xp(f,a),b=A(c),c=null,d=0),e=0;else return null});function vq(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}vq.prototype.BYTES_PER_ELEMENT=4;vq.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};vq.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(vq.BYTES_PER_ELEMENT=4,vq.prototype.BYTES_PER_ELEMENT=vq.prototype.BYTES_PER_ELEMENT,vq.prototype.set=vq.prototype.set,vq.prototype.toString=vq.prototype.toString,ha("Float32Array",vq));function wq(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}wq.prototype.BYTES_PER_ELEMENT=8;wq.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};wq.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{wq.BYTES_PER_ELEMENT=8}catch(a){}wq.prototype.BYTES_PER_ELEMENT=wq.prototype.BYTES_PER_ELEMENT;wq.prototype.set=wq.prototype.set;wq.prototype.toString=wq.prototype.toString;ha("Float64Array",wq)};function xq(){return new Float64Array(2)}function W(a,b){var c=xq();c[0]=a;c[1]=b;return c}function yq(a){var b=a[0];a=a[1];return b*b+a*a}function zq(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)};function Aq(a,b){var c=xq.j?xq.j():xq.call(null);c[0]=a[0]+b[0];c[1]=a[1]+b[1];return c}function Bq(a,b){var c=xq.j?xq.j():xq.call(null);c[0]=a[0]-b[0];c[1]=a[1]-b[1];return c}function Cq(a,b){var c=xq.j?xq.j():xq.call(null);c[0]=a[0]*b;c[1]=a[1]*b;return c}function Dq(a,b){var c=Math.cos(b),d=Math.sin(b),e=c*a[0]-d*a[1],c=c*a[1]+d*a[0];return W.b?W.b(e,c):W.call(null,e,c)}
function Eq(a,b){var c;if((zq.a?zq.a(a):zq.call(null,a))>b){c=xq.j?xq.j():xq.call(null);var d=1/zq(a);c[0]=a[0]*d;c[1]=a[1]*d;c=Cq(c,b)}else c=a;return c}function Fq(a){return new M(null,2,5,N,[a[0],a[1]],null)};if("undefined"===typeof Gq)var Gq=If?If(Bf):Hf.call(null,Bf);function Hq(a){var b=(C.a?C.a(Gq):C.call(null,Gq)).call(null,a);if(t(b))return b;throw Error([u("Texture "),u(a),u(" not loaded")].join(""));}function Iq(a,b,c){var d=F(b,0,null);b=F(b,1,null);var e=F(c,0,null);c=F(c,1,null);return new PIXI.Texture(a,new PIXI.Rectangle(d,b,e,c))}
function Jq(a){var b=Kq;if(!t(a))throw Error([u("Assert failed: "),u("texture is unset"),u("\n"),u("texture")].join(""));return Yf.c(Gq,eg,function(){return function d(b){return new Re(null,function(){for(;;){var f=w(b);if(f){if(le(f)){var g=Dc(f),h=D(g),l=Ve(h);a:for(var k=0;;)if(k<h){var n=vb.b(g,k),p=F(n,0,null),n=F(n,1,null),q=null!=n&&(n.i&64||n.I)?sf(Jf,n):n,n=v.b(q,sk),q=v.b(q,Pk),p=new M(null,2,5,N,[p,Iq(a,n,q)],null);l.add(p);k+=1}else{g=!0;break a}return g?kf(l.J(),d(Ec(f))):kf(l.J(),null)}g=
z(f);l=F(g,0,null);g=F(g,1,null);h=null!=g&&(g.i&64||g.I)?sf(Jf,g):g;g=v.b(h,sk);h=v.b(h,Pk);return Pd(new M(null,2,5,N,[l,Iq(a,g,h)],null),d(ed(f)))}return null}},null,null)}(b)}())};function Lq(a,b){return new PIXI.Point(a,b)}
function Mq(a,b){var c=null!=b&&(b.i&64||b.I)?sf(Jf,b):b,d=v.b(c,Lm),e=v.c(c,Dm,0),f=v.b(c,Xm),g=v.c(c,Zm,!0),h=v.b(c,on),l=v.b(c,vn),k=v.c(c,Do,.5),n=v.b(c,Ri),p=v.c(c,Ni,0),q=v.c(c,Xi,!1),r=v.b(c,ij),x=v.c(c,nj,0),y=v.b(c,uj),B=v.c(c,Hj,1),E=v.b(c,Sk),K=v.b(c,ll),G=v.b(c,Dl),Y=v.c(c,Pl,.5),P=v.b(c,Wl),H=v.b(c,bm),c=v.c(c,im,1),q=t(q)?new PIXI.extras.TilingSprite(a instanceof I?Hq(a):a,G,H):new PIXI.Sprite(a instanceof I?Hq(a):a);if(!t(q))throw Error([u("Assert failed: "),u("creation of sprite failed and returned nil"),
u("\n"),u("s")].join(""));q.anchor=Lq(k,Y);q.x=e;q.y=p;q.rotation=x;q.visible=g;gd.b(B,1)||(q.scale="number"===typeof B?Lq(B,B):Lq(v.b(B,0),v.b(B,1)));gd.b(1,c)||(q.alpha=c);q.interactive=t(K)?K:t(f)?f:t(n)?n:t(h)?h:t(r)?r:t(l)?l:t(P)?P:d;t(f)&&(q.mousedown=f);t(K)&&(q.mousemove=K);t(n)&&(q.mouseup=n);t(h)&&(q.mouseupoutside=h);t(l)&&(q.touchdown=l);t(r)&&(q.touchmove=r);t(P)&&(q.touchup=P);t(d)&&(q.touchupoutside=d);null!=y&&(q.buttonMode=y);t(E)&&(q.gd=E);return q}
function Nq(a,b){var c;if(ke(b)){c=b.a?b.a(0):b.call(null,0);var d=b.a?b.a(1):b.call(null,1);a.position.x=c;c=a.position.y=d}else c=b[1],a.position.x=b[0],c=a.position.y=c;return c}function Oq(a,b,c){a.pivot.x=b;return a.pivot.y=c}
function Pq(a){var b=-a.pivot.x,c=-a.pivot.y,d,e=a.getLocalBounds();d=new M(null,4,5,N,[e.x,e.y,e.width,e.height],null);var e=F(d,0,null),f=F(d,1,null),g=F(d,2,null);d=F(d,3,null);var h=a.position.x;a=a.position.y;return new M(null,4,5,N,[h+e+b,a+f+c,h+e+g+b,a+f+d+c],null)}
function Qq(a,b,c){var d=a.children,e=Zf.b(Pq,d),f=Zf.b(z,e),g=Zf.b(Xd,e),h=Zf.b(function(){return function(a){return Jd(a,2)}}(d,e,f,g),e),d=Zf.b(function(){return function(a){return Jd(a,3)}}(d,e,f,g,h),e),f=sf(De,f),g=sf(De,g),h=sf(Ce,h),d=sf(Ce,d);b=f+b*(h-f);c=g+c*(d-g);Oq(a,b,c);return new M(null,2,5,N,[b,c],null)}
var Rq=function Rq(b,c,d){if(null!=b&&null!=b.gc)return b.gc(b,c,d);var e=Rq[ia(null==b?null:b)];if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);e=Rq._;if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);throw cb("Container.update-handle!",b);};PIXI.Container.prototype.gc=function(a,b,c){return Qq(this,b,c)};PIXI.ParticleContainer.prototype.gc=function(a,b,c){return Qq(this,b,c)};
function Sq(a){return wi(eg.b(Bf,function(){return function c(a){return new Re(null,function(){for(;;){var e=w(a);if(e){if(le(e)){var f=Dc(e),g=D(f),h=Ve(g);a:for(var l=0;;)if(l<g){var k=vb.b(f,l),k=new M(null,2,5,N,[Qe(k),!0],null);h.add(k);l+=1}else{f=!0;break a}return f?kf(h.J(),c(Ec(e))):kf(h.J(),null)}h=z(e);return Pd(new M(null,2,5,N,[Qe(h),!0],null),c(ed(e)))}return null}},null,null)}(a)}()))}
var Tq=function Tq(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Tq.l(0<c.length?new dd(c.slice(0),0,null):null)};
Tq.l=function(a){var b=null!=a&&(a.i&64||a.I)?sf(Jf,a):a,c=v.b(b,Lm),d=v.c(b,Dm,0),e=v.b(b,Xm),f=v.c(b,Zm,!0),g=v.b(b,on);a=v.c(b,Do,null);var h=v.b(b,Ri),l=v.c(b,Ni,0),k=v.c(b,Vi,new Nh(null,new Qa(null,1,[rm,null],null),null)),n=v.c(b,$i,$d),p=v.b(b,ij),q=v.c(b,nj,0),r=v.b(b,uj),x=v.c(b,Hj,1),y=v.b(b,Sk),B=v.b(b,jl),E=v.b(b,ll),K=v.c(b,Pl,null),G=v.b(b,El),Y=v.b(b,Wl),b=v.c(b,im,1),k=t(B)?new PIXI.ParticleContainer(null,Sq(k)):new PIXI.Container;if(!t(k))throw Error([u("Assert failed: "),u("creation of container failed and returned nil"),
u("\n"),u("container")].join(""));k.x=d;k.y=l;k.rotation=q;k.visible=f;gd.b(x,1)||(k.scale="number"===typeof x?Lq(x,x):Lq(v.b(x,0),v.b(x,1)));gd.b(1,b)||(k.alpha=b);t(y)&&(k.gd=y);k.interactive=pe(t(E)?E:t(e)?e:t(h)?h:t(g)?g:t(p)?p:t(G)?G:t(Y)?Y:c);k.interactiveChildren=pe(t(E)?E:t(e)?e:t(h)?h:t(g)?g:t(p)?p:t(G)?G:t(Y)?Y:c);k.hitArea=new PIXI.Rectangle(0,0,1E3,1E3);t(e)&&(k.mousedown=e);t(E)&&(k.mousemove=E);t(h)&&(k.mouseup=h);t(g)&&(k.mouseupoutside=g);t(G)&&(k.touchstart=G);t(p)&&(k.touchmove=
p);t(Y)&&(k.touchup=Y);t(c)&&(k.touchupoutside=c);null!=r&&(k.buttonMode=r);c=w(n);d=null;for(f=e=0;;)if(f<e)g=d.T(null,f),k.addChild(g),f+=1;else if(c=w(c))d=c,le(d)?(c=Dc(d),f=Ec(d),d=c,e=D(c),c=f):(c=z(d),k.addChild(c),c=A(d),d=null,e=0),f=0;else break;c=t(a)?a:K;n=t(c)?0<D(n):c;t(n)&&Rq(k,t(a)?a:0,t(K)?K:0);return k};Tq.A=0;Tq.C=function(a){return Tq.l(w(a))};if("undefined"===typeof Uq)var Uq=If?If(Bf):Hf.call(null,Bf);
function Vq(a,b){var c=null!=b&&(b.i&64||b.I)?sf(Jf,b):b,d=v.c(c,Wm,8421504),e=v.c(c,Nm,0),f=v.c(c,Pm,!1),g=v.c(c,An,0),h=v.c(c,Cn,40),l=v.b(c,Nj),k=v.c(c,jk,600),n=v.c(c,mk,1),p=v.c(c,sl,16777215),q=v.c(c,nl,2),r=v.c(c,Gl,0),x=v.b(c,wm),c=v.c(c,um,1),y=new PIXI.Graphics;y.beginFill(r);y.lineStyle(0,p);y.drawRect(0,0,k,h);y.lineStyle(0,p);y.beginFill(d);y.drawRect(q,q,(1>a?a:1)*(k-q-q),h-q-q);y.endFill();var d=(1>a?a:1)*k,r=q+g,g=d-g,B=q+e,e=h-q-e;0<d&&(t(l)&&(y.lineStyle(c,l),y.moveTo(r,e),y.lineTo(r,
B),y.lineTo(g,B)),t(x)&&(y.lineStyle(n,x),y.moveTo(r,e),y.lineTo(g,e),y.lineTo(g,B)));t(f)&&(y.lineStyle(q,p),y.drawRect(0,0,k,h));return y.generateTexture(!1)}function Wq(a,b){var c=Mq(Vq(0,b),Rd([Hj,v.c(b,Hj,1)],0));c.alpha=0;a.addChild(c);console.log("sprite:",c);return c}function Xq(a){var b=v.b(C.a?C.a(Uq):C.call(null,Uq),a);if(t(b))a=b;else throw Error([u("Texture "),u(a),u(" not loaded")].join(""));return Yi.a?Yi.a(a):Yi.call(null,a)}
function Yq(a,b){Yf.u(Uq,be,Pe.a(z(Yd(a.split("/")).split("."))),b);return b}Mi(Zp,"png",function(a,b){return Yq(a,b)});Mi(Zp,"gif",function(a,b){return Yq(a,b)});Mi(Zp,"jpg",function(a,b){return Yq(a,b)});
function Zq(a){var b=Tp(null),c=new Image;c.crossOrigin="";c.onload=function(b,c){return function(){return Xp(b,new M(null,2,5,N,[a,new Qa(null,3,[Km,new PIXI.Texture(new PIXI.BaseTexture(c,PIXI.SCALE_MODES.LINEAR)),Yi,new PIXI.Texture(new PIXI.BaseTexture(c,PIXI.SCALE_MODES.NEAREST)),vm,c],null)],null))}}(b,c);c.onerror=function(b){return function(){return Xp(b,new M(null,2,5,N,[a,null],null))}}(b,c);c.onabort=function(){return function(){return alert("abort")}}(b,c);c.src=a;return b}
Mi(Yp,"png",function(a){return Zq(a)});Mi(Yp,"gif",function(a){return Zq(a)});Mi(Yp,"jpg",function(a){return Zq(a)});
function $q(a,b){var c=null!=b&&(b.i&64||b.I)?sf(Jf,b):b,d=v.c(c,xk,1),e=v.c(c,kk,null),f=v.c(c,Vm,0),g=null==e?a.alpha:e,h=60*d,l=Tp(1);sp(function(b,c,d,e,f,g,h,l){return function(){var E=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=a(c);if(!L(e,O)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,Kp(c),d=O;else throw f;}if(!L(d,O))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=
null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.a=b;return d}()}(function(b,c,d,e,f,g,h,l){return function(b){var e=b[1];if(1===e)return e=d,b[7]=e,b[2]=null,b[1]=2,O;if(2===e)return e=oq(),Gp(b,4,e);if(3===e)return Hp(b,b[2]);if(4===e){var e=b[7],f=b[2],g=a.alpha=l+e/d*(c-l);b[8]=f;b[9]=g;b[1]=t(0<e)?5:6;return O}return 5===e?(e=b[7],b[7]=e-1,b[2]=null,b[1]=2,O):6===e?(b[2]=null,b[1]=7,O):
7===e?(b[2]=b[2],b[1]=3,O):null}}(b,c,d,e,f,g,h,l),b,c,d,e,f,g,h,l)}(),K=function(){var a=E.j?E.j():E.call(null);a[6]=b;return a}();return Fp(K)}}(l,g,h,b,c,d,e,f));return l}
function ar(a,b){var c=null!=b&&(b.i&64||b.I)?sf(Jf,b):b,d=v.c(c,xk,1),e=v.c(c,kk,0),f=v.c(c,Vm,1),g=60*d,h=Tp(1);sp(function(b,c,d,e,f,g,h){return function(){var y=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=a(c);if(!L(e,O)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,Kp(c),d=O;else throw f;}if(!L(d,O))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.a=b;return d}()}(function(b,c,d,e,f,g,h){return function(b){var d=b[1];if(1===d)return d=c,b[7]=d,b[2]=null,b[1]=2,O;if(2===d)return d=oq(),Gp(b,4,d);if(3===d)return Hp(b,b[2]);if(4===d){var d=b[7],e=b[2],f=a.alpha=g+(c-d)/c*(h-g);b[8]=f;b[9]=e;b[1]=t(0<d)?5:6;return O}return 5===d?(d=b[7],b[7]=d-1,b[2]=null,b[1]=2,O):6===d?(b[2]=null,b[1]=7,O):7===d?(b[2]=b[2],b[1]=3,O):null}}(b,c,d,e,f,g,h),b,c,d,e,f,g,h)}(),
B=function(){var a=y.j?y.j():y.call(null);a[6]=b;return a}();return Fp(B)}}(h,g,b,c,d,e,f));return h}function br(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return cr(arguments[0],arguments[1],arguments[2],3<b.length?new dd(b.slice(3),0,null):null)}
function cr(a,b,c,d){var e=null!=a&&(a.i&64||a.I)?sf(Jf,a):a,f=v.b(e,Nk),g=null!=d&&(d.i&64||d.I)?sf(Jf,d):d,h=v.c(g,Ao,.01),l=v.c(g,Oj,.01),k=Wq(function(){var a=function(){var a=vl.a(e);return b.a?b.a(a):b.call(null,a)}();if(t(a))return a;throw function(){var a=[u("canvas layer "),u(b),u(" not found.")].join("");return Error(a)}();}(),g),n=Tp(1);sp(function(a,d,e,f,g,h,l,k,n,Y,P){return function(){var H=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=
a(c);if(!L(e,O)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,Kp(c),d=O;else throw f;}if(!L(d,O))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.a=b;return d}()}(function(a,d,e,f,g,h,l,k,n,p,q){return function(G){var r=G[1];if(1===r){var y=ar(d,Rd([xk,p],0));return Gp(G,
2,y)}if(2===r){var x=G[2],y=$p(c,function(){return function(a,b,c,d,e,f,g,h,l,k,n){return function(a,b){return d.texture=Vq(a/b,n)}}(x,r,a,d,e,f,g,h,l,k,n,p,q)}());G[7]=x;return Gp(G,3,y)}if(3===r){var y=G[2],P=$q(d,Rd([xk,q],0));G[8]=y;return Gp(G,4,P)}if(4===r){var y=G[8],P=G[2],B=vl.a(g),B=(b.a?b.a(B):b.call(null,B)).removeChild(d);G[9]=P;G[10]=B;return Hp(G,y)}return null}}(a,d,e,f,g,h,l,k,n,Y,P),a,d,e,f,g,h,l,k,n,Y,P)}(),ga=function(){var b=H.j?H.j():H.call(null);b[6]=a;return b}();return Fp(ga)}}(n,
k,a,e,e,f,d,g,g,h,l));return n};var dr=ce([Si,dj,Mj,Rj,Sj,Vj,Xj,Bk,Kk,Rk,hl,ql,tl,Fl,Hl,Ul,Yl,Zl,fm,gm,tm,ym,Am,Ym,an,en,jn,kn,ln,tn,un,Dn],[new M(null,2,5,N,[80,16],null),new M(null,2,5,N,[112,32],null),new M(null,2,5,N,[144,16],null),new M(null,2,5,N,[0,112],null),new M(null,2,5,N,[112,16],null),new M(null,2,5,N,[96,16],null),new M(null,2,5,N,[80,48],null),new M(null,2,5,N,[128,48],null),new M(null,2,5,N,[80,32],null),new M(null,2,5,N,[144,48],null),new M(null,2,5,N,[64,112],null),new M(null,2,5,N,[32,112],null),new M(null,2,
5,N,[128,16],null),new M(null,2,5,N,[128,32],null),new M(null,2,5,N,[288,112],null),new M(null,2,5,N,[144,0],null),new M(null,2,5,N,[48,32],null),new M(null,2,5,N,[48,112],null),new M(null,2,5,N,[96,48],null),new M(null,2,5,N,[272,112],null),new M(null,2,5,N,[64,96],null),new M(null,2,5,N,[112,48],null),new M(null,2,5,N,[128,0],null),new M(null,2,5,N,[16,112],null),new M(null,2,5,N,[240,112],null),new M(null,2,5,N,[64,32],null),new M(null,2,5,N,[112,0],null),new M(null,2,5,N,[96,0],null),new M(null,
2,5,N,[256,112],null),new M(null,2,5,N,[96,32],null),new M(null,2,5,N,[144,32],null),new M(null,2,5,N,[80,0],null)]),Kq=ce([Oi,Zi,jj,xj,Fj,rk,wk,yk,Ak,Fk,Lk,rl,km,xo],[new Qa(null,2,[sk,new M(null,2,5,N,[288,48],null),Pk,new M(null,2,5,N,[32,48],null)],null),new Qa(null,2,[sk,new M(null,2,5,N,[320,144],null),Pk,new M(null,2,5,N,[16,16],null)],null),new Qa(null,2,[sk,new M(null,2,5,N,[304,144],null),Pk,new M(null,2,5,N,[16,16],null)],null),new Qa(null,2,[sk,new M(null,2,5,N,[160,0],null),Pk,new M(null,
2,5,N,[32,48],null)],null),new Qa(null,2,[sk,new M(null,2,5,N,[304,112],null),Pk,new M(null,2,5,N,[16,16],null)],null),new Qa(null,2,[sk,new M(null,2,5,N,[368,112],null),Pk,new M(null,2,5,N,[16,16],null)],null),new Qa(null,2,[sk,new M(null,2,5,N,[0,80],null),Pk,new M(null,2,5,N,[16,16],null)],null),new Qa(null,2,[sk,new M(null,2,5,N,[352,112],null),Pk,new M(null,2,5,N,[16,16],null)],null),new Qa(null,2,[sk,new M(null,2,5,N,[320,128],null),Pk,new M(null,2,5,N,[16,16],null)],null),new Qa(null,2,[sk,
new M(null,2,5,N,[336,112],null),Pk,new M(null,2,5,N,[16,16],null)],null),new Qa(null,2,[sk,new M(null,2,5,N,[320,112],null),Pk,new M(null,2,5,N,[16,16],null)],null),new Qa(null,2,[sk,new M(null,2,5,N,[128,112],null),Pk,new M(null,2,5,N,[16,16],null)],null),new Qa(null,2,[sk,new M(null,2,5,N,[336,128],null),Pk,new M(null,2,5,N,[16,16],null)],null),new Qa(null,2,[sk,new M(null,2,5,N,[304,128],null),Pk,new M(null,2,5,N,[16,16],null)],null)]);function er(a){var b=(uq.j?uq.j():uq.call(null))[0];return t(b)?b.axes[a]:null}for(var fr=[new M(null,2,5,N,[xo,Dm],null),0,new M(null,2,5,N,[xo,Ni],null),1,new M(null,2,5,N,[km,Dm],null),2,new M(null,2,5,N,[km,Ni],null),3],gr=[],hr=0;;)if(hr<fr.length){var ir=fr[hr],jr=fr[hr+1];-1===$g(gr,ir)&&(gr.push(ir),gr.push(jr));hr+=2}else break;
var kr=ce([Ni,Qi,Ti,Zi,fj,hj,rj,sj,Wa,zj,Aj,Ej,Lj,Wj,Xj,bk,kk,nk,tk,Dk,Jk,Lk,Uk,Zk,fl,ml,ul,Jl,Kl,Ol,Vl,fm,km,nm,ym,Cm,Dm,Fm,Qm,fn,zn,xo,zo],[3,14,12,13,15,16,14,5,12,0,6,7,15,7,4,13,9,6,1,13,14,12,13,5,5,7,4,3,8,7,15,1,15,6,5,2,2,4,4,6,0,14,12]),lr=function lr(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return lr.c(arguments[0],arguments[1],arguments[2]);case 2:return lr.b(arguments[0],arguments[1]);case 1:return lr.a(arguments[0]);
default:throw Error([u("Invalid arity: "),u(c.length)].join(""));}};lr.c=function(a,b,c){return t(a)?a.buttons[v.c(kr,c,c)]:null};lr.b=function(a,b){return lr.c((uq.j?uq.j():uq.call(null))[a],a,b)};lr.a=function(a){return lr.b(0,a)};lr.A=3;Ff.c(function(a){return t(a)?.1<a:null},function(a){return t(a)?a.value:null},lr);function mr(){var a=1*(Math.abs(2)+1)*Math.random()+-1|0;return 1>a?a:1};W.b?W.b(0,0):W.call(null,0,0);W.b?W.b(0,0):W.call(null,0,0);function nr(a,b){var c=null!=a&&(a.i&64||a.I)?sf(Jf,a):a;v.b(c,cj);var d=v.b(c,sk),e=v.b(c,Sm),f=v.b(c,Ml),g=v.b(c,ok),h=xq.j?xq.j():xq.call(null),l=b[0]-d[0],d=b[1]-d[1],k=Math.sqrt(l*l+d*d);k?(k=1/k,h[0]=l*k,h[1]=d*k):h[0]=h[1]=0;g=Cq(h,g);f=Eq(Bq(g,e),f);c=null!=c&&(c.i&64||c.I)?sf(Jf,c):c;l=v.b(c,cj);g=v.b(c,Sm);e=v.b(c,sk);h=v.b(c,ok);f=Cq(f,1/l);f=Eq(Aq(f,g),h);e=Aq(e,f);return be.l(c,sk,e,Rd([Sm,f],0))};if("undefined"===typeof or)var or=If?If(Bf):Hf.call(null,Bf);function pr(a){var b=Xq(Ok);return eg.b(Bf,Zf.b(function(a){return function(b){var e=F(b,0,null),f=F(b,1,null),g=F(b,2,null),h=F(b,3,null);b=F(b,4,null);var l=new M(null,2,5,N,[h-f,b-g],null);return new M(null,2,5,N,[e,new Qa(null,5,[yn,e,sk,new M(null,2,5,N,[f,g],null),Co,new M(null,2,5,N,[h,b],null),Pk,l,sn,Iq(a,new M(null,2,5,N,[f,g],null),l)],null)],null)}}(b),a))}
function qr(a,b){return new Qa(null,5,[Ok,pr(a),sn,Xq(Ok),Ij,b,ej,5,Cn,7],null)}
function rr(a,b,c){var d=null!=c&&(c.i&64||c.I)?sf(Jf,c):c;c=v.c(d,Sk,16777215);var e=v.c(d,Dm,0),f=v.c(d,Ni,0),d=v.c(d,Yj,0),g=C.a?C.a(or):C.call(null,or);a=a.a?a.a(g):a.call(null,g);b=w(b);g=w(b);z(g);A(g);for(var h=null,l=$d;;){g=w(b);b=z(g);var k=g=A(g),g=e,n=h,e=l,l=h=Ok.a(a).call(null,b),p=null!=l&&(l.i&64||l.I)?sf(Jf,l):l,l=v.b(p,sn),q=v.b(p,sk),p=v.b(p,Pk);F(q,0,null);F(q,1,null);q=F(p,0,null);F(p,1,null);n=[u(n),u(b)].join("");n=Ij.a(a).call(null,n);if(null==h)if(w(k))g=g+ej.a(a)+d,h=b,n=
e,b=k,e=g,l=n;else return null;else if(h=Mq(l,Rd([Dm,g+n|0,Ni,f,Do,0,Pl,0,Sk,c,Hj,1],0)),w(k))g=g+q+1+n,n=b,l=Zd.b(e,h),b=k,e=g,h=n;else return Zd.b(e,h)}}
function sr(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;var c=arguments[0],d=arguments[1],e=arguments[2],b=3<b.length?new dd(b.slice(3),0,null):null,b=null!=b&&(b.i&64||b.I)?sf(Jf,b):b,b=v.c(b,Sk,16777215);c.removeChildren();a:for(var b=Rd([Sk,b],0),b=null!=b&&(b.i&64||b.I)?sf(Jf,b):b,b=v.c(b,Sk,16777215),d=w(rr(d,e,Rd([Sk,b],0))),e=null,f=0,g=0;;)if(g<f)b=e.T(null,g),c.addChild(b),g+=1;else if(d=w(d))e=d,le(e)?(d=Dc(e),f=Ec(e),e=d,b=D(d),d=f,f=b):(b=z(e),
c.addChild(b),d=A(e),e=null,f=0),g=0;else break a;return null}function tr(a,b,c){var d=null!=c&&(c.i&64||c.I)?sf(Jf,c):c;c=v.b(d,Sk);var e=v.c(d,Hj,1);v.b(d,Im);var f=v.b(d,nj),g=v.b(d,Dm),h=v.b(d,Ni),l=v.c(d,Zm,!0),k=v.c(d,Do,.5),d=v.c(d,Pl,.5);return Tq.l(Rd([$i,rr(a,b,Rd([c],0)),jl,ab(c),Hj,e,nj,f,Dm,g,Ni,h,Zm,l,Do,k,Pl,d],0))};if("undefined"===typeof ur){var ur,vr=new Qa(null,7,[sk,W.b?W.b(80,80):W.call(null,80,80),lm,100,Nl,0,Ak,null,bl,xq.j?xq.j():xq.call(null),Om,$d,vj,!1],null);ur=If?If(vr):Hf.call(null,vr)};var Z=Error();function wr(a,b,c,d,e){return a+(c-a)/(d-b)*(e-b)}function zr(a,b,c,d,e){return b+(d-b)/(c-a)*(e-a)}
function Ar(a,b,c,d,e,f,g,h){for(var l=Math.floor(a),k=Math.floor(b),n=new M(null,1,5,N,[new M(null,2,5,N,[l,k],null)],null);;){if(gd.b(l,Math.floor(c))&&gd.b(k,Math.floor(d)))return n;var p=wr(a,b,c,d,f.a?f.a(k):f.call(null,k)),q=zr(a,b,c,d,e.a?e.a(l):e.call(null,l));if(l<=p&&p<=l+1)p=l,q=g.a?g.a(k):g.call(null,k),n=Zd.b(n,new M(null,2,5,N,[l,g.a?g.a(k):g.call(null,k)],null)),l=p,k=q;else if(k<=q&&q<=k+1)p=h.a?h.a(l):h.call(null,l),q=k,n=Zd.b(n,new M(null,2,5,N,[h.a?h.a(l):h.call(null,l),k],null)),
l=p,k=q;else if(gd.b(p,h.a?h.a(l):h.call(null,l))&&gd.b(q,g.a?g.a(k):g.call(null,k)))p=h.a?h.a(l):h.call(null,l),q=g.a?g.a(k):g.call(null,k),n=Zd.l(n,new M(null,2,5,N,[l,g.a?g.a(k):g.call(null,k)],null),Rd([new M(null,2,5,N,[h.a?h.a(l):h.call(null,l),k],null),new M(null,2,5,N,[h.a?h.a(l):h.call(null,l),g.a?g.a(k):g.call(null,k)],null)],0)),l=p,k=q;else throw Error([u("Assert failed: "),u("cell-coverage fatal error!"),u("\n"),u("false")].join(""));}}
function Br(a,b,c,d,e){for(var f=Math.floor(a),g=Math.floor(b),h=new M(null,1,5,N,[new M(null,2,5,N,[f,g],null)],null);;){if(gd.b(f,Math.floor(c)))return h;var l=zr(a,b,c,d,f+1);if(!(g<=l&&l<=g+1))throw Error([u("Assert failed: "),u("intersection out of range"),u("\n"),u("(\x3c\x3d y right-y (inc y))")].join(""));var l=e.a?e.a(f):e.call(null,f),k=g,h=Zd.b(h,new M(null,2,5,N,[e.a?e.a(f):e.call(null,f),g],null)),f=l,g=k}}
function Cr(a,b,c,d,e){for(var f=Math.floor(a),g=Math.floor(b),h=new M(null,1,5,N,[new M(null,2,5,N,[f,g],null)],null);;){if(gd.b(g,Math.floor(d)))return h;var l=wr(a,b,c,d,g+1);if(!(f<=l&&l<=f+1))throw Error([u("Assert failed: "),u("intersection out of range"),u("\n"),u("(\x3c\x3d x top-x (inc x))")].join(""));var l=f,k=e.a?e.a(g):e.call(null,g),h=Zd.b(h,new M(null,2,5,N,[f,e.a?e.a(g):e.call(null,g)],null)),f=l,g=k}}
function Dr(a,b,c,d){var e=Math.sign(c-a),f=Math.sign(d-b);try{if(1===e)try{if(1===f)return Ar(a,b,c,d,wd,wd,wd,wd);throw Z;}catch(l){if(l instanceof Error){var g=l;if(g===Z)try{if(-1===f)return Ar(a,b,c,d,wd,se,Be,wd);throw Z;}catch(k){if(k instanceof Error){var h=k;if(h===Z)throw Z;throw h;}throw k;}else throw g;}else throw l;}else throw Z;}catch(l){if(l instanceof Error)if(g=l,g===Z)try{if(-1===e)try{if(1===f)return Ar(a,b,c,d,se,wd,wd,Be);throw Z;}catch(k){if(k instanceof Error)if(h=k,h===Z)try{if(-1===
f)return Ar(a,b,c,d,se,se,Be,Be);throw Z;}catch(n){if(n instanceof Error){g=n;if(g===Z)throw Z;throw g;}throw n;}else throw h;else throw k;}else throw Z;}catch(k){if(k instanceof Error)if(h=k,h===Z)try{if(1===e)return Br(a,b,c,d,wd);throw Z;}catch(n){if(n instanceof Error)if(g=n,g===Z)try{if(-1===e)return Br(a,b,c,d,Be);throw Z;}catch(p){if(p instanceof Error)if(p===Z)try{if(-1===f)return Cr(a,b,c,d,Be);throw Z;}catch(q){if(q instanceof Error)if(q===Z)try{if(1===f)return Cr(a,b,c,d,wd);throw Z;}catch(r){if(r instanceof
Error)if(r===Z)try{if(0===f)try{if(0===e)return new M(null,1,5,N,[new M(null,2,5,N,[Math.floor(a),Math.floor(b)],null)],null);throw Z;}catch(x){if(x instanceof Error){a=x;if(a===Z)throw Z;throw a;}throw x;}else throw Z;}catch(x){if(x instanceof Error){a=x;if(a===Z)throw Error([u("No matching clause: "),u(e),u(" "),u(f)].join(""));throw a;}throw x;}else throw r;else throw r;}else throw q;else throw q;}else throw p;else throw p;}else throw g;else throw n;}else throw h;else throw k;}else throw g;else throw l;
}}function Er(a){var b=a[0];a=a[1];var c=b|0,d=a|0;return new M(null,6,5,N,[b,a,c,d,b-c,a-d],null)}
function Fr(a,b,c){a=null!=a&&(a.i&64||a.I)?sf(Jf,a):a;var d=v.b(a,Wi),e=v.b(a,pl),f=v.b(a,Rl),g=v.b(a,wo),h=v.b(a,Zj),l=Er(c);a=F(l,0,null);var k=F(l,1,null),n=F(l,2,null),p=F(l,3,null),q=F(l,4,null),r=F(l,5,null);b=Er(b);F(b,0,null);F(b,1,null);F(b,2,null);F(b,3,null);F(b,4,null);F(b,5,null);var x=q<e,y=q>g,B=r<f;b=r>h;var E=pe(d.b?d.b(n,p):d.call(null,n,p)),K=pe(function(){var a=n-1;return d.b?d.b(a,p):d.call(null,a,p)}()),G=pe(function(){var a=n+1;return d.b?d.b(a,p):d.call(null,a,p)}()),Y=pe(function(){var a=
p-1;return d.b?d.b(n,a):d.call(null,n,a)}()),l=pe(function(){var a=p+1;return d.b?d.b(n,a):d.call(null,n,a)}()),P=pe(function(){var a=n-1,b=p-1;return d.b?d.b(a,b):d.call(null,a,b)}()),H=pe(function(){var a=n-1,b=p+1;return d.b?d.b(a,b):d.call(null,a,b)}()),ga=pe(function(){var a=n+1,b=p-1;return d.b?d.b(a,b):d.call(null,a,b)}()),da=pe(function(){var a=n+1,b=p+1;return d.b?d.b(a,b):d.call(null,a,b)}());try{if(!0===E)try{if(!0===x)try{if(!0===K)try{if(!0===b)try{if(!1===H)try{if(!0===l){var Q=e-q,
T=r-h;if(Q<T)return E=n+e,W.b?W.b(E,k):W.call(null,E,k);E=p+h;return W.b?W.b(a,E):W.call(null,a,E)}throw Z;}catch(ba){if(ba instanceof Error){var X=ba;if(X===Z)throw Z;throw X;}throw ba;}else throw Z;}catch(ba){if(ba instanceof Error){X=ba;if(X===Z)throw Z;throw X;}throw ba;}else throw Z;}catch(ba){if(ba instanceof Error)if(X=ba,X===Z)try{if(!0===B)try{if(!1===P)try{if(!0===Y){Q=e-q;T=f-r;if(Q<T)return P=n+e,W.b?W.b(P,k):W.call(null,P,k);P=p+f;return W.b?W.b(a,P):W.call(null,a,P)}throw Z;}catch(U){if(U instanceof
Error){var R=U;if(R===Z)throw Z;throw R;}throw U;}else throw Z;}catch(U){if(U instanceof Error){R=U;if(R===Z)throw Z;throw R;}throw U;}else throw Z;}catch(U){if(U instanceof Error){R=U;if(R===Z)throw Z;throw R;}throw U;}else throw X;else throw ba;}else throw Z;}catch(ba){if(ba instanceof Error){X=ba;if(X===Z)throw Z;throw X;}throw ba;}else throw Z;}catch(ba){if(ba instanceof Error)if(X=ba,X===Z)try{if(!0===y)try{if(!0===G)try{if(!0===b)try{if(!0===l)try{if(!1===da){Q=q-g;T=r-h;if(Q<T)return T=n+g,
W.b?W.b(T,k):W.call(null,T,k);T=p+h;return W.b?W.b(a,T):W.call(null,a,T)}throw Z;}catch(U){if(U instanceof Error){R=U;if(R===Z)throw Z;throw R;}throw U;}else throw Z;}catch(U){if(U instanceof Error){R=U;if(R===Z)throw Z;throw R;}throw U;}else throw Z;}catch(U){if(U instanceof Error)if(R=U,R===Z)try{if(!0===B)try{if(!0===Y)try{if(!1===ga){Q=q-g;if(Q<f-r)return Q=n+g,W.b?W.b(Q,k):W.call(null,Q,k);Q=p+f;return W.b?W.b(a,Q):W.call(null,a,Q)}throw Z;}catch(V){if(V instanceof Error){var S=V;if(S===Z)throw Z;
throw S;}throw V;}else throw Z;}catch(V){if(V instanceof Error){S=V;if(S===Z)throw Z;throw S;}throw V;}else throw Z;}catch(V){if(V instanceof Error){S=V;if(S===Z)throw Z;throw S;}throw V;}else throw R;else throw U;}else throw Z;}catch(U){if(U instanceof Error){R=U;if(R===Z)throw Z;throw R;}throw U;}else throw Z;}catch(U){if(U instanceof Error)if(R=U,R===Z)try{if(!0===x)try{if(!1===K)try{if(!0===b)try{if(!1===l)return Q=n+e,q=p+h,W.b?W.b(Q,q):W.call(null,Q,q);throw Z;}catch(V){if(V instanceof Error){S=
V;if(S===Z)throw Z;throw S;}throw V;}else throw Z;}catch(V){if(V instanceof Error)if(S=V,S===Z)try{if(!0===B)try{if(!1===Y)return Q=n+e,q=p+f,W.b?W.b(Q,q):W.call(null,Q,q);throw Z;}catch(aa){if(aa instanceof Error){var ca=aa;if(ca===Z)throw Z;throw ca;}throw aa;}else throw Z;}catch(aa){if(aa instanceof Error){ca=aa;if(ca===Z)throw Z;throw ca;}throw aa;}else throw S;else throw V;}else throw Z;}catch(V){if(V instanceof Error){S=V;if(S===Z)throw Z;throw S;}throw V;}else throw Z;}catch(V){if(V instanceof
Error)if(S=V,S===Z)try{if(!0===y)try{if(!1===G)try{if(!0===B)try{if(!1===Y)return Q=n+g,q=p+f,W.b?W.b(Q,q):W.call(null,Q,q);throw Z;}catch(aa){if(aa instanceof Error){ca=aa;if(ca===Z)throw Z;throw ca;}throw aa;}else throw Z;}catch(aa){if(aa instanceof Error)if(ca=aa,ca===Z)try{if(!0===b)try{if(!1===l)return Q=n+g,q=p+h,W.b?W.b(Q,q):W.call(null,Q,q);throw Z;}catch(pa){if(pa instanceof Error){var ea=pa;if(ea===Z)throw Z;throw ea;}throw pa;}else throw Z;}catch(pa){if(pa instanceof Error){ea=pa;if(ea===
Z)throw Z;throw ea;}throw pa;}else throw ca;else throw aa;}else throw Z;}catch(aa){if(aa instanceof Error){ca=aa;if(ca===Z)throw Z;throw ca;}throw aa;}else throw Z;}catch(aa){if(aa instanceof Error){ca=aa;if(ca===Z)throw Z;throw ca;}throw aa;}else throw S;else throw V;}else throw R;else throw U;}else throw X;else throw ba;}else throw Z;}catch(ba){if(ba instanceof Error)if(X=ba,X===Z)try{if(!0===x)try{if(!1===K)return e=n+e,W.b?W.b(e,k):W.call(null,e,k);throw Z;}catch(U){if(U instanceof Error){R=U;
if(R===Z)throw Z;throw R;}throw U;}else throw Z;}catch(U){if(U instanceof Error)if(R=U,R===Z)try{if(!0===y)try{if(!1===G)return R=n+g,W.b?W.b(R,k):W.call(null,R,k);throw Z;}catch(V){if(V instanceof Error){S=V;if(S===Z)throw Z;throw S;}throw V;}else throw Z;}catch(V){if(V instanceof Error)if(S=V,S===Z)try{if(!0===B)try{if(!1===Y)return S=p+f,W.b?W.b(a,S):W.call(null,a,S);throw Z;}catch(aa){if(aa instanceof Error){ca=aa;if(ca===Z)throw Z;throw ca;}throw aa;}else throw Z;}catch(aa){if(aa instanceof Error)if(ca=
aa,ca===Z)try{if(!0===b)try{if(!1===l)return ca=p+h,W.b?W.b(a,ca):W.call(null,a,ca);throw Z;}catch(pa){if(pa instanceof Error){ea=pa;if(ea===Z)throw Z;throw ea;}throw pa;}else throw Z;}catch(pa){if(pa instanceof Error){ea=pa;if(ea===Z)return c;throw ea;}throw pa;}else throw ca;else throw aa;}else throw S;else throw V;}else throw R;else throw U;}else throw X;else throw ba;}}
function Gr(a,b,c,d,e,f,g,h){var l=wr(a,b,c,d,h.a?h.a(f):h.call(null,f));a=zr(a,b,c,d,g.a?g.a(e):g.call(null,e));return e<=l&&l<=e+1?(e=h.a?h.a(f):h.call(null,f),W.b?W.b(l,e):W.call(null,l,e)):f<=a&&a<=f+1?(l=g.a?g.a(e):g.call(null,e),W.b?W.b(l,a):W.call(null,l,a)):null}function Hr(a,b,c,d,e,f,g){a=wr(a,b,c,d,g.a?g.a(f):g.call(null,f));return e<=a&&a<=e+1?(e=g.a?g.a(f):g.call(null,f),W.b?W.b(a,e):W.call(null,a,e)):null}
function Ir(a,b,c,d,e,f,g){a=zr(a,b,c,d,g.a?g.a(e):g.call(null,e));return f<=a&&a<=f+1?(e=g.a?g.a(e):g.call(null,e),W.b?W.b(e,a):W.call(null,e,a)):null}
function Jr(a,b,c,d){var e=Er(b);b=F(e,0,null);var f=F(e,1,null);F(e,2,null);F(e,3,null);F(e,4,null);F(e,5,null);var g=Er(a);a=F(g,0,null);e=F(g,1,null);F(g,2,null);F(g,3,null);F(g,4,null);F(g,5,null);var g=Math.sign(b-a),h=Math.sign(f-e);try{if(1===g)try{if(1===h)return Gr(a,e,b,f,c,d,se,se);throw Z;}catch(k){if(k instanceof Error){var l=k;if(l===Z)throw Z;throw l;}throw k;}else throw Z;}catch(k){if(k instanceof Error)if(l=k,l===Z)try{if(-1===g)try{if(1===h)return Gr(a,e,b,f,c,d,wd,se);throw Z;}catch(n){if(n instanceof
Error){l=n;if(l===Z)throw Z;throw l;}throw n;}else throw Z;}catch(n){if(n instanceof Error)if(l=n,l===Z)try{if(1===g)try{if(-1===h)return Gr(a,e,b,f,c,d,se,wd);throw Z;}catch(p){if(p instanceof Error){l=p;if(l===Z)throw Z;throw l;}throw p;}else throw Z;}catch(p){if(p instanceof Error)if(l=p,l===Z)try{if(-1===g)try{if(-1===h)return Gr(a,e,b,f,c,d,wd,wd);throw Z;}catch(q){if(q instanceof Error){l=q;if(l===Z)return Ir(a,e,b,f,c,d,wd);throw l;}throw q;}else throw Z;}catch(q){if(q instanceof Error)if(l=
q,l===Z)try{if(1===g)return Ir(a,e,b,f,c,d,se);throw Z;}catch(r){if(r instanceof Error)if(r===Z)try{if(-1===h)return Hr(a,e,b,f,c,d,wd);throw Z;}catch(x){if(x instanceof Error)if(x===Z)try{if(1===h)return Hr(a,e,b,f,c,d,se);throw Z;}catch(y){if(y instanceof Error)if(y===Z)try{if(0===h)try{if(0===g)throw Error([u("Assert failed: "),u("no movement!"),u("\n"),u("false")].join(""));throw Z;}catch(B){if(B instanceof Error){c=B;if(c===Z)throw Z;throw c;}throw B;}else throw Z;}catch(B){if(B instanceof Error){c=
B;if(c===Z)throw Error([u("No matching clause: "),u(g),u(" "),u(h)].join(""));throw c;}throw B;}else throw y;else throw y;}else throw x;else throw x;}else throw r;else throw r;}else throw l;else throw q;}else throw l;else throw p;}else throw l;else throw n;}else throw l;else throw k;}}function Kr(a,b,c,d){b=Jr(a,b,c,d);return Aq(Cq(Bq(b,a),.999),a)}
function Lr(a,b,c){a=null!=a&&(a.i&64||a.I)?sf(Jf,a):a;var d=v.b(a,Wi);if(t(1E-14>Math.abs(c[0]-b[0])&&1E-14>Math.abs(c[1]-b[1])))return c;var e=Er(c),f=F(e,0,null),g=F(e,1,null),h=F(e,2,null),l=F(e,3,null);F(e,4,null);F(e,5,null);var e=Er(b),k=F(e,0,null),n=F(e,1,null),p=F(e,2,null),q=F(e,3,null);F(e,4,null);F(e,5,null);var r=h-p,x=l-q;if(t(function(){var a=2>Math.abs(r);return a&&(a=2>Math.abs(x))?(a=2>Math.abs(r)+Math.abs(x))?d.b?d.b(h,l):d.call(null,h,l):a:a}()))return Fr(a,b,c);f=Dr(k,n,f,g);
g=w(f);e=z(g);A(g);F(e,0,null);for(F(e,1,null);;)if(f=w(f),g=z(f),f=A(f),e=g,g=F(e,0,null),e=F(e,1,null),t(d.b?d.b(g,e):d.call(null,g,e))){if(0===D(f))return c}else return Fr(a,b,Kr(b,c,g,e))};if("undefined"===typeof Mr)var Mr=If?If(Bf):Hf.call(null,Bf);
function Nr(a,b,c,d,e,f){var g=F(c,0,null),h=F(c,1,null),l=Tp(1);sp(function(c,g,h,l){return function(){var r=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=a(c);if(!L(e,O)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,Kp(c),d=O;else throw f;}if(!L(d,O))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.a=b;return d}()}(function(c,g,h,l){return function(k){var n=k[1];if(7===n){var p=k,q=p;q[2]=k[2];q[1]=4;return O}if(20===n){var r=p=k;r[2]=!1;r[1]=21;return O}if(27===n){var x=k[2],Q=p=k;Q[2]=x;Q[1]=15;return O}if(1===n){var T=W.b?W.b(h,l):W.call(null,h,l),X=si(),R=Pe.a(X),S=new M(null,
2,5,N,[bl,R],null),ca=a instanceof I;k[7]=T;k[8]=S;p=k;p[1]=t(ca)?2:3;return O}if(24===n){var ea=k[9],ba=v.b(k[2],Ak);k[9]=ba;p=k;p[1]=t(ba)?25:26;return O}if(39===n){var U=k[10],V=k[11],aa=U,pa=V;k[11]=pa;k[12]=aa;var Ba=p=k;Ba[2]=null;Ba[1]=11;return O}if(4===n){var oa=k[2],va=Mq(d,Rd([Hj,2,Dm,h,Ni,l],0));k[13]=va;k[14]=oa;var Sa=p=k;Sa[2]=null;Sa[1]=10;return O}if(15===n){var Ta=k[15],$a=k[16],va=k[13],Ha=k[17],S=k[8],kb=k[2],Qc=Yf.u(ur,be,bl,Ha),ub=So(S,Fq(Ta),Fq(Ha)),Gd=Nq(va,$a),qc=oq();k[18]=
kb;k[19]=Gd;k[20]=Qc;k[21]=ub;p=k;return Gp(p,31,qc)}if(21===n){var rc=k[2],Gb=p=k;Gb[2]=rc;Gb[1]=18;return O}if(31===n){var ec=k[2],fc=C.a?C.a(ur):C.call(null,ur),Bb=vj.a(fc);k[22]=ec;p=k;p[1]=t(Bb)?32:33;return O}if(32===n){var ec=k[22],wb=p=k;wb[2]=ec;wb[1]=34;return O}if(40===n){var xb=k[2],Xa=p=k;Xa[2]=xb;Xa[1]=37;return O}if(33===n)throw Error("go-while exit");if(13===n){var Nb=k[23],cg=C.a?C.a(ur):C.call(null,ur),id=ab(null==cg);k[23]=cg;p=k;p[1]=id?16:17;return O}if(22===n){var Nb=k[23],jd=
sf(Jf,Nb),Kf=p=k;Kf[2]=jd;Kf[1]=24;return O}if(36===n){var Ha=k[17],S=k[8],sc=Yf.l(ur,kg,Nl,ue,Rd([f],0)),yg=eq(yl,.75),zg=Yf.l(Fo,jg,new M(null,1,5,N,[Pj],null),Mo,Rd([S,Fq(Ha)],0)),Tc=Yf.c(Mr,de,S),Hb=new M(null,2,5,N,[Ha,S],null);k[24]=Tc;k[25]=zg;k[26]=yg;k[27]=sc;var We=p=k;We[2]=Hb;We[1]=37;return O}if(29===n){var Xe=p=k;Xe[2]=null;Xe[1]=30;return O}if(6===n){var Ag=[u("canvas layer "),u(a),u(" not found.")].join("");throw Error(Ag);}if(28===n){var Ye=p=k;Ye[2]=yj;Ye[1]=30;return O}if(25===
n){var Ta=k[15],ea=k[9],Ze=Bq(Ta,ea),Bg=10>(zq.a?zq.a(Ze):zq.call(null,Ze)),p=k;p[1]=t(Bg)?28:29;return O}if(34===n){var Uc=k[28],V=k[11],Ha=k[17],Tb=k[2],Lf=xq.j?xq.j():xq.call(null),U=be.l(Uc,sk,Ha,Rd([Sm,Lf],0)),Cg=0<V;k[29]=Tb;k[10]=U;p=k;p[1]=t(Cg)?35:36;return O}if(17===n){var $e=p=k;$e[2]=!1;$e[1]=18;return O}if(3===n){var Mf=p=k;Mf[2]=a;Mf[1]=4;return O}if(12===n){var Dg=k[2],p=k;p[2]=Dg;Kp(p);return O}if(2===n){var af=k[30],Nf=vl.a(Or),bf=a.a?a.a(Nf):a.call(null,Nf);k[30]=bf;p=k;p[1]=t(bf)?
5:6;return O}if(23===n){var Nb=k[23],cf=p=k;cf[2]=Nb;cf[1]=24;return O}if(35===n)return kb=k[18],p=k,p[1]=t(kb)?38:39,O;if(19===n){var Of=p=k;Of[2]=!0;Of[1]=21;return O}if(11===n){var Ta=k[15],Uc=k[28],$a=k[16],va=k[13],oa=k[14],T=k[7],V=k[11],Ha=k[17],S=k[8],aa=k[12],Ub=sk.a(aa),we=C.a?C.a(ur):C.call(null,ur),kd=sk.a(we),ld=nr(aa,kd),Ob=sk.a(ld),Ib=[Wi,pl,Rl,wo,Zj],Pf=function(){return function(){return function(a,c){var d=new M(null,2,5,N,[a,c],null);return b.a?b.a(d):b.call(null,d)}}(T,S,oa,va,
aa,V,Ub,ld,Ob,Ta,Uc,$a,va,oa,T,V,Ha,S,aa,Ub,we,kd,ld,Ob,Ib,n,c,g,h,l)}(),df=[Pf,.99,.7,.01,.01],Qf=ce(Ib,df),ef=Cq(Ub,.0625),Hd=Cq(Ob,.0625),Vc=Lr(Qf,ef,Hd),Id=Cq(Vc,16),xe=Cq(Id,2),gc=C.a?C.a(Fo):C.call(null,Fo),Vd=Pj.a(gc),ye=W.b?W.b(32,32):W.call(null,32,32),ze=Bq(Ub,ye),Ae=Fq(ze),Rf=W.b?W.b(32,32):W.call(null,32,32),ff=Aq(Ub,Rf),md=Fq(ff),nd=Qo(Vd,Ae,md),Sf=function(){return function(){return function(a){return gd.b(Ak,z(a))}}(nd,ld,Vc,T,oa,V,Id,Ub,va,S,xe,aa,Ta,Uc,$a,va,oa,T,V,Ha,S,aa,Ub,we,
kd,ld,Ob,Ib,Pf,df,Qf,.0625,ef,.0625,Hd,Vc,Id,xe,gc,Vd,ye,ze,Ae,Rf,ff,md,nd,n,c,g,h,l)}(),Fc=ch(nd),Vb=0<D(dg(Sf,Fc));k[15]=Ub;k[28]=ld;k[16]=xe;k[17]=Id;p=k;p[1]=t(Vb)?13:14;return O}if(9===n){var va=k[13],oa=k[14],Tf=k[2],tc=oa.removeChild(va);k[31]=Tf;k[32]=tc;p=k;Kp(p);return O}if(5===n){var af=k[30],qb=p=k;qb[2]=af;qb[1]=7;return O}if(14===n){var Wb=p=k;Wb[2]=null;Wb[1]=15;return O}if(26===n){var Uf=p=k;Uf[2]=null;Uf[1]=27;return O}if(16===n){var Nb=k[23],gf=Nb.I,Vf=Nb.i&64||gf,p=k;p[1]=t(Vf)?
19:20;return O}if(38===n){var U=k[10],V=k[11],Ha=k[17],Zh=eq(Mm,.5),ck=C.a?C.a(ur):C.call(null,ur),dk=sk.a(ck),$h=Bq(Ha,dk),ek=Cq($h,16),ai=be.c(U,Sm,ek),fk=V-1,aa=ai,pa=fk;k[11]=pa;k[33]=Zh;k[12]=aa;var Eg=p=k;Eg[2]=null;Eg[1]=11;return O}if(30===n){var od=k[2],Fg=p=k;Fg[2]=od;Fg[1]=27;return O}if(10===n){va=k[13];oa=k[14];T=k[7];S=k[8];Jp(k,9,8);var gk=oa.addChild(va),bi=Yf.u(Mr,be,S,va),ci=Ro(S,Fq(T)),Ek=[cj,sk,Sm,Ml,ok],hf=xq.j?xq.j():xq.call(null),aa=ce(Ek,[2,T,hf,e/2,e]),V=20;k[34]=bi;k[35]=
ci;k[11]=V;k[36]=gk;k[12]=aa;var Gg=p=k;Gg[2]=null;Gg[1]=11;return O}if(18===n){var hk=k[2],p=k;p[1]=t(hk)?22:23;return O}if(37===n){var di=k[2],ei=p=k;ei[2]=di;ei[1]=12;return O}if(8===n){var fi=k[2],gi=F(fi,0,null),hi=F(fi,1,null),ii=Yf.l(Fo,jg,new M(null,1,5,N,[Pj],null),Mo,Rd([hi,Fq(gi)],0)),ik=Yf.c(Mr,de,hi);k[37]=ii;p=k;return Hp(p,ik)}return null}}(c,g,h,l),c,g,h,l)}(),x=function(){var a=r.j?r.j():r.call(null);a[6]=c;return a}();return Fp(x)}}(l,c,g,h));return l};function Pr(){var a=mq(cl);return t(a)?a:mq(ej)}function Qr(){var a=function(){var a=er(0);return t(a)?a:t(mq(xo))?-1:t(mq(km))?1:0}(),b=function(){var a=er(1);return t(a)?a:t(mq(Lk))?-1:t(mq(Zi))?1:0}();return W.b?W.b(a,b):W.call(null,a,b)};function Rr(){var a=new M(null,2,5,N,[70,60],null),b=F(a,0,null),c=F(a,1,null);return fg(function(a,b,c){return function(){return fg(function(){return function(){return null}}(a,b,c),Sh(0,b))}}(a,b,c),Sh(0,c))}
function Sr(a,b,c){var d=F(b,0,null),e=F(b,1,null),f=F(c,0,null),g=F(c,1,null),h=function(){return function(a,b,c,d,e,f){return function y(g){return new Re(null,function(a,b,c,d,e,f){return function(){for(var h=g;;){var k=w(h);if(k){var l=k,n=z(l);if(k=w(function(a,b,c,d,e,f,g,h,k,l){return function oa(n){return new Re(null,function(a,b,c,d,e,f,g){return function(){for(;;){var a=w(n);if(a){if(le(a)){var c=Dc(a),d=D(c),e=Ve(d);a:for(var h=0;;)if(h<d){var k=vb.b(c,h);e.add(new M(null,2,5,N,[g+k,f+b],
null));h+=1}else{c=!0;break a}return c?kf(e.J(),oa(Ec(a))):kf(e.J(),null)}e=z(a);return Pd(new M(null,2,5,N,[g+e,f+b],null),oa(ed(a)))}return null}}}(a,b,c,d,e,f,g,h,k,l),null,null)}}(h,n,l,k,a,b,c,d,e,f)(Sh(0,f))))return pf.b(k,y(ed(h)));h=ed(h)}else return null}}}(a,b,c,d,e,f),null,null)}}(b,d,e,c,f,g)(Sh(0,f))}();return jb(function(){return function(a,b){return ig(a,b,tn)}}(h,b,d,e,c,f,g),a,h)}
function Tr(a,b,c){var d=F(b,0,null),e=F(b,1,null);b=F(c,0,null);c=F(c,1,null);return Sr(a,new M(null,2,5,N,[function(){var a=d+mr();return 1>a?1:a}(),function(){var a=e+mr();return 1>a?1:a}()],null),new M(null,2,5,N,[b,c],null))}
function Ur(a,b,c,d,e,f,g,h,l){try{if(null===e)try{if(null===h)try{if(null===d)try{if(L(g,tn))return Sj;throw Z;}catch(x){if(x instanceof Error){var k=x;if(k===Z)throw Z;throw k;}throw x;}else throw Z;}catch(x){if(x instanceof Error)if(k=x,k===Z)try{if(null===f)try{if(L(l,tn))return Si;throw Z;}catch(y){if(y instanceof Error){var n=y;if(n===Z)throw Z;throw n;}throw y;}else throw Z;}catch(y){if(y instanceof Error){n=y;if(n===Z)throw Z;throw n;}throw y;}else throw k;else throw x;}else throw Z;}catch(x){if(x instanceof
Error)if(k=x,k===Z)try{if(null===b)try{if(L(a,tn))try{if(null===d)return ym;throw Z;}catch(y){if(y instanceof Error){n=y;if(n===Z)throw Z;throw n;}throw y;}else throw Z;}catch(y){if(y instanceof Error)if(n=y,n===Z)try{if(L(c,tn))try{if(null===f)return Xj;throw Z;}catch(B){if(B instanceof Error){var p=B;if(p===Z)throw Z;throw p;}throw B;}else throw Z;}catch(B){if(B instanceof Error){p=B;if(p===Z)throw Z;throw p;}throw B;}else throw n;else throw y;}else throw Z;}catch(y){if(y instanceof Error)if(n=
y,n===Z)try{if(L(b,tn))try{if(L(a,tn))try{if(L(d,tn))return Am;throw Z;}catch(B){if(B instanceof Error){p=B;if(p===Z)throw Z;throw p;}throw B;}else throw Z;}catch(B){if(B instanceof Error)if(p=B,p===Z)try{if(L(c,tn))try{if(L(f,tn))return Ul;throw Z;}catch(E){if(E instanceof Error){var q=E;if(q===Z)throw Z;throw q;}throw E;}else throw Z;}catch(E){if(E instanceof Error){q=E;if(q===Z)throw Z;throw q;}throw E;}else throw p;else throw B;}else throw Z;}catch(B){if(B instanceof Error)if(p=B,p===Z)try{if(L(h,
tn))try{if(L(d,tn))try{if(L(g,tn))return Bk;throw Z;}catch(E){if(E instanceof Error){q=E;if(q===Z)throw Z;throw q;}throw E;}else throw Z;}catch(E){if(E instanceof Error)if(q=E,q===Z)try{if(L(f,tn))try{if(L(l,tn))return Rk;throw Z;}catch(K){if(K instanceof Error){var r=K;if(r===Z)throw Z;throw r;}throw K;}else throw Z;}catch(K){if(K instanceof Error){r=K;if(r===Z)return Vj;throw r;}throw K;}else throw q;else throw E;}else throw Z;}catch(E){if(E instanceof Error)if(q=E,q===Z)try{if(L(b,tn))return fm;
throw Z;}catch(K){if(K instanceof Error)if(r=K,r===Z)try{if(L(d,tn))return dj;throw Z;}catch(G){if(G instanceof Error)if(G===Z)try{if(L(f,tn))return Kk;throw Z;}catch(Y){if(Y instanceof Error&&Y===Z)throw Z;throw Y;}else throw G;else throw G;}else throw r;else throw K;}else throw q;else throw E;}else throw p;else throw B;}else throw n;else throw y;}else throw k;else throw x;}else throw Z;}catch(x){if(x instanceof Error){k=x;if(k===Z)return e;throw k;}throw x;}}
function Vr(a,b,c,d,e,f,g,h){try{if(L(e,Si))try{if(L(h,Rk))return Yl;throw Z;}catch(q){if(q instanceof Error){g=q;if(g===Z)throw Z;throw g;}throw q;}else throw Z;}catch(q){if(q instanceof Error)if(g=q,g===Z)try{if(L(e,Sj))try{if(L(h,Bk))return en;throw Z;}catch(r){if(r instanceof Error){g=r;if(g===Z)throw Z;throw g;}throw r;}else throw Z;}catch(r){if(r instanceof Error)if(g=r,g===Z)try{if(null===e)try{if(L(h,Vj))return kn;throw Z;}catch(x){if(x instanceof Error)if(g=x,g===Z)try{if(L(h,Sj))return jn;
throw Z;}catch(y){if(y instanceof Error){var l=y;if(l===Z)try{if(L(h,Si))return Dn;throw Z;}catch(B){if(B instanceof Error){var k=B;if(k===Z)throw Z;throw k;}throw B;}else throw l;}else throw y;}else throw g;else throw x;}else throw Z;}catch(x){if(x instanceof Error)if(g=x,g===Z)try{if(L(e,dj))try{if(L(h,Bk))return Fl;throw Z;}catch(y){if(y instanceof Error){l=y;if(l===Z)throw Z;throw l;}throw y;}else throw Z;}catch(y){if(y instanceof Error)if(l=y,l===Z)try{if(L(e,Kk))try{if(L(h,Rk))return un;throw Z;
}catch(B){if(B instanceof Error){k=B;if(k===Z)throw Z;throw k;}throw B;}else throw Z;}catch(B){if(B instanceof Error)if(k=B,k===Z)try{if(L(e,dj))try{if(L(a,tn))try{if(L(b,Am))try{if(L(d,tn))return tl;throw Z;}catch(E){if(E instanceof Error){var n=E;if(n===Z)throw Z;throw n;}throw E;}else throw Z;}catch(E){if(E instanceof Error){n=E;if(n===Z)throw Z;throw n;}throw E;}else throw Z;}catch(E){if(E instanceof Error){n=E;if(n===Z)throw Z;throw n;}throw E;}else throw Z;}catch(E){if(E instanceof Error)if(n=
E,n===Z)try{if(L(e,Kk))try{if(L(b,Ul))try{if(L(c,tn))try{if(L(f,tn))return Mj;throw Z;}catch(K){if(K instanceof Error){var p=K;if(p===Z)throw Z;throw p;}throw K;}else throw Z;}catch(K){if(K instanceof Error){p=K;if(p===Z)throw Z;throw p;}throw K;}else throw Z;}catch(K){if(K instanceof Error){p=K;if(p===Z)throw Z;throw p;}throw K;}else throw Z;}catch(K){if(K instanceof Error){p=K;if(p===Z)return e;throw p;}throw K;}else throw n;else throw E;}else throw k;else throw B;}else throw l;else throw y;}else throw g;
else throw x;}else throw g;else throw r;}else throw g;else throw q;}}
function Wr(a,b){var c=D(a),d=D(z(a));return fg(function(c,d){return function(g){return fg(function(){return function(c){var d=hg(a,new M(null,2,5,N,[g-1,c-1],null)),e=hg(a,new M(null,2,5,N,[g-1,c],null)),f=hg(a,new M(null,2,5,N,[g-1,c+1],null)),p=hg(a,new M(null,2,5,N,[g,c-1],null)),q=hg(a,new M(null,2,5,N,[g,c],null)),r=hg(a,new M(null,2,5,N,[g,c+1],null)),x=hg(a,new M(null,2,5,N,[g+1,c-1],null)),y=hg(a,new M(null,2,5,N,[g+1,c],null));c=hg(a,new M(null,2,5,N,[g+1,c+1],null));return b.da?b.da(d,
e,f,p,q,r,x,y,c):b.call(null,d,e,f,p,q,r,x,y,c)}}(c,d),Sh(0,d))}}(c,d),Sh(0,c))}var Xr=function Xr(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Xr.l(0<c.length?new dd(c.slice(0),0,null):null)};Xr.l=function(a){return t(Df(new Nh(null,new Qa(null,1,[tn,null],null),null),a))?tn:Jd(a,4)};Xr.A=0;Xr.C=function(a){return Xr.l(w(a))};function Yr(a,b,c,d,e){return gd.b(tn,e)?.05>1*Math.random()?xi(new M(null,4,5,N,[an,ln,gm,Hl],null)):e:e}
function Zr(a,b,c,d,e){return gd.b(Vj,e)?.15>1*Math.random()?xi(new M(null,6,5,N,[Rj,Ym,ql,Zl,tm,hl],null)):e:e}function $r(a){return new M(null,2,5,N,[Wr(a,Xr),Wr(Wr(Wr(Wr(a,Ur),Vr),Yr),Zr)],null)}
function as(){var a=Tr(Tr(Tr(Tr(Tr(Tr(Tr(Tr(Tr(Tr(Tr(Tr(Tr(Tr(Tr(Tr(Tr(Tr(Rr(),new M(null,2,5,N,[4,4],null),new M(null,2,5,N,[6,7],null)),new M(null,2,5,N,[6,5],null),new M(null,2,5,N,[9,7],null)),new M(null,2,5,N,[10,5],null),new M(null,2,5,N,[7,8],null)),new M(null,2,5,N,[14,4],null),new M(null,2,5,N,[4,5],null)),new M(null,2,5,N,[13,12],null),new M(null,2,5,N,[1,7],null)),new M(null,2,5,N,[4,18],null),new M(null,2,5,N,[15,4],null)),new M(null,2,5,N,[14,19],null),new M(null,2,5,N,[8,6],null)),new M(null,
2,5,N,[16,23],null),new M(null,2,5,N,[5,3],null)),new M(null,2,5,N,[21,23],null),new M(null,2,5,N,[1,1],null)),new M(null,2,5,N,[20,22],null),new M(null,2,5,N,[33,1],null)),new M(null,2,5,N,[35,19],null),new M(null,2,5,N,[1,14],null)),new M(null,2,5,N,[42,12],null),new M(null,2,5,N,[1,13],null)),new M(null,2,5,N,[37,8],null),new M(null,2,5,N,[10,5],null)),new M(null,2,5,N,[39,7],null),new M(null,2,5,N,[8,6],null)),new M(null,2,5,N,[33,5],null),new M(null,2,5,N,[4,4],null)),new M(null,2,5,N,[35,6],
null),new M(null,2,5,N,[7,3],null)),new M(null,2,5,N,[50,15],null),new M(null,2,5,N,[10,12],null)),new M(null,2,5,N,[30,30],null),new M(null,2,5,N,[10,12],null));return $r(a)}
var bs=fg(function(a){return fg(function(a){return gd.b(a,".")?tn:null},a)},new M(null,17,5,N,"                             ;   ...... ..                 ;     ..   ..     ....        ;     ..   ....  ..  ..       ;     ..   .. .. .....        ;     ..   .. .. ..           ;     .    .. .   ....        ;                             ;                             ; .  ..                .....  ; . ..    ....         ..  .. ; ...    ..  .   ....  ..  .. ; ...    .....  ..  .  .....  ; . ..   ..     .....  ..     ; .  ..   ....  ..     ..     ; .   ..         ....  ..     ;                             ".split(";"),null));
function cs(a){return eg.b($d,sf(pf,function(){return function c(a){return new Re(null,function(){for(;;){var e=w(a);if(e){if(le(e)){var f=Dc(e),g=D(f),h=Ve(g);a:for(var l=0;;)if(l<g){var k=vb.b(f,l);h.add(new M(null,2,5,N,[k,k],null));l+=1}else{f=!0;break a}return f?kf(h.J(),c(Ec(e))):kf(h.J(),null)}h=z(e);return Pd(new M(null,2,5,N,[h,h],null),c(ed(e)))}return null}},null,null)}(a)}()))}
function ds(){return eg.b($d,function(){return function b(a){return new Re(null,function(){for(;;){var d=w(a);if(d){if(le(d)){var e=Dc(d),f=D(e),g=Ve(f);a:for(var h=0;;)if(h<f){var l=vb.b(e,h),l=cs(l);g.add(l);h+=1}else{e=!0;break a}return e?kf(g.J(),b(Ec(d))):kf(g.J(),null)}g=z(d);return Pd(cs(g),b(ed(d)))}return null}},null,null)}(cs(bs))}())};function es(a,b,c,d,e){this.nb=a;this.ob=b;this.Aa=c;this.Z=d;this.v=e;this.i=2229667594;this.B=8192}m=es.prototype;m.X=function(a,b){return Db.c(this,b,null)};m.O=function(a,b,c){switch(b instanceof I?b.Ka:null){case "texture-map":return this.nb;case "tile-size":return this.ob;default:return v.c(this.Z,b,c)}};
m.U=function(a,b,c){return Uh(b,function(){return function(a){return Uh(b,li,""," ","",c,a)}}(this),"#infinitelives.pixi.tilemap.Tileset{",", ","}",c,pf.b(new M(null,2,5,N,[new M(null,2,5,N,[kl,this.nb],null),new M(null,2,5,N,[$l,this.ob],null)],null),this.Z))};m.Ia=function(){return new Xg(0,this,2,new M(null,2,5,N,[kl,$l],null),Lc(this.Z))};m.M=function(){return this.Aa};m.ba=function(){return 2+D(this.Z)};m.R=function(){var a=this.v;return null!=a?a:this.v=a=Ge(this)};
m.w=function(a,b){var c;c=t(b)?(c=this.constructor===b.constructor)?Wg(this,b):c:b;return t(c)?!0:!1};m.yb=function(a,b){return qe(new Nh(null,new Qa(null,2,[kl,null,$l,null],null),null),b)?de.b(Sd(eg.b(Bf,this),this.Aa),b):new es(this.nb,this.ob,this.Aa,wf(de.b(this.Z,b)),null)};
m.fb=function(a,b,c){return t(L.b?L.b(kl,b):L.call(null,kl,b))?new es(c,this.ob,this.Aa,this.Z,null):t(L.b?L.b($l,b):L.call(null,$l,b))?new es(this.nb,c,this.Aa,this.Z,null):new es(this.nb,this.ob,this.Aa,be.c(this.Z,b,c),null)};m.Y=function(){return w(pf.b(new M(null,2,5,N,[new M(null,2,5,N,[kl,this.nb],null),new M(null,2,5,N,[$l,this.ob],null)],null),this.Z))};m.P=function(a,b){return new es(this.nb,this.ob,b,this.Z,this.v)};
m.aa=function(a,b){return ke(b)?Fb(this,vb.b(b,0),vb.b(b,1)):jb(rb,this,b)};function fs(a,b){return new es(a,b,null,null,null)}function gs(){var a=new M(null,2,5,N,[16,16],null);return fs(function(){var b=Xq(Jm);return eg.b(Bf,Zf.b(function(b){return function(d){var e=F(d,0,null);d=F(d,1,null);return new M(null,2,5,N,[e,Iq(b,d,a)],null)}}(b),dr))}(),a)}
function hs(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return is(arguments[0],arguments[1],2<b.length?new dd(b.slice(2),0,null):null)}
function is(a,b,c){var d=null!=a&&(a.i&64||a.I)?sf(Jf,a):a,e=v.b(d,kl),f=v.b(d,$l),g=F(f,0,null),h=F(f,1,null),l=null!=c&&(c.i&64||c.I)?sf(Jf,c):c,k=v.c(l,zk,0),n=v.c(l,Gk,0);return eg.b(Bf,dg(se,function(){return function(a,c,d,e,f,g,h,k,l,n){return function H(ga){return new Re(null,function(a,c,d,e,f,g,h,k,l,n){return function(){for(var p=ga;;){var q=w(p);if(q){var r=q,x=z(r);if(q=w(function(a,c,d,e,f,g,h,k,l,n,p,q,r,x){return function Bb(y){return new Re(null,function(a,c,d,e,f,g,h,k,l,n,p,q,r,
x){return function(){for(;;){var a=w(y);if(a){if(le(a)){var d=Dc(a),e=D(d),f=Ve(e);return function(){for(var a=0;;)if(a<e){var g=vb.b(d,a),k=f,p=Jd(b.a?b.a(c):b.call(null,c),g),g=t(p)?new M(null,2,5,N,[new M(null,2,5,N,[r+g,x+c],null),Mq(h.a?h.a(p):h.call(null,p),Rd([Dm,l*(r+g),Ni,n*(x+c),Do,0,Pl,0],0))],null):null;k.add(g);a+=1}else return!0}()?kf(f.J(),Bb(Ec(a))):kf(f.J(),null)}var g=z(a);return Pd(function(){var a=Jd(b.a?b.a(c):b.call(null,c),g);return t(a)?new M(null,2,5,N,[new M(null,2,5,N,[r+
g,x+c],null),Mq(h.a?h.a(a):h.call(null,a),Rd([Dm,l*(r+g),Ni,n*(x+c),Do,0,Pl,0],0))],null):null}(),Bb(ed(a)))}return null}}}(a,c,d,e,f,g,h,k,l,n,p,q,r,x),null,null)}}(p,x,r,q,a,c,d,e,f,g,h,k,l,n)(Sh(0,D(z(b))))))return pf.b(q,H(ed(p)));p=ed(p)}else return null}}}(a,c,d,e,f,g,h,k,l,n),null,null)}}(a,d,e,f,g,h,c,l,k,n)(Sh(0,D(b)))}()))};function js(){var a=Tp(1);sp(function(a){return function(){var c=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var f=a(c);if(!L(f,O)){d=f;break a}}}catch(g){if(g instanceof Object)c[5]=g,Kp(c),d=O;else throw g;}if(!L(d,O))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.a=b;return d}()}(function(){return function(a){var b=a[1];if(7===b)return a[2]=a[2],a[1]=4,O;if(20===b){var b=a[7],c=a[8],d=W.b?W.b(-750,-500):W.call(null,-750,-500),l=W.b?W.b(300,0):W.call(null,300,0),c=Dq(l,c),d=Aq(d,c),c=Fq.a?Fq.a(d):Fq.call(null,d),d=F(c,0,null),c=F(c,1,null),d=d|0,c=c|0,d=W.b?W.b(d,c):W.call(null,d,c),b=Nq(b,d),d=oq();a[9]=b;return Gp(a,22,d)}if(1===b){var b=Yf.u(ur,be,vj,!1),c=gs(),l=$r(ds()),
d=F(l,0,null),k=F(l,1,null),d=hs(c,d),l=fg(Xd,d),d=fg(z,d),d=eg.b(Ph,d),c=hs(c,k),k=fg(Xd,c),c=Tq.l(Rd([$i,l,Hj,2],0)),l=Tq.l(Rd([$i,k,Hj,2],0)),k=Qk instanceof I;a[10]=l;a[11]=b;a[12]=d;a[13]=c;a[1]=t(k)?2:3;return O}if(24===b)return c=a[8],a[8]=c+.01,a[2]=null,a[1]=20,O;if(4===b)return l=a[10],c=a[13],d=a[2],b=Tq.l(Rd([$i,new M(null,2,5,N,[c,l],null),Hj,1],0)),a[7]=b,a[14]=d,a[2]=null,a[1]=10,O;if(15===b)throw a=[u("canvas layer "),u(Cl),u(" not found.")].join(""),Error(a);if(21===b)return b=a[2],
a[2]=b,Kp(a),O;if(13===b)return d=a[2],c=tr(Wk,"Press Space To Start",Rd([Hj,2,Dm,0,Ni,0,Zm,!0],0)),a[15]=d,a[16]=c,a[2]=null,a[1]=19,O;if(22===b)return b=a[2],d=Pr(),a[17]=b,a[1]=t(d)?23:24,O;if(6===b)throw a=[u("canvas layer "),u(Qk),u(" not found.")].join(""),Error(a);return 25===b?(a[2]=a[2],a[1]=21,O):17===b?(b=a[2],a[2]=b,Kp(a),O):3===b?(a[2]=Qk,a[1]=4,O):12===b?(a[2]=Cl,a[1]=13,O):2===b?(b=a[18],b=vl.a(Or),b=Qk.a(b),a[18]=b,a[1]=t(b)?5:6,O):23===b?(a[2]=null,a[1]=25,O):19===b?(d=a[15],c=a[16],
Jp(a,18,17),b=d.addChild(c),a[8]=0,a[19]=b,a[2]=null,a[1]=20,O):11===b?(b=a[20],b=vl.a(Or),b=Cl.a(b),a[20]=b,a[1]=t(b)?14:15,O):9===b?(b=a[7],d=a[14],c=a[2],b=d.removeChild(b),a[21]=b,a[22]=c,Kp(a),O):5===b?(b=a[18],a[2]=b,a[1]=7,O):14===b?(b=a[20],a[2]=b,a[1]=16,O):16===b?(a[2]=a[2],a[1]=13,O):10===b?(b=a[7],d=a[14],Jp(a,9,8),b=d.addChild(b),d=Cl instanceof I,a[23]=b,a[1]=t(d)?11:12,O):18===b?(d=a[15],c=a[16],b=a[2],d=d.removeChild(c),a[24]=d,a[25]=b,Kp(a),O):8===b?Hp(a,a[2]):null}}(a),a)}(),d=function(){var d=
c.j?c.j():c.call(null);d[6]=a;return d}();return Fp(d)}}(a));return a};function ks(a){return a instanceof I?[u(function(){var b=Oe(a);return null==b?null:[u(b),u("/")].join("")}()),u(Qe(a))].join(""):a}
function ls(a,b){var c=D(b);if("number"!==typeof c||isNaN(c)||Infinity===c||parseFloat(c)!==parseInt(c,10))throw Error([u("Argument must be an integer: "),u(c)].join(""));if(0!==(c&1))throw Error("Assert failed: (even? (count kvs))");for(var c=a.style,d=w(gg(2,2,b)),e=null,f=0,g=0;;)if(g<f){var h=e.T(null,g),l=F(h,0,null),h=F(h,1,null);c.setProperty(ks(l),h);g+=1}else if(d=w(d))le(d)?(f=Dc(d),d=Ec(d),e=f,f=D(f)):(f=z(d),e=F(f,0,null),f=F(f,1,null),c.setProperty(ks(e),f),d=A(d),e=null,f=0),g=0;else break}
;var ms,Or=null;
function ns(a){var b=null!=a&&(a.i&64||a.I)?sf(Jf,a):a;a=v.c(b,qn,!1);var c=v.c(b,Dm,0),d=v.c(b,Ni,0),e=v.c(b,jk,800),f=v.c(b,Cn,600),g=v.b(b,Mk),h=v.c(b,Hm,nn),l=v.c(b,lk,5242880);v.c(b,Pj,!0);var b=window.innerWidth,k=window.innerHeight,n=t(a)?b:e,p=t(a)?k:f,q={backgroundColor:l,transparent:!1,imageSmoothingEnabled:!1,antialias:!1,autoResize:!1,clearBeforeRender:!0,preserveDrawingBuffer:!1,view:g,resolution:1},e=function(){switch(h instanceof I?h.Ka:null){case "webgl":return new PIXI.WebGLRenderer(n,p,
q);case "canvas":return new PIXI.CanvasRenderer(n,p,q);default:return new PIXI.autoDetectRenderer(n,p,q)}}(),f=e.view,l=f.width,r=f.height;t(g)||(ls(f,Rd([xo,t(a)?0:c,Jj,t(a)?0:d,rm,"absolute"],0)),document.body.appendChild(f));e.resize(t(a)?b:l,t(a)?k:r);console.log("rend",e);return new Qa(null,2,[Nk,e,Mk,t(g)?g:f],null)}
function os(a){var b=null!=a&&(a.i&64||a.I)?sf(Jf,a):a,c=v.c(b,pm,new M(null,6,5,N,[cn,rn,al,Tm,Cl,Em],null)),d=v.c(b,aj,Bf),e=v.c(b,jm,Bf),f=new PIXI.Container,g=Zf.b(function(){return function(){return new PIXI.Container}}(f,a,b,c,d,e),c);return new Qa(null,5,[oj,f,aj,d,jm,e,pm,c,vl,eg.b(Bf,function(){return function(a,b,c,d,e,f,g){return function y(B){return new Re(null,function(){return function(){for(;;){var a=w(B);if(a){if(le(a)){var b=Dc(a),c=D(b),d=Ve(c);a:for(var e=0;;)if(e<c){var f=vb.b(b,
e),g=F(f,0,null),f=F(f,1,null);d.add(new M(null,2,5,N,[g,f],null));e+=1}else{b=!0;break a}return b?kf(d.J(),y(Ec(a))):kf(d.J(),null)}b=z(a);d=F(b,0,null);b=F(b,1,null);return Pd(new M(null,2,5,N,[d,b],null),y(ed(a)))}return null}}}(a,b,c,d,e,f,g),null,null)}}(f,g,a,b,c,d,e)(gg(2,2,bg.b(c,g)))}())],null)}
function ps(a,b,c,d){var e=F(d,0,null);d=F(d,1,null);var f=a.width;a=a.height;var g=Math.round(f/2),h=Math.round(a/2);switch(c instanceof I?c.Ka:null){case "center":return b.position.x=e+g,b.position.y=d+h;case "top":return b.position.x=e+g,b.position.y=d;case "bottom":return b.position.x=e+g,b.position.y=d+a;case "left":return b.position.x=e,b.position.y=d+h;case "right":return b.position.x=e+f,b.position.y=d+h;case "top-left":return b.position.x=e,b.position.y=d;case "top-right":return b.position.x=
e+f,b.position.y=d;case "bottom-left":return b.position.x=e,b.position.y=d+a;case "bottom-right":return b.position.x=e+f,b.position.y=d+a;default:return b.position.x=e+g,b.position.y=d+h}}
function qs(){var a=new Qa(null,5,[pm,new M(null,7,5,N,[dn,wl,sm,il,Qk,Cl,Nl],null),lk,rs,qn,!0,jm,new Qa(null,1,[il,new M(null,2,5,N,[32,-32],null)],null),aj,new Qa(null,7,[hm,Jj,ol,Ik,il,Yk,Nl,Ik,wl,Tk,Qk,Tk,Cl,Tk],null)],null),b=eg.b(ns(a),os(a)),c=null!=b&&(b.i&64||b.I)?sf(Jf,b):b,d=v.b(c,wn),e=v.c(c,aj,Bf),f=v.b(c,oj),g=v.c(c,Pj,!0),h=v.b(c,Mk),l=v.b(c,Nk),k=v.b(c,vl),n=v.b(c,om),p=v.c(c,jm,Bf),q=v.b(c,pm);Th(Zf.b(function(a,b,c,d,e,f,g,h,k,l,n,p){return function(a){var b=F(a,0,null);a=F(a,1,
null);f.addChild(a);return ps(h,a,function(){var a=e.a?e.a(b):e.call(null,b);return t(a)?a:Tk}(),function(){var a=p.a?p.a(b):p.call(null,b);return t(a)?a:new M(null,2,5,N,[0,0],null)}())}}(b,c,c,d,e,f,g,h,l,k,n,p,q),k));l.render(f);var r=function(a,b,c,d,e,f,g,h,k){return function(){return k.render(f)}}(b,c,c,d,e,f,g,h,l,k,n,p,q),x=function(a,b,c,d,e,f,g,h,k,l,n,p,q,r){return function(x,y){l.resize(x,y);return Th(Zf.b(function(a,b,c,d,e,f,g,h,k,l,n,p,q){return function(a){var b=F(a,0,null);a=F(a,
1,null);return ps(k,a,function(){var a=f.a?f.a(b):f.call(null,b);return t(a)?a:Tk}(),function(){var a=q.a?q.a(b):q.call(null,b);return t(a)?a:new M(null,2,5,N,[0,0],null)}())}}(a,b,c,d,e,f,g,h,k,l,n,p,q,r),n))}}(r,b,c,c,d,e,f,g,h,l,k,n,p,q),y=function(a,b){return function(){return b(window.innerWidth,window.innerHeight)}}(r,x,b,c,c,d,e,f,g,h,l,k,n,p,q),B=function(a,b,c,d,e,f,g,h,k,l,n){return function(a){return t(a)?t(n.requestFullscreen)?n.requestFullscreen():t(n.webkitRequestFullscreen)?n.webkitRequestFullscreen():
t(n.mozRequestFullScreen)?n.mozRequestFullScreen():null:t(document.exitFullscreen)?document.exitFullscreen():t(document.webkitExitFullscreen)?document.webkitExitFullscreen():t(document.msExitFullscreen)?document.msExitFullscreen():t(document.mozCancelFullScreen)?document.mozCancelFullScreen():null}}(r,x,y,b,c,c,d,e,f,g,h,l,k,n,p,q),a=t(qn.a(a))?function(){var a=rq(),K=Tp(1);sp(function(a,b,c,d,e,f,g,h,k,l,n,p,q,r,x,y,B,E,K){return function(){var oa=function(){return function(a){return function(){function b(c){for(;;){var d;
a:try{for(;;){var e=a(c);if(!L(e,O)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,Kp(c),d=O;else throw f;}if(!L(d,O))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.a=b;return d}()}(function(a,b,c,d){return function(a){var e=a[1];if(1===e)return a[2]=null,a[1]=2,O;if(2===e)return a[1]=
4,O;if(3===e)return Hp(a,a[2]);if(4===e)return Gp(a,7,b);if(5===e)return a[2]=null,a[1]=6,O;if(6===e)return a[2]=a[2],a[1]=3,O;if(7===e){var f=a[2],e=F(f,0,null),f=F(f,1,null),e=d(e,f),f=c();a[7]=e;a[8]=f;a[2]=null;a[1]=2;return O}return null}}(a,b,c,d,e,f,g,h,k,l,n,p,q,r,x,y,B,E,K),a,b,c,d,e,f,g,h,k,l,n,p,q,r,x,y,B,E,K)}(),va=function(){var b=oa.j?oa.j():oa.call(null);b[6]=a;return b}();return Fp(va)}}(K,a,r,x,y,B,b,c,c,d,e,f,g,h,l,k,n,p,q));return K}():null;ms=function(a){return function G(){nq.a?
nq.a(G):nq.call(null,G);return a()}}(r,x,y,B,a,b,c,c,d,e,f,g,h,l,k,n,p,q);ms();a=eg.b(c,new Qa(null,4,[Cj,r,xn,x,bj,B,mm,y],null));t(g)&&(Or=a);t(n)||Yd(q);return a};if("undefined"===typeof ss)var ss=If?If(Bf):Hf.call(null,Bf);
function ts(a,b,c,d,e,f,g,h){var l=F(c,0,null),k=F(c,1,null),n=Tp(1);sp(function(c,k,l,n){return function(){var y=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=a(c);if(!L(e,O)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,Kp(c),d=O;else throw f;}if(!L(d,O))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.a=b;return d}()}(function(c,k,l,n){return function(c){var k=c[1];if(7===k)return c[2]=c[2],c[1]=4,O;if(20===k)return k=Rp(100),Gp(c,23,k);if(1===k){var k=W.b?W.b(l,n):W.call(null,l,n),p=si(),p=Pe.a(p),q=a instanceof I;c[7]=new M(null,2,5,N,[bl,p],null);c[8]=k;c[1]=t(q)?2:3;return O}if(4===k)return p=c[2],q=Mq(d,Rd([Hj,2,Dm,2*l,Ni,2*n,Pl,.85],0)),c[9]=p,c[10]=q,c[2]=null,c[1]=10,O;if(15===k)return c[2]=null,c[1]=
16,O;if(21===k)return c[2]=null,c[1]=22,O;if(13===k)return k=c[2],c[2]=k,Kp(c),O;if(22===k)return c[2]=c[2],c[1]=19,O;if(6===k)throw c=[u("canvas layer "),u(a),u(" not found.")].join(""),Error(c);return 17===k?(c[11]=c[2],c[2]=null,c[1]=18,O):3===k?(c[2]=a,c[1]=4,O):12===k?(c[1]=14,O):2===k?(k=c[12],k=vl.a(Or),k=a.a?a.a(k):a.call(null,k),c[12]=k,c[1]=t(k)?5:6,O):23===k?(c[13]=c[2],c[2]=null,c[1]=18,O):19===k?(c[14]=c[2],c[2]=null,c[1]=12,O):11===k?(c[15]=c[2],c[2]=null,c[1]=12,O):9===k?(p=c[9],q=
c[10],k=c[2],p=p.removeChild(q),c[16]=p,c[17]=k,Kp(c),O):5===k?(k=c[12],c[2]=k,c[1]=7,O):14===k?(k=Nr(a,b,new M(null,2,5,N,[l,n],null),f,g,h),p=Rp(3E3),c[18]=k,Gp(c,17,p)):16===k?(c[2]=c[2],c[1]=13,O):10===k?(p=c[9],q=c[10],Jp(c,9,8),k=p.addChild(q),p=Rp(e),c[19]=k,Gp(c,11,p)):18===k?(k=10<D(C.a?C.a(Mr):C.call(null,Mr)),c[1]=t(k)?20:21,O):8===k?Hp(c,c[2]):null}}(c,k,l,n),c,k,l,n)}(),B=function(){var a=y.j?y.j():y.call(null);a[6]=c;return a}();return Fp(B)}}(n,c,l,k));return n};function us(a,b){return a.position.y<b.position.y?-1:b.position.y<a.position.y?1:0}
function vs(){var a=Tp(1);sp(function(a){return function(){var c=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var f=a(c);if(!L(f,O)){d=f;break a}}}catch(g){if(g instanceof Object)c[5]=g,Kp(c),d=O;else throw g;}if(!L(d,O))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.a=b;return d}()}(function(a){return function(b){var c=b[1];if(65===c){var d=b,l=d;l[2]=b[2];l[1]=62;return O}if(70===c){var k=b[7],n=b[8],p=z(n),q=(k.a?k.a(p):k.call(null,p)).visible=!1,r=A(n),x=null,y=0,
B=0;b[9]=x;b[10]=y;b[11]=q;b[12]=B;b[13]=r;var E=d=b;E[2]=null;E[1]=61;return O}if(62===c){var K=b[2],G=Rp(300);b[14]=K;d=b;return Gp(d,72,G)}if(74===c)throw Error("go-while exit");if(7===c){var Y=b[2],P=d=b;P[2]=Y;P[1]=4;return O}if(59===c){var k=b[7],H=b[15],ga=z(H),da=(k.a?k.a(ga):k.call(null,ga)).visible=!0,Q=A(H),T=null,X=0,R=0;b[16]=X;b[17]=Q;b[18]=R;b[19]=da;b[20]=T;var S=d=b;S[2]=null;S[1]=50;return O}if(20===c){var ca=b[21],ea=b[22],ba=b[23],U=b[24],V=b[25],aa=b[2].removeChild(U),pa=ea,Ba=
V,oa=ba+1;b[21]=ca;b[26]=aa;b[22]=pa;b[23]=oa;b[25]=Ba;var va=d=b;va[2]=null;va[1]=13;return O}if(72===c){var Sa=b[2],Ta=C.a?C.a(ur):C.call(null,ur),$a=vj.a(Ta);b[27]=Sa;d=b;d[1]=t($a)?73:74;return O}if(58===c){var H=b[15],Ha=Dc(H),kb=Ec(H),Qc=D(Ha),Q=kb,T=Ha,X=Qc,R=0;b[16]=X;b[17]=Q;b[18]=R;b[20]=T;var ub=d=b;ub[2]=null;ub[1]=50;return O}if(60===c){var Gd=b[2],qc=d=b;qc[2]=Gd;qc[1]=57;return O}if(27===c){var rc=b[28],Gb=d=b;Gb[2]=rc;Gb[1]=29;return O}if(1===c){var ec=Nl instanceof I,d=b;d[1]=t(ec)?
2:3;return O}if(69===c){var n=b[8],fc=Dc(n),Bb=Ec(n),wb=D(fc),r=Bb,x=fc,y=wb,B=0;b[9]=x;b[10]=y;b[12]=B;b[13]=r;var xb=d=b;xb[2]=null;xb[1]=61;return O}if(24===c){var Xa=b[29],Nb=Dc(Xa),cg=Ec(Xa),id=D(Nb),ea=cg,ca=Nb,V=id,ba=0;b[21]=ca;b[22]=ea;b[23]=ba;b[25]=V;var jd=d=b;jd[2]=null;jd[1]=13;return O}if(55===c){var H=b[15],Kf=le(H),d=b;d[1]=Kf?58:59;return O}if(39===c){var sc=b[30],yg=le(sc),d=b;d[1]=yg?42:43;return O}if(46===c){var zg=[u("canvas layer "),u(il),u(" not found.")].join("");throw Error(zg);
}if(4===c){var Tc=b[2],Hb=tr(Wk,"0",Rd([Dm,-100,Ni,-16,Hj,2,Do,1,Pl,1],0));b[31]=Tc;b[32]=Hb;var We=d=b;We[2]=null;We[1]=10;return O}if(77===c){var Xe=d=b;Xe[2]=null;Xe[1]=78;return O}if(54===c){var Ag=b[2],Ye=d=b;Ye[2]=Ag;Ye[1]=51;return O}if(15===c){var ca=b[21],ba=b[23],Ze=b[33],U=vb.b(ca,ba),Bg=vl.a(Or),Uc=il.a(Bg);b[24]=U;b[33]=Uc;d=b;d[1]=t(Uc)?18:19;return O}if(48===c){var Tb=b[34],Q=w(Sh(0,Tb)),T=null,R=X=0;b[16]=X;b[17]=Q;b[18]=R;b[20]=T;var Lf=d=b;Lf[2]=null;Lf[1]=50;return O}if(50===c){var X=
b[16],R=b[18],Cg=R<X,d=b;d[1]=t(Cg)?52:53;return O}if(75===c){var $e=b[35],Tb=b[34],Hb=b[32],Mf=b[2],Dg=C.a?C.a(ur):C.call(null,ur),af=Nl.a(Dg),Nf=""+u(af),bf=sr(Hb,Wk,Nf),cf=C.a?C.a(ur):C.call(null,ur),Of=lm.a(cf)/20,Ub=Math.floor(Of),we=0>Ub?0:Ub,kd=we<Tb;b[35]=we;b[36]=bf;b[37]=Mf;d=b;d[1]=t(kd)?76:77;return O}if(21===c){var Xa=b[29],ld=le(Xa),d=b;d[1]=ld?24:25;return O}if(31===c){var Ob=b[38],Ib=b[39],Pf=Ib<Ob,d=b;d[1]=t(Pf)?33:34;return O}if(32===c){var df=b[2],Qf=C.a?C.a(ur):C.call(null,ur),
ef=lm.a(Qf)/20,Hd=Math.floor(ef),Tb=0>Hd?0:Hd;b[40]=df;b[34]=Tb;var Vc=d=b;Vc[2]=null;Vc[1]=48;return O}if(40===c){var Id=d=b;Id[2]=null;Id[1]=41;return O}if(56===c){var xe=d=b;xe[2]=null;xe[1]=57;return O}if(33===c){var gc=b[41],Ib=b[39],Vd=b[42],ye=vb.b(gc,Ib),ze=vl.a(Or),Ae=il.a(ze);b[43]=ye;b[42]=Ae;d=b;d[1]=t(Ae)?36:37;return O}if(13===c){var ba=b[23],V=b[25],Rf=ba<V,d=b;d[1]=t(Rf)?15:16;return O}if(22===c){var ff=d=b;ff[2]=null;ff[1]=23;return O}if(36===c){var Vd=b[42],md=d=b;md[2]=Vd;md[1]=
38;return O}if(41===c){var nd=b[2],Sf=d=b;Sf[2]=nd;Sf[1]=35;return O}if(43===c){var sc=b[30],Fc=b[44],Vb=z(sc),Tf=vl.a(Or),tc=il.a(Tf);b[45]=Vb;b[44]=tc;d=b;d[1]=t(tc)?45:46;return O}if(61===c){var y=b[10],B=b[12],qb=B<y,d=b;d[1]=t(qb)?63:64;return O}if(29===c){var Xa=b[29],Wb=b[46],Uf=b[2].removeChild(Wb),ea=A(Xa),ca=null,ba=V=0;b[21]=ca;b[22]=ea;b[47]=Uf;b[23]=ba;b[25]=V;var gf=d=b;gf[2]=null;gf[1]=13;return O}if(44===c){var Vf=b[2],Zh=d=b;Zh[2]=Vf;Zh[1]=41;return O}if(6===c){var ck=[u("canvas layer "),
u(Nl),u(" not found.")].join("");throw Error(ck);}if(28===c){var dk=[u("canvas layer "),u(il),u(" not found.")].join("");throw Error(dk);}if(64===c){var n=b[8],r=b[13],$h=w(r);b[8]=$h;d=b;d[1]=$h?66:67;return O}if(51===c){var Tb=b[34],ek=b[2],r=w(Sh(Tb,5)),x=null,B=y=0;b[9]=x;b[10]=y;b[12]=B;b[48]=ek;b[13]=r;var ai=d=b;ai[2]=null;ai[1]=61;return O}if(25===c){var rc=b[28],Xa=b[29],Wb=z(Xa),fk=vl.a(Or),Eg=il.a(fk);b[28]=Eg;b[46]=Wb;d=b;d[1]=t(Eg)?27:28;return O}if(34===c){var sc=b[30],od=b[49],Fg=w(od);
b[30]=Fg;d=b;d[1]=Fg?39:40;return O}if(17===c){var gk=b[2],bi=d=b;bi[2]=gk;bi[1]=14;return O}if(3===c){var ci=d=b;ci[2]=Nl;ci[1]=4;return O}if(12===c){var k=b[7],Ek=b[2],ea=w(k),ca=null,ba=V=0;b[50]=Ek;b[21]=ca;b[22]=ea;b[23]=ba;b[25]=V;var hf=d=b;hf[2]=null;hf[1]=13;return O}if(2===c){var Gg=b[51],hk=vl.a(Or),di=Nl.a(hk);b[51]=di;d=b;d[1]=t(di)?5:6;return O}if(66===c){var n=b[8],ei=le(n),d=b;d[1]=ei?69:70;return O}if(23===c){var fi=b[2],gi=d=b;gi[2]=fi;gi[1]=17;return O}if(47===c){var sc=b[30],Vb=
b[45],hi=b[2].addChild(Vb),od=A(sc),gc=null,Ib=Ob=0;b[38]=Ob;b[41]=gc;b[39]=Ib;b[52]=hi;b[49]=od;var ii=d=b;ii[2]=null;ii[1]=31;return O}if(35===c){var ik=b[2],Rm=d=b;Rm[2]=ik;Rm[1]=32;return O}if(82===c){var xr=b[2],d=b;d[2]=xr;Kp(d);return O}if(76===c){var yr=eq(Tj,.5),En=d=b;En[2]=yr;En[1]=78;return O}if(19===c){var As=[u("canvas layer "),u(il),u(" not found.")].join("");throw Error(As);}if(57===c){var Bs=b[2],Fn=d=b;Fn[2]=Bs;Fn[1]=54;return O}if(68===c){var Cs=b[2],Gn=d=b;Gn[2]=Cs;Gn[1]=65;return O}if(11===
c){var Ds=b[2],d=b;d[2]=Ds;Kp(d);return O}if(9===c){var Tc=b[31],Hb=b[32],Es=b[2],Fs=Tc.removeChild(Hb);b[53]=Es;b[54]=Fs;d=b;Kp(d);return O}if(5===c){var Gg=b[51],Hn=d=b;Hn[2]=Gg;Hn[1]=7;return O}if(14===c)return b[55]=b[2],d=b,Kp(d),O;if(45===c){var Fc=b[44],In=d=b;In[2]=Fc;In[1]=47;return O}if(53===c){var Q=b[17],H=b[15],Jn=w(Q);b[15]=Jn;d=b;d[1]=Jn?55:56;return O}if(78===c){var $e=b[35],Gs=b[2],Tb=$e;b[56]=Gs;b[34]=Tb;var Kn=d=b;Kn[2]=null;Kn[1]=48;return O}if(26===c){var Hs=b[2],Ln=d=b;Ln[2]=
Hs;Ln[1]=23;return O}if(16===c){var Xa=b[29],ea=b[22],Mn=w(ea);b[29]=Mn;d=b;d[1]=Mn?21:22;return O}if(81===c)throw Error("go-while exit");if(79===c){var Hk=b[2],Is=C.a?C.a(ur):C.call(null,ur),Js=vj.a(Is);b[57]=Hk;d=b;d[1]=t(Js)?80:81;return O}if(38===c){var Ob=b[38],gc=b[41],ye=b[43],Ib=b[39],od=b[49],Ks=b[2].addChild(ye),Ls=od,Ms=gc,Ns=Ib+1;b[38]=Ob;b[41]=Ms;b[39]=Ns;b[58]=Ks;b[49]=Ls;var Nn=d=b;Nn[2]=null;Nn[1]=31;return O}if(30===c){var k=b[7],On=Jp(b,12,11),od=w(k),gc=null,Ib=Ob=0;b[38]=Ob;b[41]=
gc;b[39]=Ib;b[49]=od;var Pn=d=b;Pn[2]=null;Pn[1]=31;return O}if(73===c){var Sa=b[27],Qn=d=b;Qn[2]=Sa;Qn[1]=75;return O}if(10===c){var Tc=b[31],Hb=b[32],On=Jp(b,9,8),Rn=Tc.addChild(Hb),k=fg(function(){return function(){return function(a){return Mq(jj,Rd([Hj,2,Dm,32*a],0))}}(Tc,Hb,Tc,Hb,On,Rn,c,a)}(),Sh(0,5));b[7]=k;b[59]=Rn;var Sn=d=b;Sn[2]=null;Sn[1]=30;return O}if(18===c){var Ze=b[33],Tn=d=b;Tn[2]=Ze;Tn[1]=20;return O}if(52===c){var X=b[16],k=b[7],Q=b[17],R=b[18],T=b[20],Un=vb.b(T,R),J=(k.a?k.a(Un):
k.call(null,Un)).visible=!0,wa=Q,ja=T,Os=R+1;b[16]=X;b[17]=wa;b[18]=Os;b[20]=ja;b[60]=J;var sb=d=b;sb[2]=null;sb[1]=50;return O}if(67===c){var Vn=d=b;Vn[2]=null;Vn[1]=68;return O}if(71===c){var Ps=b[2],ic=d=b;ic[2]=Ps;ic[1]=68;return O}if(42===c){var sc=b[30],wc=Dc(sc),Qs=Ec(sc),xc=D(wc),od=Qs,gc=wc,Ob=xc,Ib=0;b[38]=Ob;b[41]=gc;b[39]=Ib;b[49]=od;var jc=d=b;jc[2]=null;jc[1]=31;return O}if(80===c){var Hk=b[57],Wn=d=b;Wn[2]=Hk;Wn[1]=82;return O}if(37===c){var Rs=[u("canvas layer "),u(il),u(" not found.")].join("");
throw Error(Rs);}if(63===c){var k=b[7],x=b[9],y=b[10],B=b[12],r=b[13],Xn=vb.b(x,B),Ss=(k.a?k.a(Xn):k.call(null,Xn)).visible=!1,Ts=r,Us=y,Vs=B+1;b[9]=x;b[10]=Us;b[12]=Vs;b[13]=Ts;b[61]=Ss;var Yn=d=b;Yn[2]=null;Yn[1]=61;return O}if(8===c){var Ws=b[2],d=b;return Hp(d,Ws)}if(49===c){var Xs=b[2],Ys=pq();b[62]=Xs;d=b;return Gp(d,79,Ys)}return null}}(a),a)}(),d=function(){var d=c.j?c.j():c.call(null);d[6]=a;return d}();return Fp(d)}}(a));return a}
function ws(){var a=Tp(1);sp(function(a){return function(){var c=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var f=a(c);if(!L(f,O)){d=f;break a}}}catch(g){if(g instanceof Object)c[5]=g,Kp(c),d=O;else throw g;}if(!L(d,O))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.a=b;return d}()}(function(a){return function(b){var c=b[1];if(7===c)return b[2]=b[2],b[1]=4,O;if(1===c){var d=b[7],l=b[8],k=b[9],n=b[10],p=b[11],q=b[12],r=b[13],x=b[14],y=b[15],B=Xf.b?Xf.b(Mr,Bf):Xf.call(null,Mr,Bf),E=W.b?W.b(80,80):W.call(null,80,80),E=Yf.l(ur,be,vj,!0,Rd([lm,100,Nl,0,sk,E],
0)),K=eq(Gj,.5),G=gs(),Y=as(),P=F(Y,0,null),H=F(Y,1,null),ga=hs(G,P),da=fg(Xd,ga),Q=fg(z,ga),T=eg.b(Ph,Q),Q=hs(G,H),Q=fg(Xd,Q),X=Tq.l(Rd([$i,da,Hj,2],0)),R=Tq.l(Rd([$i,Q,Hj,2],0)),S=Mq(Zi,Rd([Hj,2,Dm,0,Ni,0],0)),ca=Mq(Ak,Rd([Hj,2,Dm,0,Ni,0,Pl,1.3],0)),ea=Mq(rl,Rd([Hj,2,Dm,480,Ni,200],0)),ba=Mq(wk,Rd([Hj,2,Dm,160,Ni,240],0)),U=Tq.l(Rd([$i,new M(null,2,5,N,[ea,ba],null)],0)),V=vs(),aa=Go(),pa=wl instanceof I;b[7]=Y;b[16]=B;b[17]=R;b[18]=K;b[19]=ca;b[8]=G;b[20]=X;b[9]=H;b[10]=da;b[11]=ea;b[21]=aa;b[12]=
P;b[22]=U;b[13]=ga;b[23]=E;b[14]=ba;b[24]=S;b[25]=V;b[15]=Q;b[26]=T;b[1]=t(pa)?2:3;return O}if(4===c){var R=b[17],X=b[20],U=b[22],Ba=b[2],oa=Tq.l(Rd([$i,new M(null,3,5,N,[X,R,U],null),Hj,1],0));b[27]=oa;b[28]=Ba;b[2]=null;b[1]=10;return O}if(13===c)return B=b[2],E=eq(pj,.5),K=Rp(5E3),b[29]=E,b[30]=B,Gp(b,14,K);if(6===c)throw b=[u("canvas layer "),u(wl),u(" not found.")].join(""),Error(b);if(3===c)return b[2]=wl,b[1]=4,O;if(12===c)return B=b[2],E=eq(Ui,.5),K=Rp(100),b[31]=B,b[32]=E,Gp(b,13,K);if(2===
c)return B=b[33],B=vl.a(Or),B=wl.a(B),b[33]=B,b[1]=t(B)?5:6,O;if(11===c)return B=b[2],E=eq(yl,.5),K=Rp(100),b[34]=E,b[35]=B,Gp(b,12,K);if(9===c)return oa=b[27],Ba=b[28],B=b[2],E=Ba.removeChild(oa),b[36]=B,b[37]=E,Kp(b),O;if(5===c)return B=b[33],b[2]=B,b[1]=7,O;if(14===c)return B=b[2],b[2]=B,Kp(b),O;if(10===c){var oa=b[27],d=b[7],R=b[17],ca=b[19],l=b[8],X=b[20],k=b[9],n=b[10],p=b[11],q=b[12],U=b[22],r=b[13],x=b[14],S=b[24],y=b[15],T=b[26],Ba=b[28],va=Jp(b,9,8),Sa=Ba.addChild(oa),Ta=[250,350],$a=new M(null,
2,5,N,Ta,null),Ha=ts(U,T,$a,xj,0,Fk,1,100),kb=[700,150],Qc=new M(null,2,5,N,kb,null),ub=ts(U,T,Qc,Oi,700,yk,2,250),Gd=[520,650],qc=new M(null,2,5,N,Gd,null),rc=ts(U,T,qc,Oi,300,rk,3,500),Gb=[920,350],ec=new M(null,2,5,N,Gb,null),fc=ts(U,T,ec,xj,300,Fj,4,750),Bb=Tp(1),wb=function(){return function(a,b,c,d,e,f,g,h,k,l,n,p,q,r,x,y,B,E,G,H,K,P,Q,R,S,T,U,V,X,Y,aa,ba,ca,da,ea,ga,oa,pa,va,Ba,Ha,Sa,Ta,Xa,$a,kb,ub,wb,xb,md,nd,Bb,Fc,Vb,Gb,tc){return function(){var qb=function(){return function(a){return function(){function b(c){for(;;){var d;
a:try{for(;;){var e=a(c);if(!L(e,O)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,Kp(c),d=O;else throw f;}if(!L(d,O))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.a=b;return d}()}(function(a,b,c,d,e,f,g,h,k,l,n,p,q,r,x,y,B){return function(a){var b=a[1];if(1===b){var b=
C.a?C.a(ur):C.call(null,ur),c=sk.a(b);a[7]=c;a[2]=null;a[1]=2;return O}if(2===b)return c=a[7],c=Fq.a?Fq.a(c):Fq.call(null,c),b=F(c,0,null),c=F(c,1,null),b=Oq(B,b|0,c|0),c=oq(),a[8]=b,Gp(a,4,c);if(3===b)return Hp(a,a[2]);if(4===b)return b=a[2],c=C.a?C.a(ur):C.call(null,ur),c=vj.a(c),a[9]=b,a[1]=t(c)?5:6,O;if(5===b)return b=a[9],a[2]=b,a[1]=7,O;if(6===b)throw Error("go-while exit");if(7===b){var c=a[7],b=a[2],d=C.a?C.a(ur):C.call(null,ur),d=sk.a(d),d=Cq(d,2),d=Bq(d,c),e=2E-7*(yq.a?yq.a(d):yq.call(null,
d)),d=Cq(d,e),c=Aq(c,d);a[10]=b;a[7]=c;a[2]=null;a[1]=2;return O}return null}}(a,b,c,d,e,f,g,h,k,l,n,p,q,r,x,y,B,E,G,H,K,P,Q,R,S,T,U,V,X,Y,aa,ba,ca,da,ea,ga,oa,pa,va,Ba,Ha,Sa,Ta,Xa,$a,kb,ub,wb,xb,md,nd,Bb,Fc,Vb,Gb,tc),a,b,c,d,e,f,g,h,k,l,n,p,q,r,x,y,B,E,G,H,K,P,Q,R,S,T,U,V,X,Y,aa,ba,ca,da,ea,ga,oa,pa,va,Ba,Ha,Sa,Ta,Xa,$a,kb,ub,wb,xb,md,nd,Bb,Fc,Vb,Gb,tc)}(),Wb=function(){var a=qb.j?qb.j():qb.call(null);a[6]=y;return a}();return Fp(Wb)}}(q,y,X,x,ca,S,Ba,n,k,r,R,U,d,p,T,Bb,oa,l,oa,d,R,ca,l,X,k,n,p,
q,U,r,x,S,y,T,Ba,va,Sa,N,Ta,$a,Ha,N,kb,Qc,ub,N,Gd,qc,rc,N,Gb,ec,fc,Bb,c,a)}(),xb=sp(wb),Xa=Tp(1),B=sp(function(){return function(a,b,c,d,e,f,g,h,k,l,n,p,q,r,x,y,B,E,G,H,K,P,Q,R,S,T,U,V,X,Y,aa,ba,ca,da,ea,ga,oa,pa,va,Ba,Ha,Sa,Ta,Xa,$a,kb,ub,wb,xb,Bb,Gb,ec,Fc,Vb,qc,tc,qb,Wb,rc){return function(){var fc=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=a(c);if(!L(e,O)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,Kp(c),d=O;else throw f;}if(!L(d,O))return d}}
function c(){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.a=b;return d}()}(function(a,b,c,d,e,f,g,h,k,l,n,p,q,r,x,y,
B,E,G,H,K,P,Q,R,S,T,U,V,X,Y,aa,ba,ca,da,ea,ga,oa,pa,va,Ba,Ha,Sa,Ta,Xa,$a,kb,ub,wb,xb,Bb,Gb,Ib,Nb,Ob,ec,fc,gc,qc,rc){return function(J){var wa=J[1];if(7===wa){var ja=J,sc=ja;sc[2]=J[2];sc[1]=4;return O}if(20===wa){var sb=J[7],Hb=J[8],Tb=J[9],ic=J[10],wc=J[11],Ub=J[12],xc=J[13],jc=J[14],Vb=J[15],qb=J[16],Wb=Qr(),Fc=Cq(Wb,2),tc=Aq(sb,Fc),Qc=C.a?C.a(Fo):C.call(null,Fo),Tc=Pj.a(Qc),id=W.b?W.b(4,4):W.call(null,4,4),jd=Bq(sb,id),ld=Fq(jd),md=W.b?W.b(4,4):W.call(null,4,4),nd=Aq(sb,md),Gd=Fq(nd),Uc=Qo(Tc,
ld,Gd),Id=dg(function(){return function(){return function(a){return gd.b(bl,z(z(a)))}}(Uc,xc,qb,wc,Wb,tc,sb,e,jc,ic,f,sb,Hb,Tb,ic,wc,Ub,xc,jc,Vb,qb,Wb,Fc,tc,Qc,Tc,id,jd,ld,md,nd,Gd,Uc,wa,a,b,c,d,e,f,g,h,k,l,n,p,q,r,x,y,B,E,G,H,K,P,Q,R,S,T,U,V,X,Y,aa,ba,ca,da,ea,ga,oa,pa,va,Ba,Ha,Sa,Ta,Xa,$a,kb,ub,wb,xb,Bb,Gb,Ib,Nb,Ob,ec,fc,gc,qc,rc)}(),Uc),we=0<D(Id);J[8]=Id;J[9]=tc;J[12]=Wb;J[15]=Uc;ja=J;ja[1]=t(we)?22:23;return O}if(27===wa){var sb=J[7],vd=J[17],Vc=J[18],xe=J[2],ye=Yf.u(ur,be,sk,vd),We=Nq(f,Vc),
Xe=So(new M(null,1,5,N,[Ak],null),Fq(sb),Fq(vd)),Ye=So(new M(null,1,5,N,[sm],null),Fq(sb),Fq(vd)),Ze=Pr();J[19]=ye;J[20]=xe;J[21]=We;J[22]=Xe;J[23]=Ye;ja=J;ja[1]=t(Ze)?28:29;return O}if(1===wa){var $e=p instanceof I,ja=J;ja[1]=t($e)?2:3;return O}if(24===wa){var sb=J[7],Hb=J[8],Tb=J[9],ic=J[10],wc=J[11],Ub=J[12],vd=J[17],kd=J[24],xc=J[13],jc=J[14],Vb=J[15],qb=J[16],Hd=J[2],Vd=Aq(Tb,jc),Ae=[Wi,pl,Rl,wo,Zj],ff=ce(Ae,[function(){return function(a,b,c,d,e,f,g,h,k,l,n,p,q,r,x,y,B,E,G,H,J,K,P,Q,R,S,T,U,
V,X,Y,aa,ba,ca,da,ea,ga,ja,oa,pa,va,wa,Ba,Ha){return function(a,b){var c=new M(null,2,5,N,[a,b],null);return Ha.a?Ha.a(c):Ha.call(null,c)}}(Vb,xc,qb,Hb,wc,Hd,Ub,Vd,sb,e,jc,ic,f,sb,Hb,Tb,ic,wc,Ub,vd,kd,xc,jc,Vb,qb,Hd,Vd,Ae,wa,a,b,c,d,e,f,g,h,k,l,n,p,q,r,x,y,B,E,G,H,K,P,Q,R,S,T,U,V,X,Y,aa,ba,ca,da,ea,ga,oa,pa,va,Ba,Ha,Sa,Ta,Xa,$a,kb,ub,wb,xb,Bb,Gb,Ib,Nb,Ob,ec,fc,gc,qc,rc)}(),.99,.7,.01,.01]),Kf=Cq(sb,.0625),Lf=Cq(Vd,.0625),Mf=Lr(ff,Kf,Lf),af=Cq(Mf,16),Vc=Cq(af,2);J[17]=af;J[18]=Vc;J[24]=Hd;ja=J;ja[1]=
t(Hd)?25:26;return O}if(39===wa){var jc=J[14],Nf=Cq(jc,.5),bf=ja=J;bf[2]=Nf;bf[1]=40;return O}if(4===wa){var Qg=J[2];J[25]=Qg;var cf=ja=J;cf[2]=null;cf[1]=10;return O}if(15===wa){var Of=[u("canvas layer "),u(p),u(" not found.")].join("");throw Error(Of);}if(21===wa){var Pf=J[2],ja=J;ja[2]=Pf;Kp(ja);return O}if(31===wa){var df=ja=J;df[2]=null;df[1]=33;return O}if(32===wa){var Qf=eq(gl,.5),ef=ja=J;ef[2]=Qf;ef[1]=33;return O}if(40===wa){var ic=J[10],vd=J[17],ze=J[26],qb=J[16],Rf=J[2],Sf=ic+.2,Uf=qb,
sb=vd,jc=Rf,xc=ze;J[7]=sb;J[10]=Sf;J[13]=xc;J[14]=jc;J[16]=Uf;var gf=ja=J;gf[2]=null;gf[1]=20;return O}if(33===wa){var ic=J[10],vd=J[17],Vc=J[18],cg=J[2],yg=Nq(e,Vc),zg=e.rotation=ic,Ag=W.b?W.b(0,-20):W.call(null,0,-20),Bg=Dq(Ag,ic),Cg=Aq(vd,Bg),Dg=Yf.u(ur,be,Ak,Cg);J[27]=yg;J[28]=zg;J[29]=cg;var Tf=ja=J;Tf[2]=Dg;Tf[1]=30;return O}if(13===wa){wc=J[2];J[11]=wc;var Vf=ja=J;Vf[2]=null;Vf[1]=19;return O}if(22===wa){var sb=J[7],Hb=J[8],$s=z(Hb),Zn=Xd($s),$n=F(Zn,0,null),ao=F(Zn,1,null),at=W.b?W.b($n,ao):
W.call(null,$n,ao),bt=Bq(at,sb),ct=Cq(bt,-1),bo=ja=J;bo[2]=ct;bo[1]=24;return O}if(36===wa){var co=ja=J;co[2]=null;co[1]=37;return O}if(29===wa){var vd=J[17],dt=W.b?W.b(5,13):W.call(null,5,13),et=Aq(vd,dt),ft=Cq(et,2),gt=Nq(e,ft),ht=e.rotation=0,it=Yf.u(ur,be,Ak,null);J[30]=ht;J[31]=gt;var eo=ja=J;eo[2]=it;eo[1]=30;return O}if(6===wa){var jt=[u("canvas layer "),u(p),u(" not found.")].join("");throw Error(jt);}if(28===wa){var xc=J[13],kt=console.log("!",xc);J[32]=kt;ja=J;ja[1]=t(xc)?31:32;return O}if(25===
wa){var lt=eq(Sl,.5),mt=Yf.l(ur,kg,lm,ve,Rd([3],0));J[33]=lt;var fo=ja=J;fo[2]=mt;fo[1]=27;return O}if(34===wa){var nt=J[2],ot=C.a?C.a(ur):C.call(null,ur),pt=0<lm.a(ot);J[34]=nt;ja=J;ja[1]=t(pt)?35:36;return O}if(17===wa){var qt=J[2],ja=J;ja[2]=qt;Kp(ja);return O}if(3===wa){var go=ja=J;go[2]=p;go[1]=4;return O}if(12===wa){var ho=ja=J;ho[2]=p;ho[1]=13;return O}if(2===wa){var io=J[35],jo=vl.a(Or),ko=p.a?p.a(jo):p.call(null,jo);J[35]=ko;ja=J;ja[1]=t(ko)?5:6;return O}if(23===wa){var lo=ja=J;lo[2]=null;
lo[1]=24;return O}if(35===wa)return kd=J[24],ja=J,ja[1]=t(kd)?38:39,O;if(19===wa){wc=J[11];Jp(J,18,17);var rt=wc.addChild(e),st=Ro(new M(null,1,5,N,[Ak],null),new M(null,2,5,N,[80,80],null)),tt=Ro(new M(null,1,5,N,[sm],null),new M(null,2,5,N,[80,80],null)),ut=W.b?W.b(80,80):W.call(null,80,80),vt=xq.j?xq.j():xq.call(null),wt=xq.j?xq.j():xq.call(null),sb=ut,jc=vt,qb=wt,ic=0,xc=!1;J[36]=rt;J[7]=sb;J[10]=ic;J[37]=st;J[13]=xc;J[38]=tt;J[14]=jc;J[16]=qb;var mo=ja=J;mo[2]=null;mo[1]=20;return O}if(11===
wa){var no=J[39],oo=vl.a(Or),po=p.a?p.a(oo):p.call(null,oo);J[39]=po;ja=J;ja[1]=t(po)?14:15;return O}if(9===wa){var Qg=J[25],xt=J[2],yt=Qg.removeChild(f);J[40]=xt;J[41]=yt;ja=J;Kp(ja);return O}if(5===wa){var io=J[35],qo=ja=J;qo[2]=io;qo[1]=7;return O}if(14===wa){var no=J[39],ro=ja=J;ro[2]=no;ro[1]=16;return O}if(26===wa){var so=ja=J;so[2]=null;so[1]=27;return O}if(16===wa){var zt=J[2],to=ja=J;to[2]=zt;to[1]=13;return O}if(38===wa){var kd=J[24],uo=ja=J;uo[2]=kd;uo[1]=40;return O}if(30===wa){var At=
J[2],Bt=p.children.sort(us),ze=Pr(),Ct=oq();J[42]=At;J[26]=ze;J[43]=Bt;ja=J;return Gp(ja,34,Ct)}if(10===wa){Qg=J[25];Jp(J,9,8);var Dt=Qg.addChild(f),Et=p instanceof I;J[44]=Dt;ja=J;ja[1]=t(Et)?11:12;return O}if(18===wa){var wc=J[11],Ft=J[2],Gt=wc.removeChild(e);J[45]=Ft;J[46]=Gt;ja=J;Kp(ja);return O}if(37===wa){var Ht=J[2],vo=ja=J;vo[2]=Ht;vo[1]=21;return O}if(8===wa){var It=J[2],ja=J;return Hp(ja,It)}return null}}(a,b,c,d,e,f,g,h,k,l,n,p,q,r,x,y,B,E,G,H,K,P,Q,R,S,T,U,V,X,Y,aa,ba,ca,da,ea,ga,oa,pa,
va,Ba,Ha,Sa,Ta,Xa,$a,kb,ub,wb,xb,Bb,Gb,ec,Fc,Vb,qc,tc,qb,Wb,rc),a,b,c,d,e,f,g,h,k,l,n,p,q,r,x,y,B,E,G,H,K,P,Q,R,S,T,U,V,X,Y,aa,ba,ca,da,ea,ga,oa,pa,va,Ba,Ha,Sa,Ta,Xa,$a,kb,ub,wb,xb,Bb,Gb,ec,Fc,Vb,qc,tc,qb,Wb,rc)}(),Qc=function(){var a=fc.j?fc.j():fc.call(null);a[6]=y;return a}();return Fp(Qc)}}(q,y,X,x,ca,S,Ba,n,k,r,R,U,d,p,T,Xa,oa,l,oa,d,R,ca,l,X,k,n,p,q,U,r,x,S,y,T,Ba,va,Sa,N,Ta,$a,Ha,N,kb,Qc,ub,N,Gd,qc,rc,N,Gb,ec,fc,Bb,wb,xb,Xa,c,a)}());b[38]=fc;b[39]=Ha;b[40]=rc;b[41]=Sa;b[42]=xb;b[43]=ub;b[44]=
B;return Gp(b,11,Xa)}return 8===c?Hp(b,b[2]):null}}(a),a)}(),d=function(){var d=c.j?c.j():c.call(null);d[6]=a;return d}();return Fp(d)}}(a));return a};var Ma=!1,Ka=function(){function a(a){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new dd(e,0)}return b.call(this,d)}function b(a){return console.log.apply(console,ib?hb(a):gb.call(null,a))}a.A=0;a.C=function(a){a=w(a);return b(a)};a.l=b;return a}(),La=function(){function a(a){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new dd(e,0)}return b.call(this,d)}function b(a){return console.error.apply(console,
ib?hb(a):gb.call(null,a))}a.A=0;a.C=function(a){a=w(a);return b(a)};a.l=b;return a}(),xs=Rd(["This text is printed from src/thekeep/core.cljs. Go ahead and edit it and see reloading in action."],0),ys=be.c(Pa(),Ua,!1),zs=pi(xs,ys);Ka.a?Ka.a(zs):Ka.call(null,zs);if(t(Ma)){var Zs=Pa();Ka.a?Ka.a("\n"):Ka.call(null,"\n");v.b(Zs,Ra)}if("undefined"===typeof Jt){var Jt,Kt=new Qa(null,1,[Bo,"Hello world!"],null);Jt=If?If(Kt):Hf.call(null,Kt)}if("undefined"===typeof rs)var rs=3090490;
if("undefined"===typeof Lt)var Lt=qs();
if("undefined"===typeof Mt)var Mt=function(){var a=Tp(1);sp(function(a){return function(){var c=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var f=a(c);if(!L(f,O)){d=f;break a}}}catch(g){if(g instanceof Object)c[5]=g,Kp(c),d=O;else throw g;}if(!L(d,O))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,
a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.a=b;return d}()}(function(){return function(a){var b=a[1];if(1===b)return b=br(Lt,Cl,new M(null,17,5,N,"img/tiles2.png img/font.png sfx/1up.ogg sfx/blip1.ogg sfx/boop-low.ogg sfx/boop-mid.ogg sfx/die1.ogg sfx/die2.ogg sfx/hurt-low.ogg sfx/hurt-mid.ogg sfx/hurt-mid-2.ogg sfx/lose1.ogg sfx/lose2.ogg sfx/lose-high.ogg sfx/lose-low.ogg sfx/startup.ogg sfx/swoosh.ogg".split(" "),null)),Gp(a,2,b);if(2===b){var b=a[2],c=Jg([new M(null,5,5,N,["A",
17,82,22,89],null),new M(null,5,5,N,["B",24,82,29,89],null),new M(null,5,5,N,["C",31,82,36,89],null),new M(null,5,5,N,["D",38,82,43,89],null),new M(null,5,5,N,["E",45,82,50,89],null),new M(null,5,5,N,["F",53,82,58,89],null),new M(null,5,5,N,["G",60,82,65,89],null),new M(null,5,5,N,["H",67,82,72,89],null),new M(null,5,5,N,["I",74,82,75,89],null),new M(null,5,5,N,["J",77,82,82,89],null),new M(null,5,5,N,["K",84,82,89,89],null),new M(null,5,5,N,["L",91,82,96,89],null),new M(null,5,5,N,["M",98,82,103,
89],null),new M(null,5,5,N,["N",105,82,110,89],null),new M(null,5,5,N,["O",112,82,117,89],null),new M(null,5,5,N,["P",119,82,124,89],null),new M(null,5,5,N,["Q",126,82,131,89],null),new M(null,5,5,N,["R",133,82,138,89],null),new M(null,5,5,N,["S",140,82,145,89],null),new M(null,5,5,N,["T",147,82,152,89],null),new M(null,5,5,N,["U",154,82,160,89],null),new M(null,5,5,N,["V",162,82,167,89],null),new M(null,5,5,N,["W",170,82,175,89],null),new M(null,5,5,N,["X",177,82,182,89],null),new M(null,5,5,N,["Y",
184,82,189,89],null),new M(null,5,5,N,["Z",191,82,196,89],null),new M(null,5,5,N,["a",17,90,21,97],null),new M(null,5,5,N,["b",23,90,27,97],null),new M(null,5,5,N,["c",29,90,33,97],null),new M(null,5,5,N,["d",34,90,38,97],null),new M(null,5,5,N,["e",39,90,43,97],null),new M(null,5,5,N,["f",44,90,47,97],null),new M(null,5,5,N,["g",48,90,52,97],null),new M(null,5,5,N,["h",53,90,57,97],null),new M(null,5,5,N,["i",58,90,59,97],null),new M(null,5,5,N,["j",60,90,62,97],null),new M(null,5,5,N,["k",63,90,
67,97],null),new M(null,5,5,N,["l",68,90,69,97],null),new M(null,5,5,N,["m",70,90,75,97],null),new M(null,5,5,N,["n",76,90,80,97],null),new M(null,5,5,N,["o",81,90,85,97],null),new M(null,5,5,N,["p",86,90,90,97],null),new M(null,5,5,N,["q",91,90,95,97],null),new M(null,5,5,N,["r",96,90,100,97],null),new M(null,5,5,N,["s",101,90,105,97],null),new M(null,5,5,N,["t",106,90,109,97],null),new M(null,5,5,N,["u",110,90,114,97],null),new M(null,5,5,N,["v",115,90,120,97],null),new M(null,5,5,N,["w",121,90,
126,97],null),new M(null,5,5,N,["x",127,90,131,97],null),new M(null,5,5,N,["y",132,90,136,97],null),new M(null,5,5,N,["z",137,90,141,97],null),new M(null,5,5,N,["0",17,100,22,107],null),new M(null,5,5,N,["1",23,100,25,107],null),new M(null,5,5,N,["2",26,100,31,107],null),new M(null,5,5,N,["3",32,100,37,107],null),new M(null,5,5,N,["4",38,100,43,107],null),new M(null,5,5,N,["5",44,100,48,107],null),new M(null,5,5,N,["6",49,100,54,107],null),new M(null,5,5,N,["7",55,100,60,107],null),new M(null,5,5,
N,["8",61,100,66,107],null),new M(null,5,5,N,["9",67,100,72,107],null)]),d=ce(["fo","ro","la"],[-2,-1,-1]),c=Yf.u(or,be,Wk,qr(c,d)),d=Xq(Jm),d=Jq(d);a[7]=c;a[8]=d;a[9]=b;a[2]=null;a[1]=3;return O}return 3===b?(a[1]=5,O):4===b?Hp(a,a[2]):5===b?(b=js(),Gp(a,8,b)):6===b?(a[2]=null,a[1]=7,O):7===b?(a[2]=a[2],a[1]=4,O):8===b?(b=a[2],c=ws(),a[10]=b,Gp(a,9,c)):9===b?(a[11]=a[2],a[2]=null,a[1]=3,O):null}}(a),a)}(),d=function(){var d=c.j?c.j():c.call(null);d[6]=a;return d}();return Fp(d)}}(a));return a}();
})();
